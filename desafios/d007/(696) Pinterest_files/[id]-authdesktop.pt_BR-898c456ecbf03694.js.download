(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63577,8411,34685,78120,55582,26670,96965],{82364:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AggregatedCloseupSavedToBoardInfo_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"1c0dd9839405d82cabfd205ccf6b71f5"};e.exports=t},574604:function(e){"use strict";var t,n,r,i,o,a,l,s,c,u,d,p={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CloseupPageDesktopQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:l=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:l,storageKey:null},s={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CloseupPageDesktopQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r,i,o,{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:d=[a,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:d,storageKey:null},s,u],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"06c73934c3240c6d0f6f9d7d239cc7526422c64445b900a46ab566a59a36cfcd",metadata:{},name:"CloseupPageDesktopQuery",operationKind:"query",text:null}};p.hash="03d1655f6c219d0de7240e4442c63d2e",e.exports=p},582663:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CyclingInterestRepFragment_interest",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:t=[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"cyclingImages",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cyclingImages(spec:"400x")'},{alias:null,args:t,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"400x")'}],type:"Interest",abstractKey:null};r.hash="222069ef21932a5a820528ebe3d8ee6b",e.exports=r},348161:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InterestRepFragment_interest",selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"400x")'},{args:null,kind:"FragmentSpread",name:"CyclingInterestRepFragment_interest"}],type:"Interest",abstractKey:null,hash:"5bac0bc8d6be0173acb361670e952a71"};e.exports=t},906587:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=r},375882:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="2d8f315013487d39e45789c61794f121",e.exports=n},396190:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SavedToText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"726966a5dc7cf7fa52c9cdb9ab829535"};e.exports=t},337148:function(e){"use strict";var t,n,r={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaOnIdeaPinPermissionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCurrentUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[t={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ipStelaRecDisabled",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"V3GetCurrentUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"StelaOnIdeaPinPermissionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCurrentUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[n,t,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"V3GetCurrentUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"2653a6ed13b2a48a0adbce54781b1b88b025b8bd93a112b8a0bd15da606dcbe9",metadata:{},name:"StelaOnIdeaPinPermissionQuery",operationKind:"query",text:null}};r.hash="c061d1400492f868408772f86f659738",e.exports=r},778067:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="7953fa63396575af7d4f10f29b042a52",e.exports=n},695838:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinPreviewText_pin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinListModal_pin"}],type:"Pin",abstractKey:null,hash:"c28609454ab6fbc42bf4c18013956c35"};e.exports=t},323267:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinListModal_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinList_pin"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"Pin",abstractKey:null,hash:"4b9af17c20e8348390bfc6188250ca3c"};e.exports=t},56637:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinList_pin",selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n],type:"SupplyBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinData",abstractKey:null};r.hash="58ca192c8da31187227f6d6d9370c6ca",e.exports=r},418133:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPreviewText_pin",selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"extractPreviewText_basics"}],storageKey:null}],storageKey:null}],type:"StoryPinData",abstractKey:null,hash:"e4cc11390c59ecdb92d49b62d57a0d65"};e.exports=t},360157:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"extractPreviewText_basics",selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinBasics",abstractKey:null};r.hash="70e84f7d1d0b4c8f0d2d282682155e30",e.exports=r},848842:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};r.hash="8d7bd7a5f2c2827017b3814423934967",e.exports=r},96795:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},236804:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-3a74afad.svg"},615601:function(e){e.exports="https://s.pinimg.com/webapp/haha-403b10ff.svg"},879210:function(e){e.exports="https://s.pinimg.com/webapp/love-a7ffb465.svg"},104220:function(e){e.exports="https://s.pinimg.com/webapp/thanks-7994286c.svg"},138009:function(e){e.exports="https://s.pinimg.com/webapp/wow-0a7ea725.svg"},347702:function(e){e.exports="https://s.pinimg.com/webapp/commentHelpful-55781e6a.svg"},852544:function(e){e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-1e39c058.svg"},430467:function(e){e.exports="https://s.pinimg.com/webapp/commentLoved-89903abe.svg"},240291:function(e){e.exports="https://s.pinimg.com/webapp/commentLovedOutline-ce03475d.svg"},68034:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-90cc9e5e.svg"},318634:function(e){e.exports="https://s.pinimg.com/webapp/haha-33f54d88.svg"},667753:function(e){e.exports="https://s.pinimg.com/webapp/heartOutline-1f1b1ac2.svg"},503697:function(e){e.exports="https://s.pinimg.com/webapp/heartOutlineWhite-2b63164b.svg"},459588:function(e){e.exports="https://s.pinimg.com/webapp/love-596776c1.svg"},480597:function(e){e.exports="https://s.pinimg.com/webapp/thanks-20ad07d3.svg"},674218:function(e){e.exports="https://s.pinimg.com/webapp/wow-d0a865e5.svg"},225634:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]"]=function(){return n(443419).default}},274585:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/comments"]=function(){return n(443419).default}},124082:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/comments/[comment_id]"]=function(){return n(443419).default}},313655:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/feedback"]=function(){return n(443419).default}},284357:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/sent"]=function(){return n(443419).default}},130905:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/share"]=function(){return n(443419).default}},994608:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{CA:function(){return a},Gv:function(){return o},k5:function(){return l}});var o=function(e,t,n){var r;return!t.is_repin&&!!e.isPartner&&[e.id,n].includes(null===(r=t.pinner)||void 0===r?void 0:r.id)},a=function(e,t){return!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0)&&t.checkExperiment("trends_show_on_closeup").anyEnabled},l=function(e,t){if(!e)return e;var n=r(e).filter((function(e){var t;return!(null===(t=e.mom_change)||void 0===t||!t.roundedPercentChange)&&e.mom_change.roundedPercentChange>0}));return n.length<=t?n:new Array(t).fill(1).map((function(){var e=Math.floor(Math.random()*n.length);return n.splice(e,1)[0]}))}},105265:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(116303),i=n(908390),o=n(515198);function a(e){var t=e.user,n=e.size,a=void 0===n?"md":n,l=e.hasOutline,s=t.first_name,c=t.image_medium_url,u=t.username;return(0,o.jsx)(i.iP,{role:"link",rounding:"circle",href:"/".concat(u,"/"),children:(0,o.jsx)(r.Z,{size:a,src:null!=c?c:"",name:s||u||"",outline:l})})}},182750:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(76911),i=n(954931),o=n(845620),a=n.n(o),l=n(89254),s=n(610248),c=n(908390),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=new(a());y.tlds(s),y.add("#",{validate:function(e,t,n){var r=e.slice(t);return n.re.hashtag||(n.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+n.re.src_ZPCc+")")),n.re.hashtag.test(r)?!(t>=2&&"#"===r[t-2])&&r.match(n.re.hashtag)[0].length:0},normalize:function(e){e.url="https://pinterest.com/search/pins/?q=".concat(encodeURIComponent(e.text),"&rs=hashtag_pinrep")}});var v=function(e){var t=e.decoratedHref,n=e.decoratedText,r=e.index,i=e.isTrusted;return(0,u.jsx)(c.rU,{href:t,onClick:function(e){e.event.stopPropagation()},target:i?null:"blank",children:n},r)},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,o,a=m(s);function s(){return p(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"parseString",value:function(e){if(""===e)return e;var t,n=(t=e,y.match(t));if(!n)return e;var r=[],o=0;return n.forEach((function(t,n){t.index>o&&r.push(e.substring(o,t.index));var a=t.url,s=(0,i.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(s){var c=(0,l.Z)(t.url);a=a.replace(c.origin,"")}var d=t.text,p=(0,u.jsx)(v,{decoratedHref:a,decoratedText:d,index:n,isTrusted:s});r.push(p),o=t.lastIndex})),e.length>o&&r.push(e.substring(o)),1===r.length?r[0]:r}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e?this.parseString(e):(0,r.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,r.cloneElement)(e,{key:n},this.parse(e.props.children)):Array.isArray(e)?e.map((function(e,n){return t.parse(e,n)})):e}},{key:"render",value:function(){return(0,u.jsx)("span",{children:this.parse(this.props.children)})}}])&&f(t.prototype,n),o&&f(t,o),s}(r.PureComponent)},986644:function(e,t,n){"use strict";n.d(t,{A7:function(){return i},YD:function(){return o},lr:function(){return r}});var r=170,i=function(e,t,n){var r=new Date(e),i=(new Date).getTime()-r.getTime();return Math.floor(i/1e3)<60?t.bt("agora", "now", "timestamp for a comment or post that was created within the last minute", undefined, true):n(e,!0)},o=function(e){var t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},283855:function(e,t,n){"use strict";n.d(t,{K:function(){return a},Q:function(){return o}});var r=n(76911),i=(0,r.createContext)(null),o=i.Provider;function a(){var e=(0,r.useContext)(i);return null==e?void 0:e.featuredCommentId}},964569:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,i=n(506979),o=n(6637),a=n(422946),l=n(956800),s=n(274415),c=n(600147),u=n(139405),d=n(664569);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(m(r={},d.o.aggregatedComment,"AggregatedCommentReplyResource"),m(r,d.o.pin,"AggregatedCommentResource"),m(r,d.o.didIt,"DidItCommentsResource"),r);function g(){var e=(0,i.useDispatch)(),t=(0,u.nf)(),n=t.aggregatedCommentCreated,r=t.updateCommentCount;return function(){var t,i=(t=regeneratorRuntime.mark((function t(i){var u,d,p,h,m,g,y,v,b,x,P,w,j,S,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.force,d=void 0===u||u,p=i.fromUnifiedComment,h=i.objectId,m=i.objectType,g=i.orbacSubjectId,y=i.pinId,v=i.replyToCommentId,b=i.tags,x=i.text,P=_[m],w=f({force:d,objectId:h,pinId:y,tags:b,text:x,replyToCommentId:v},g?{orbacSubjectId:g}:{}),j=a.DV.AGGREGATED_COMMENTS,p&&(j="pin"===m?a.DV.UNIFIED_COMMENTS:a.DV.AGGREGATED_COMMENT_REPLIES),t.next=7,o.Z.create(P,w).callCreate({showError:!1});case 7:return S=t.sent,O=S.resource_response.data,n(h,O),e((0,l.vX)({feedType:j,feedId:h,itemIds:[O.id],itemType:O.type})),"pin"===m&&y?e((0,s.R)(y,1)):"aggregatedComment"===m?r(h,1):e((0,c.L8)(h,1)),t.abrupt("return",O.id||S);case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){h(o,r,i,a,l,"next",e)}function l(e){h(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}()}},28754:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(506979),i=n(6637),o=n(541776),a=n(422946),l=n(956800),s=n(274415),c=n(600147),u=n(139405);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function m(){var e=(0,r.useDispatch)(),t=(0,u.nf)(),n=t.aggregatedCommentDeleted,d=t.updateCommentCount;return function(){var t,r=(t=regeneratorRuntime.mark((function t(r){var u,f,h,m,_,g,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=r.aggregatedCommentId,f=r.aggregatedPinId,h=r.feedType,m=r.orbacSubjectId,_=r.parentId,g=r.type,y=r.updateParentCommentCount,t.next=3,i.Z.create("AggregatedCommentResource",p({commentId:u},m?{orbacSubjectId:m}:{})).callDelete({showError:!1});case 3:_&&(e((0,l.EX)({feedId:f||_,feedType:h||a.DV.AGGREGATED_COMMENTS,itemIds:[u],itemType:"aggregatedcomment"})),n(_,u),y&&(g||0===g)&&(g===o.Rv.TOP?e((0,s.R)(_,-1)):g===o.Rv.REPLY_TO_AGGREGATED?d(_,-1):e((0,c.L8)(_,-1))));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){h(o,r,i,a,l,"next",e)}function l(e){h(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},491431:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var r=n(615568),i=n(76911),o=n(506979),a=n(312918),l=n(319915),s=n(701500),c=n(605028),u=n(947599),d=n(784590),p=n(116303),f=n(694379),h=n(898781),m=n(142103),_=n(19121),g=n(349700),y=n(908390),v=n(515198),b=function(e){var t=e.creatorData,n=e.onTap,r=e.onUserFollow,i=(0,h.ZP)(),o=(0,_.Z)(),a=t||{},l=a.explicitly_followed_by_me,s=a.follower_count,c=void 0===s?0:s,u=a.full_name,d=a.id,b=a.image_medium_url,x=a.username,P=a.verified_identity,w="/".concat(x,"/");return(0,v.jsx)(y.sg,{span:4,children:(0,v.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:1,dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},children:[(0,v.jsx)(y.iP,{href:w,onTap:function(){return n(d)},role:"link",children:(0,v.jsxs)(y.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(y.xu,{width:60,height:60,children:(0,v.jsx)(p.Z,{name:null!=u?u:"",size:"fit",src:null!=b?b:"",verified:!(null==P||!P.verified)})}),(0,v.jsxs)(y.xu,{paddingY:2,marginBottom:1,children:[(0,v.jsx)(y.xu,{marginBottom:1,children:(0,v.jsx)(y.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:u})}),(0,v.jsx)(y.xv,{align:"center",size:"100",children:(0,g.nk)(i.nbt(["{{ followerCount }} seguidor", "{{ followerCount }} seguidores"], c, "suggestedCreatorRep.creator.followerCount", true),{followerCount:(0,v.jsx)(f.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:c},c)})})]})]})}),(0,v.jsx)(m.Z,{fullName:u,id:d,imageUrl:b,isOwnProfile:o.isAuth&&o.id===d,profileUrl:"/".concat(x,"/"),userFollowed:l,onUserFollow:function(e){return r({userIsNowFollowing:e,creatorId:d})},isSecondaryButton:!0,size:"sm",shouldStopEventPropagation:!0,viewType:3,viewParameter:156})]})})},x=n(829407),P=n(407043);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=e.creatorRecs,n=e.fullName,r=e.pinId,i=e.viewParameter,o=e.viewType,a=(0,P.v)().logContextEvent,l=(0,h.ZP)();(0,x.Z)((function(){a({event_type:13,component:13891,view_parameter:i,view_type:o,aux_data:j({},r?{pin_id:r}:{})})}));var s=function(e){a({event_type:101,component:13891,view_parameter:i,view_type:o,object_id_str:e,aux_data:j({},r?{pin_id:r}:{})})},c=function(e){var t=e.userIsNowFollowing,n=e.creatorId;a(t?{event_type:45,component:13891,object_id_str:n,view_parameter:i,view_type:o,aux_data:j({},r?{pin_id:r}:{})}:{event_type:46,component:13891,object_id_str:n,view_parameter:i,view_type:o,aux_data:j({},r?{pin_id:r}:{})})};return(0,v.jsx)(y.xu,{minWidth:440,paddingY:4,children:(0,v.jsxs)(y.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[n&&(0,v.jsx)(y.X6,{align:"center",size:"300",children:(0,g.nk)(l.bt("Mais como {{creatorName}}", "More like {{creatorName}}", "suggestedCreatorRecs.title", undefined, true),{creatorName:n})}),(0,v.jsx)(y.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:t.map((function(e){return(0,v.jsx)(b,{creatorData:e.user,onTap:s,onUserFollow:c},e.user_id)}))})]})})},k=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity"],C=function(e){var t=e.fullName,n=e.id,r=e.numCreatorsToShow,i=void 0===r?3:r,o=e.pinId,a=e.viewParameter,l=e.viewType,s=(0,d.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:k.join(","),page_size:i,referrer:4,target_user:n}}});if(!s.isLoaded||!s.data||s.data.length!==i)return null;var c=s.data||[];return(0,v.jsx)(O,{creatorRecs:c,fullName:t,pinId:o,viewParameter:a,viewType:l})},A=n(350118),I=n(558068);var E=function(e){var t,n,r=(0,A.S6)()(e);if((t=(0,I.Hv)().forward,!(!(n=t&&t.length>0&&t[0].match&&t[0].match.path?t[0].match.path:null)||!function(e){return e.includes("/:username")}(n)))&&r){var i=(0,c.Z)(r),o=i.isLeadPin,a=i.isProduct;return{creatorRecsPrevState:!(!r||o||a)&&!!r.show_suggested_creator_recs}}return{creatorRecsPrevState:!1}},T=n(447948),D=n(780280);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var i=U(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=(0,i.lazy)((function(){return n.e(88814).then(n.bind(n,188814))})),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(d,e);var t,n,r,o=M(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),H(N(t=o.call(this,e)),"anchorElementRef",(0,i.createRef)()),H(N(t),"handleNavigateAndLog",(function(e,n){var r,i,o,a,l=t.props,s=l.onNavigateClick,c=l.pin,u=c.id,d=c.sponsorship,p=c.story_pin_data_id,f=(d||{}).creator,h=(f=void 0===f?{}:f).id,m=!!p;e===n?t.props.logContextEvent(Z(Z({event_type:101,element:13382,view_type:t.viewType,view_parameter:t.viewParameter},m?{component:230}:Object.freeze({})),{},{object_id_str:u,aux_data:Z({pin_id:u,creator_id:h,aop_origin:"CreatorCard"},m?{story_pin_template_type:null===(r=c.story_pin_data)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.template_type}:{})})):t.props.logContextEvent(Z(Z({event_type:101,view_type:t.viewType,view_parameter:t.viewParameter,element:11619},m?{component:230}:Object.freeze({})),{},{object_id_str:u,aux_data:Z({pin_id:u,creator_id:h},m?{story_pin_template_type:null===(o=c.story_pin_data)||void 0===o||null===(a=o.metadata)||void 0===a?void 0:a.template_type}:{})}));s&&s()})),H(N(t),"handleNavigateAndLogSponsorClick",(function(){var e=t.props,n=e.onNavigateClick,r=e.pin,i=r.id,o=r.sponsorship,a=r.story_pin_data_id,l=o||{},s=l.creator,c=(s=void 0===s?{}:s).id,u=l.sponsor,d=(u=void 0===u?{}:u).id,p=!!a;c&&d&&t.props.logContextEvent(Z(Z({event_type:101,view_type:t.viewType,view_parameter:t.viewParameter,element:11619},p?{component:230}:Object.freeze({})),{},{object_id_str:i,aux_data:{pin_id:i,creator_id:c,sponsor_id:d}})),n&&n()})),H(N(t),"handleUserFollow",(function(e,n){var r=t.props,i=r.dispatch,o=r.pin,a=o.id,l=o.done_by_me;a.length;n?(t.props.logContextEvent({event_type:45,view_type:t.viewType,view_parameter:t.viewParameter,object_id_str:e,view_data:{isCurrentUser:l,viewObjectId:a,viewObjectIdStr:a},aux_data:{pin_id:a}}),t.setState({shouldShowCreatorRecs:!0}),i((0,T.Vw)(a))):t.props.logContextEvent({event_type:46,view_type:t.viewType,view_parameter:t.viewParameter,object_id_str:e,aux_data:{pin_id:a}})}));var n=e.officialUser;return t.state={shouldShowCreatorRecs:e.suggestedCreatorRecsPrevState,user:n},t}return t=d,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.officialUser;if(n&&n!==t.user)return Z(Z({},t),{},{user:n});var r=e.suggestedCreatorRecsPrevState;return r&&!t.shouldShowCreatorRecs?Z(Z({},t),{},{shouldShowCreatorRecs:r}):null}}],(n=[{key:"viewType",get:function(){return this.props.viewType||3}},{key:"viewParameter",get:function(){return this.props.viewParameter||156}},{key:"shouldShowCreatorRecs",get:function(){var e=this.props.pin,t=(0,c.Z)(e),n=t.isLeadPin,r=t.isProduct;return Boolean(!n&&!r&&this.state.shouldShowCreatorRecs)}},{key:"renderProfile",value:function(e){var t,n,r,i=this,o=this.props,c=o.color,d=o.pin,p=o.viewer,f=o.isORBACProfileManager,h=this.props.requestContext.experimentsClient,_=e.full_name,g=e.follower_count,b=e.id,x=e.image_medium_url,P=e.is_verified_merchant,w=e.username,j=Boolean(null===(t=e.verified_identity)||void 0===t?void 0:t.verified),S=this.shouldShowCreatorRecs,O=d||{},k=O.ad_match_reason,A=O.board,I=O.id,E=O.images,T=O.is_promoted,D=O.pinner,z=O.promoter,R=O.source_interest,Z=O.sponsorship,L=O.recommendation_reason,B=p.isAuth&&p.id===b,M=h.checkExperiment("web_ads_only_profiles_link_redirect").anyEnabled&&(null==D?void 0:D.is_ads_only_profile)&&null!=D&&D.ads_only_profile_site?D.ads_only_profile_site:"/".concat(w,"/"),F=Z||{},N=F.sponsor,U=F.status,H=N||{},W=H.full_name,G=void 0===W?"":W,K=H.username,q=void 0===K?"":K;return(0,v.jsxs)(y.xu,{children:[(0,v.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(y.xu,{flex:"grow",children:(0,v.jsx)(a.default,{color:c,followerCount:g,fullName:_,imageUrl:x,hasVerifiedIdentity:j,isVerifiedMerchant:P,isPromoted:!!z&&T,onNavigateClick:function(){return i.handleNavigateAndLog(M,null==D?void 0:D.ads_only_profile_site)},onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,profileUrl:M,sponsorName:G,sponsorshipStatus:U,sponsorUsername:q,openNewTab:M===(null==D?void 0:D.ads_only_profile_site)})}),!f&&(z&&T?(0,v.jsx)(l.Z,{name:"SafeSuspense_CreatorCard_LegacyPinFeedbackButton",children:(0,v.jsx)(u.Z,{children:(0,v.jsx)(V,{ad_match_reason:k,board:A,feedbackData:{},feedbackType:"promoted",pinId:I,pinImage:null!==(n=null==E||null===(r=E["236x"])||void 0===r?void 0:r.url)&&void 0!==n?n:"",pinner:D,promoter:z,isPromoted:!!z&&T,recommendationReason:L,sourceInterest:R,viewParameter:139,viewType:this.viewType})})}):(0,v.jsx)(y.xu,{flex:"none",children:(0,v.jsx)(y.xu,{children:!B&&(0,v.jsx)(s.Z,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,v.jsx)(y.xu,{ref:this.anchorElementRef,children:(0,v.jsx)(m.Z,{button:function(e){var t=e.followText,n=e.onClick,r=e.userFollowed;return(0,v.jsx)(y.xu,{"data-test-id":"user-".concat(r?"unfollow":"follow","-button"),children:(0,v.jsx)(y.zx,{fullWidth:!0,accessibilityLabel:r?i.props.i18n.bt("Seguindo", "Following", "creatorCard.followingButton.accessibilityLabel", undefined, true):i.props.i18n.bt("Seguir", "Follow", "creatorCard.followButton.accessibilityLabel", undefined, true),onClick:n,size:"lg",text:t,selected:!!r})})},fullName:_,id:b,imageUrl:x||"",inline:!0,isOwnProfile:B,onUserFollow:function(e){return i.handleUserFollow(b,e)},profileUrl:M,size:"md",viewType:this.viewType,viewParameter:this.viewParameter})})})})}))]}),S&&(0,v.jsx)(C,{fullName:_,id:b,pinId:I,viewType:this.viewType,viewParameter:this.viewParameter})]})}},{key:"render",value:function(){var e=this.state.user;if(!e)return(0,v.jsx)(y.xu,{});var t=this.renderProfile(e);return(0,v.jsx)(y.xu,{position:"relative",children:t})}}])&&L(t.prototype,n),r&&L(t,r),d}(i.PureComponent);function G(e){var t=(0,P.v)().logContextEvent,n=(0,h.ZP)(),r=E(e.pin.id).creatorRecsPrevState;return(0,v.jsx)(W,Z(Z({},e),{},{dispatch:(0,o.useDispatch)(),requestContext:(0,D.B)(),i18n:n,logContextEvent:t,suggestedCreatorRecsPrevState:r}))}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=(0,r.Z)((function(e){return(0,v.jsx)(G,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}))},198539:function(e,t,n){"use strict";n.d(t,{Z:function(){return wr}});var r=n(76911),i=n(506979),o=n(76050),a=n(51316),l=n(385937),s=n(940107),c=n(172071),u=n(386360),d=n(280313),p=n(949318),f=n(392019),h=n(717615),m=n(19121),_=n(283855),g=n(231947),y=n(763917),v=n(826067),b=n(203138),x=n(394215),P=n(319247),w=n(52722),j=n(271040),S=n(319915),O=n(673270),k=n(147128),C=n(502517),A=n(296982),I=n(534991),E=n(834911),T=n(737022),D=n(165733),z=n(743217),R=n(627387),Z=n(835209),L=n(13713),B=n(802933),M=n(186986),F=n(206663),N=n(825490),U=n(908390),H=n(276602),V=n(515198);function W(e){var t=(0,H.EV)();return(0,r.useEffect)((function(){var n=document.getElementById(e.containerId);if(null==n)null==t||t.removeConstraint("thumbnailsLoaded");else{var r=Array.from(n.querySelectorAll("*")).filter((function(e){return e.style.backgroundImage&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return!(!n||!r)&&n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right}(e,n)})),i=r.length;r.forEach((function(e){e.onload=void(i-=1),0===i&&(null==t||t.markConstraintComplete("thumbnailsLoaded"))}))}}),[e.containerId,t]),(0,V.jsx)(U.xu,{id:"imageContainerPerf",children:e.children})}var G=n(251819),K=n(954571),q=n(411938),X=n(343591),Y=n(4294),$=n(849418),Q=n(507712);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=n(712331),oe=n(692627),ae=n(970576),le=n(558329),se=n(498537),ce=n(668627),ue=n(865607),de=n(407043),pe=n(773285),fe=n(609500);function he(e){var t=e.displayName,n=e.fontWeight,r=void 0===n?"normal":n,i=e.user,o=(0,fe.useHistory)(),a=(0,pe.F)().checkExperiment,l=(0,de.v)().logContextEvent,s=i.is_verified_merchant,c=i.full_name,u=void 0===c?"":c,d=i.verified_identity,p=i.username,f=void 0===p?"":p,h=i.is_ads_only_profile,m=i.ads_only_profile_site,_=s||(null==d?void 0:d.verified),g=(0,V.jsxs)(U.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,V.jsx)(U.xv,{size:"300",lineClamp:1,weight:r,children:t?t(u):u}),_&&(0,V.jsx)(U.xu,{marginStart:2,children:(0,V.jsx)(ue.Z,{isVerifiedMerchant:s,hasVerifiedIdentity:null==d?void 0:d.verified,size:"sm"})})]});return a("web_ads_only_profiles_link_redirect").anyEnabled&&h&&!!m?(0,V.jsx)(U.iP,{role:"link",rel:"nofollow",target:"blank",href:m||"",onTap:function(){l({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},children:g}):(0,V.jsx)(U.iP,{onTap:function(){return o.push("/".concat(f,"/"))},children:g})}var me=n(222704);function _e(e){var t=e.lineStyle;return(0,V.jsx)(U.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%","data-test-id":"strikethrough",children:(0,V.jsx)(U.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderStyle:t,borderColor:"#111111",transform:"rotate(-45deg)"}},width:"80%",zIndex:new U.Ry(1)})})}function ge(e){var t=e.imageUrl,n=e.size,r=e.status,i=e.value,o="invalid"===r?"dashed":"solid",a="available"!==r?.4:1;return(0,V.jsxs)(U.xu,{position:"relative",children:["available"!==r&&(0,V.jsx)(_e,{lineStyle:o}),(0,V.jsx)(U.zd,{wash:!0,children:(0,V.jsx)(U.xu,{"data-test-id":"variant-image-container",height:n,opacity:a,width:n,children:(0,V.jsx)(U.Ee,{alt:i,color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})})]})}var ye=n(699825),ve=n(898781),be=n(287072),xe=n(215292);function Pe(e){var t=e.anchor,n=e.link,r=e.onClickThrough,i=e.onDismiss,o=e.pin,a=e.viewParameter,l=(0,de.v)().logContextEvent,s=(0,be.Z)({href:n,externalData:{pin:o}}),c=(0,ve.ZP)();return(0,V.jsx)(U.mh,{children:(0,V.jsx)(U.J2,{anchor:t,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:i,positionRelativeToAnchor:!1,size:210,role:"dialog",children:(0,V.jsx)(xe.q,{children:function(e){var t=e.hovered;return(0,V.jsx)(ye.Z,{hovered:t,pin:o,viewType:3,children:(0,V.jsx)(U.xu,{padding:4,children:(0,V.jsxs)(U.kC,{alignItems:"center",direction:"column",gap:{row:0,column:3},children:[(0,V.jsx)(U.xv,{color:"inverse",align:"center",children:c.bt("Nenhuma prévia disponível. Acesse o site para ver mais imagens.", "No preview. Visit site to check for more images.", "productDetailPage.primaryDimension.variant.popover.text", undefined, true)}),(0,V.jsx)(U.zx,{color:"white",onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),r&&r({componentType:143,viewType:3,elementType:361}),l({event_type:101,component:143,view_type:3,view_parameter:a,element:361}),s({event:t})},text:c.bt("Acessar", "Visit", "productDetailPage.primaryDimension.variant.popover", undefined, true)})]})})})}})})})}var we=n(883561);function je(e){var t=e.height,n=e.status,r=e.text,i="outOfStock"===n?"line-through":"none",o="outOfStock"===n?"subtle":"default",a="invalid"===n?"dashed":"solid",l=(0,we.ZP)(r,18);return(0,V.jsx)(U.xu,{alignItems:"center",borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderStyle:a}},"data-test-id":"variant-text-container",display:"flex",height:t,paddingX:4,rounding:De,children:(0,V.jsx)(U.xv,{weight:"bold",color:o,children:(0,V.jsx)(U.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:i}},"data-test-id":"variant-text",children:l})})})}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||Ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te={sm:48,lg:80},De=4;function ze(e){var t=e.commerceData,n=void 0===t?{}:t,i=e.link,o=e.name,a=e.onClickThrough,l=e.onSelect,s=e.pin,c=e.selected,u=void 0===c?"":c,d=e.variants,p=e.viewParameter,f=(0,de.v)().logContextEvent,h=Ae((0,r.useState)(!1),2),m=h[0],_=h[1],g=Ae((0,r.useState)(!1),2),y=g[0],v=g[1],b=(0,r.useRef)(),x=(0,ve.ZP)(),P=d.filter((function(e){var t;return!(null===(t=e.image)||void 0===t||!t.url)})),w=d.filter((function(e){var t;return!(null!==(t=e.image)&&void 0!==t&&t.url)})),j=[].concat(Ce(P),Ce(w)),S=j.length<5&&0===w.length?"lg":"sm",O=x.bt("Não disponível com outras seleções", "Unavailable with other selections", "productMetadata.primaryDimension.invalidVariant", undefined, true);(0,r.useEffect)((function(){f({event_type:120,component:143,view_type:3,view_parameter:p,aux_data:Oe({},n)})}),[]);var k=function(e){var t=e.event,n=e.imageUrl,r=e.value;t.preventDefault(),t.stopPropagation(),"invalid"!==status&&(n||y||(_(!0),v(!0)),l({dimensionName:o,variant:r}))},C=(0,r.useRef)(),A=(0,r.useRef)(),I=Ae((0,r.useState)("undetermined"),2),E=I[0],T=I[1];return(0,r.useEffect)((function(){if(C.current&&A.current&&"undetermined"===E){var e=C.current.getBoundingClientRect().width,t=A.current.getBoundingClientRect().width;T(t<=e?"show":"hide")}}),[E,C,A]),(0,V.jsxs)(U.xu,{display:"flex",direction:"column",ref:C,children:[(0,V.jsxs)(U.xu,{marginBottom:2,children:[(0,V.jsxs)(U.xv,{inline:!0,weight:"bold",children:[o,":"]}),(0,V.jsx)(U.xv,{inline:!0,children:" ".concat(u)})]}),(0,V.jsxs)(U.xu,{overflow:"hidden",position:"relative",children:[(0,V.jsx)(U.xu,{width:"fit-content",ref:A,paddingX:1,children:(0,V.jsx)(U.kC,{wrap:"show"===E,alignItems:"center",children:j.map((function(e){var t=e.image,n=e.value,r=e.status,i=n===u,o=null==t?void 0:t.url,a=function(e){var t=e.text,n=e.invalidText;return t&&n?"".concat(t," - ").concat(n):t||n}({text:n.length>18&&!o?n:void 0,invalidText:"invalid"===r?O:void 0}),l=o?(0,V.jsx)(ge,{status:r,imageUrl:o,size:Te[S],value:n}):(0,V.jsx)(je,{text:n,height:Te[S],status:r});return(0,V.jsx)(U.xu,{"data-test-id":"primary-variant",paddingY:1,marginEnd:2,ref:i?b:null,flex:"none",children:(0,V.jsx)(U.iP,{onTap:function(e){var t=e.event;k({event:t,imageUrl:o,value:n}),"show"!==E&&T("show")},children:(0,V.jsx)(me.Z,{outlined:i,rounding:De,children:a?(0,V.jsx)(U.u,{idealDirection:"up",text:a,zIndex:new U.Ry(2),children:l}):l})})},n)}))})}),"show"!==E&&(0,V.jsx)(U.xu,{alignItems:"center",color:"default","data-test-id":"show-more-variant",display:"flex",height:"100%",position:"absolute",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"-4px 0 6px 2px rgb(255 255 255)",paddingLeft:12,paddingRight:2}},children:"hide"===E&&(0,V.jsx)(U.zx,{color:"gray",onClick:function(){T("show")},size:"sm",text:x.bt("+ Mais", "+ More", "productMetadata.primaryDimension.moreButton", undefined, true)})})]}),m&&(0,V.jsx)(Pe,{anchor:b.current,link:i,onClickThrough:a,onDismiss:function(){_(!1)},pin:s,viewParameter:p})]})}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e){var t=e.content,n=e.header,i=e.maxHeight,o=e.onClose,a=e.onOpen,l=Re((0,r.useState)(!1),2),s=l[0],c=l[1],u=Re((0,r.useState)(0),2),d=u[0],p=u[1],f=(0,r.useRef)(null),h=(0,ve.ZP)();(0,r.useLayoutEffect)((function(){if(void 0===i&&f.current){var e=f.current.getBoundingClientRect().height;e>d&&p(Math.ceil(e))}}),[d,i]);return(0,V.jsx)(U.iP,{onTap:function(e){c(!s),o&&s&&o(e),a&&!s&&a(e)},children:(0,V.jsxs)(U.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,V.jsxs)(U.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,children:[(0,V.jsx)(U.xv,{weight:"bold",size:"300",children:n}),(0,V.jsx)(U.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:s?"rotate(-90deg)":""}},children:(0,V.jsx)(U.JO,{accessibilityLabel:h.bt("Ícone de expansão", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:"arrow-forward"})})]}),(0,V.jsx)(U.xu,{"data-test-id":"accordion-panel",opacity:s?1:0,height:s?i||d:0,overflow:void 0===i?"hidden":"auto",marginBottom:s?5:0,dangerouslySetInlineStyle:{__style:{transition:"all 0.3s ease-in-out, visibility 0s linear ".concat(s?"0s":"0.3s"),visibility:s?"visible":"hidden"}},children:(0,V.jsx)(U.xu,{ref:f,children:t})})]})})}var Be=n(540923);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ve=function(e){var t=e.onOpen,n=e.structuredDescription,i=(0,ve.ZP)(),o=(0,H.EV)(),a=(0,r.useCallback)((function(){o&&o.markConstraintComplete("description")}),[o]);return(0,V.jsx)(Le,{header:i.bt("Detalhes do produto", "Product Details", "productDetails.accordionHeader.text", undefined, true),content:(0,V.jsx)(U.xu,{paddingY:1,children:(0,V.jsx)(Be.Z,{descriptions:n,onLoad:a})}),onOpen:t})},We=function(e){var t,n=e.isOpen,i=e.onOpen,o=e.structuredDescription,a=Ue((0,r.useState)(!1),2),l=a[0],s=a[1],c=(0,ve.ZP)(),u=(0,r.useRef)(null),d=(0,H.EV)(),p=(0,r.useCallback)((function(){d&&u.current&&d.markConstraintComplete("description")}),[d]),f=l&&!n,h=n?c.bt("Ver menos", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):c.bt("Ver mais", "See more", "productDescription.productDescriptionPreview.cta", undefined, true);return(0,r.useLayoutEffect)((function(){!u.current||Number.isNaN(u.current.offsetHeight)||Number(u.current.offsetHeight)<150||l||s(!0)}),[l,null===(t=u.current)||void 0===t?void 0:t.offsetHeight]),(0,V.jsxs)(U.xu,{display:u.current?"block":"visuallyHidden",paddingY:1,"data-test-id":"product-description-preview",children:[(0,V.jsx)(U.xv,{size:"300",weight:"bold",children:c.bt("Detalhes do produto", "Product Details", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,V.jsxs)(U.xu,{marginTop:2,marginBottom:f?0:2,position:"relative",children:[(0,V.jsx)(U.xu,{height:f?150:"auto",overflow:f?"hidden":"visible",ref:u,children:(0,V.jsx)(Be.Z,{descriptions:o,onLoad:p})}),l&&(0,V.jsx)(U.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:f?1:0,position:"absolute",width:"100%"})]}),l&&(0,V.jsx)(U.iP,{onTap:i,children:(0,V.jsx)(U.xv,{size:"200",weight:"bold",children:h})})]})};function Ge(e){var t=e.commerceData,n=e.structuredDescription,i=e.type,o=void 0===i?"accordion":i,a=e.viewParameter,l=(0,de.v)().logContextEvent,s=Ue((0,r.useState)(!1),2),c=s[0],u=s[1];(0,r.useEffect)((function(){l({event_type:120,component:13597,view_type:3,view_parameter:a,aux_data:Fe({},t)})}),[]);var d=function(){u(!c),l({event_type:101,component:13597,view_type:3,element:10492,view_parameter:a,aux_data:Fe({},t)})};return 0===n.length?null:"preview"===o?(0,V.jsx)(We,Fe(Fe({},e),{},{isOpen:c,onOpen:d})):(0,V.jsx)(Ve,Fe(Fe({},e),{},{onOpen:d}))}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e){var t=e.enableDynamicSizeAdjustment,n=e.link,i=e.pin,o=e.text,a=e.onClickThrough,l=(0,r.useRef)(null),s=Ke((0,r.useState)("500"),2),c=s[0],u=s[1],d=(0,V.jsx)(U.xu,{ref:l,children:(0,V.jsx)(U.X6,{id:"product-heading",size:c,children:o})});return(0,r.useEffect)((function(){if(l&&l.current&&t){var e=l.current.querySelector("#product-heading");if(e){var n=Number(e.offsetHeight)||0;if(Number.isFinite(n)){var r=Math.floor(n/33);u(r<=2?"500":"400")}}}}),[t,l]),(0,V.jsx)(xe.q,{children:function(e){var t=e.hovered,r=e.onMouseEnter,o=e.onMouseLeave;return(0,V.jsx)(ye.Z,{hovered:t,pin:i,viewType:3,children:(0,V.jsx)(U.xu,{onMouseEnter:r,onMouseLeave:o,children:n?(0,V.jsx)(U.xu,{"data-test-id":"link-navigation",children:(0,V.jsx)(be.p,{href:n,externalData:{pin:i},children:function(e){var t=e.handleClick;return(0,V.jsx)(U.xv,{children:(0,V.jsx)(U.rU,{href:n,underline:"none",onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),t({event:n}),a({componentType:138})},children:d})})}})}):d})})}})}var Ye=n(453451),$e=n(104389);function Qe(e){var t=e.price,n=e.maxPrice,r=(0,ve.ZP)(),i=r.bt("Esgotado", "Sold out", "product.price.soldOut", undefined, true);return t&&n?i="".concat(i," · ").concat(t,"-").concat(n):t&&(i="".concat(i," · ").concat(t)),(0,V.jsx)(U.xv,{color:"subtle",size:"500",children:i})}function Je(e){var t=e.color,n=e.fontColor,r=e.children;return(0,V.jsx)(U.xu,{color:t,rounding:1,dangerouslySetInlineStyle:{__style:{padding:2}},display:"flex",alignItems:"center",children:(0,V.jsx)("span",{style:{fontSize:10,fontWeight:"bold",color:n,WebkitFontSmoothing:"antialiased"},children:r})})}var et=n(814197);function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rt=function(e){var t=e.variant,n=void 0===t?"":t,r=e.status,i=e.weight,o="outOfStock"===r?"line-through":"none",a="outOfStock"===r?"subtle":"default";return(0,V.jsx)(U.xv,{inline:!0,color:a,weight:i,children:(0,V.jsx)("span",{style:{textDecoration:o},children:n})})};function it(e){var t=e.variants,n=e.name,i=e.selected,o=e.onSelect,a=tt((0,r.useState)(!1),2),l=a[0],s=a[1],c=tt((0,r.useState)(null),2),u=c[0],d=c[1],p=(0,r.useRef)(null),f=(0,ve.ZP)(),h=t.filter((function(e){return"invalid"!==e.status})),m=function(){return s(!1)},_=(0,V.jsx)(Je,{color:"tertiary",fontColor:"#FFFFFF",children:f.bt("Esgotado", "Sold out", "product.price.soldOut", undefined, true)}),g=(t.find((function(e){return e.value===i}))||{}).status;return(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(U.xu,{width:360,children:(0,V.jsx)(U.iP,{onTap:function(){return s(!0)},ref:p,children:(0,V.jsxs)(U.xu,{borderStyle:"lg",rounding:4,padding:3,display:"flex",alignItems:"center",justifyContent:"between","data-test-id":"selected-variant",children:[(0,V.jsx)(U.xu,{width:240,children:(0,V.jsxs)(U.xv,{lineClamp:1,children:[(0,V.jsxs)(U.xv,{weight:"bold",inline:!0,children:[n,":"]})," ",i&&(0,V.jsx)(rt,{variant:i,status:g})]})}),(0,V.jsxs)(U.kC,{alignItems:"center",gap:{row:3,column:0},children:["outOfStock"===g&&_,(0,V.jsx)(U.JO,{color:"default",icon:"arrow-down",size:12,accessibilityLabel:f.bt("Ícone do menu suspenso", "Dropdown icon", "productDetailPage.secondaryDimension.variant.dropdown.icon", undefined, true)})]})]})})}),l&&(0,V.jsx)(U.Lt,{anchor:p.current,onDismiss:m,id:n,zIndex:et.t5,children:h.map((function(e){var t=e.value,r=e.status;return(0,V.jsx)(U.Lt.Item,{onSelect:function(e){var r=e.item;o({dimensionName:n,variant:t}),d(r),m()},option:{value:t,label:t},selected:i?u:null,children:(0,V.jsxs)(U.kC,{alignItems:"center",justifyContent:"start",width:352,children:[(0,V.jsx)(U.xu,{width:240,marginEnd:5,children:(0,V.jsx)(rt,{variant:t,status:r,weight:"bold"})}),"outOfStock"===r&&_]})},t)}))})]})}function ot(e){var t=e.link,n=e.onClickThrough,i=e.onLoad,o=e.pin,a=e.text,l=(0,be.Z)({href:t,externalData:{pin:o}});return(0,r.useEffect)((function(){"function"==typeof i&&i()}),[i]),(0,V.jsx)(xe.q,{children:function(e){var r=e.hovered;return(0,V.jsx)(ye.Z,{hovered:r,pin:o,viewType:3,children:(0,V.jsx)(U.zx,{color:"blue",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),n({componentType:194}),l({event:t})},size:"lg",text:a,role:"link",href:t,rel:"nofollow"})})}})}var at=n(537313),lt=n(35495),st=n(349700),ct=n(296005),ut=n(882801);function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e){var t,n=e.isBoardOwnerOrCollaborator,i=e.onClickThrough,o=e.pin,a=e.pin,l=a.closeup_unified_description,s=a.closeup_unified_title,c=a.is_oos_product,u=a.is_stale_product,d=a.link_user_website,p=a.link_domain,f=a.rich_metadata,h=e.showStructuredDescription,m=e.viewParameter,_=(0,ve.ZP)(),g=(0,lt.Kl)(o,{}),y=(0,ct._T)(),v=(0,H.EV)(),b=(0,r.useCallback)((function(){v&&v.markConstraintComplete("shopButton")}),[v]),x=y||{},P=x.offerSummary,w=x.title,j=x.link,S=x.dimensionMetadata,O=(0,Z.Z)({richPinData:f}),k=P||(null==O?void 0:O.offer_summary)||{},C=k.in_stock,A=k.max_price,I=k.price,E=c||!1===C,T=(f||{}).aggregate_rating||{},D=T.rating_value,z=T.review_count,R=T.rating_count,L=!!D&&(z||R),B=(O||{}).shipping_info,M=null==d||null===(t=d.official_user)||void 0===t?void 0:t.first_name,F=(p||{}).official_user,N=(F||{}).first_name,W=(0,we.ZP)(M||N||"",20),G=(l||"").trim(),K=(0,ut.fv)(o),q=(0,ut.Eh)(E||u?S:[]),X=(0,ut.jo)({components:[].concat(pt(q),pt(K)),pinDescription:G}),Y=o||{},$=Y.link,Q=Y.tracked_link,J=decodeURIComponent(j||Q||$),ee=(0,at.Wp)(o).currentDomain.split(".")[0],te=_.bt("Acessar", "Visit", "closeup.shop.button", undefined, true);E?te=(0,st.nk)(_.bt("Acesse {{ merchant }}", "Visit {{ merchant }}", "closeup.shop.button", undefined, true),{merchant:W||ee}).join(""):u&&(te=_.bt("Ver o preço", "See price", "pdp.shopButton", undefined, true));var ne=L||B,re=!(!I&&!A||E||u),ie=(W||ee)&&J,oe=w||s;return(0,V.jsxs)(U.xu,{marginEnd:6,children:[re&&(0,V.jsx)(U.xu,{"data-test-id":"product-price",marginTop:3,children:(0,V.jsx)(Ye.Z,{productDetails:k,type:"heading",colorOverride:"default",weight:"normal"})},"product-price"),E&&!u&&(0,V.jsx)(U.xu,{"data-test-id":"out-of-stock",marginTop:3,children:(0,V.jsx)(Qe,{price:I,maxPrice:A})},"product-sold-out"),!!oe&&(0,V.jsx)(U.xu,{"data-test-id":"product-title",marginTop:3,children:(0,V.jsx)(Xe,{link:J,pin:o,text:oe,onClickThrough:i})},"product-title"),F&&(0,V.jsx)(U.xu,{marginTop:3,children:(0,V.jsx)(he,{user:F})}),ne&&(0,V.jsx)($e.Z,{count:R||z,countType:R&&Number(R)?"rating":"review",countFormat:"text",ratingValue:D,shippingInfo:B}),!c&&!u&&y&&y.variants.length>1&&(0,V.jsx)(U.xu,{marginTop:5,children:(0,V.jsxs)(U.kC,{direction:"column",gap:{row:0,column:4},children:[(0,V.jsx)(U.xu,{marginBottom:1,children:(0,V.jsx)(ze,{commerceData:g,link:J,name:y.primaryDimName,onClickThrough:i,onSelect:y.selectVariant,pin:o,selected:y.selectedMap[y.primaryDimName],variants:y.primaryVariants,viewParameter:m})}),y.secondaryVariantTuples.map((function(e){var t=dt(e,2),n=t[0],r=t[1];return(0,V.jsx)(it,{name:n,onSelect:y.selectVariant,selected:y.selectedMap[n],variants:r},n)}))]})}),ie&&(0,V.jsx)(U.xu,{"data-test-id":"product-shop-button",marginTop:5,children:(0,V.jsx)(ot,{merchantName:W||ee,link:J,onClickThrough:i,onLoad:b,pin:o,text:te})}),X.length>0&&(0,V.jsx)(U.xu,{"data-test-id":"product-description",marginTop:5,marginBottom:n?0:5,children:(0,V.jsx)(Ge,{commerceData:g,structuredDescription:X,type:h?"preview":"accordion",viewParameter:m})})]})}var _t=n(81072);function gt(e){var t,n=e.disabled,i=e.height,o=e.top,a=void 0===o?0:o,l=e.zIndex,s=(0,r.useRef)(null),c=(0,_t.Z)();if(n)return e.children;var u=c+a+((null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect().top)||0);return(0,V.jsx)(U.xu,{ref:s,id:"product-sticky-container ","data-test-id":"product-sticky-container",children:(0,V.jsx)(U.Le,{height:i,top:u,zIndex:l,children:e.children})})}var yt=n(127897),vt=n(784590),bt=n(680333),xt=n(491073),Pt=n(485237),wt=n(92261),jt=n(966676);function St(e){var t=e.paneWidth,n=e.maxWidth,r=e.viewportSize,i=t.pdp,o=n.pdp;return{visualPane:i,descriptionPane:"lg"===r?o-i:i}}function Ot(e){var t,n,i=e.disableRelatedResource,o=void 0!==i&&i,a=e.relatedResourceOptions,l=e.hasXYcoordinates,s=e.isEligibleForStlFlyout,c=e.isStoryPin,u=e.isWideVideo,d=e.pin,p=e.searchQuery,f=e.taggedProducts,_=e.trafficSource,y=e.viewParameterType,v=e.onClickThrough,b=e.showStructuredDescription,x=e.data,P=e.didShortClickThrough,w=e.goBack,j=e.isInStream,S=void 0!==j&&j,O=e.isDeletedStoryPin,k=e.onSaveButtonClick,C=e.onUpdate,A=e.outerBodyStyle,I=e.routePush,E=e.showRepinOnInitialRender,T=e.viewType,D=(0,vt.Z)(o?null:{name:a.name,options:a.options}),z=(0,r.useRef)(null),R=(0,m.Z)(),Z=(0,jt.x4)().viewportSize,L=(0,(0,pe.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,B=(0,h.Z)(),M=L?(0,g.lJ)(R,B):"",F=(0,ct._T)(),N=null==F||null===(t=F.primarySelectedVariant)||void 0===t?void 0:t.pin_id,U=(0,vt.Z)(N?{name:"PinResource",options:(0,ce.Z)(N,M)}:null).data,H=(0,bt.Z)(),W=(0,yt.Z)({getPaneWidth:St,metadataContainerRef:z}),G=H.setClickthroughComponentForSurvey,K=H.imageContainerRef,q=(0,V.jsx)(xt.Z,{hasXYcoordinates:l,isEligibleForStlFlyout:s,isStoryPin:c,isWideVideo:u,pin:d,searchQuery:p,taggedProducts:f,trafficSource:_,viewParameterType:y,getPaneWidth:St,imageContainerRef:K,handleImageClickThrough:function(){return v({wasImageClicked:!0})},setClickthroughComponentForSurvey:G,isShortImage:W}),X=(0,V.jsx)(gt,{disabled:!1,top:-16,zIndex:et.mS,children:q}),Y=b?X:q,$=(0,le.CK)(d,y),Q="lg"===Z?16:wt.g9,J=(null==d?void 0:d.board)||{},ee=le.VO(B,d,R),te=(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(mt,{isBoardOwnerOrCollaborator:le.VO(B,d,R),onClickThrough:v,pin:d,showStructuredDescription:b,viewParameter:$}),ee?(0,V.jsx)(se.Z,{boardId:J.id,isGroupNote:le.p_(d,R),pinId:d.id,pinNoteText:null==d||null===(n=d.pin_note)||void 0===n?void 0:n.text}):null]});return(0,V.jsx)(Pt.R,{isWideVideo:u,didShortClickThrough:P,webLinkSurveyState:H,pin:d,outerBodyStyle:A,isStoryPin:c,trafficSource:_,visualContentContainer:Y,isCloseupMaximized:!1,getPaneWidth:St,data:x,outerPaddingSize:Q,shouldHaveStickyCommentComposer:!1,isInStream:S,metadataContainerRef:z,onClickThrough:function(){v&&v({componentType:129}),H.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:$,viewType:T,metadata:te,viewer:R,orbacSubjectId:M,disableCommentComposer:!0,relatedModulesResource:D,marginBottom:8,disableLeadPin:!0,isDeletedStoryPin:O,onSaveButtonClick:k,showRepinOnInitialRender:E,goBack:w,onUpdate:C,routePush:I,selectedVariantPin:U,closeupActionBarMaxWidth:wt.CI})}var kt=n(673108),Ct=n(360961),At=n(438799),It=n(700398),Et=n(896731);function Tt(e){var t,n=e.clientTrackingParams,r=e.pin,i=e.setRelatedPinsHeaderRef,o=e.slotIndex,a=e.story,l=e.topLevelTrafficSource,s=e.viewParameter,c=e.viewportSize;if(!a)return null;if((0,It.Z)(a.container_type)){var u=88===a.container_type;return(0,V.jsx)(U.xu,{marginBottom:u?0:12,children:(0,V.jsx)(Et.default,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:s,initialSlotIndex:o,story:a})})}return"SKIN_TONE_FILTER_QUERIES"===a.story_type?(0,V.jsx)(U.xu,{alignSelf:"center",children:(0,V.jsx)(At.Z,{story:a})}):"related_products_feed_header"===a.story_type?(0,V.jsx)(U.xu,{"data-test-id":"related-modules-header",ref:i,children:(0,V.jsx)(Ct.Z,{clientTrackingParams:n,slotIndex:o,storyId:a.id,storyType:a.story_type,title:null===(t=a.title)||void 0===t?void 0:t.format,viewParameter:s})}):"related_domain_carousel"===a.story_type?(0,V.jsx)(U.xu,{marginBottom:12,justifyContent:"center",display:"flex",children:(0,V.jsx)(w.Z,{closeupImageSignature:r.image_signature,data:a,slotIndex:o,storyId:a.id,storyType:a.story_type,topLevelTrafficSource:l,viewParameter:s,viewportSize:c})}):null}var Dt=n(575576),zt=n(329734),Rt=n(656226),Zt=n(430323),Lt=n(786871),Bt=n(53325),Mt=n(963e3),Ft=n(372169),Nt=function(e){return{height:Bt.zX*e,width:Bt.zX}},Ut=function(){return(0,V.jsx)(r.Fragment,{children:Array(12).fill(void 0).map((function(e,t){return(0,V.jsx)(U.xu,{width:Ft.jh,marginEnd:4},"empty-pin-".concat(t))}))})};function Ht(e){var t,n,r,i=e.relatedPins,o=e.imageHeightModifier,a=e.pin,l=e.initialSlotIndex,s=(0,Lt.Z)(),u=function(t){var n,r,i,u,d=t.data,p=t.itemIdx;switch(d.type){case"story":c.Z.increment("web_story_card_type",1,{story_type:d.story_type||"unknown",surface:"closeup"}),u=null,d.container_type&&Mt.K.includes(d.container_type)&&(u=(0,V.jsx)(Mt.Z,{data:d}));break;case"pin":default:var f=(0,zt.Z)(s),h=o?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata";u=(0,V.jsx)(Rt.default,{imageOnlyOption:f?"image-only":"default",pin:d,pinId:d.id,pinImageCrop:o?Nt(o):null,authDesktopSurface:h,componentType:13176,slotIndex:p+l,viewData:{pin_id:a.id},viewParameter:(0,oe.Z)({hasPin:!!e.pin,hasPinRichMetadata:!!e.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(n=e.pin.rich_metadata)||void 0===n||!n.products),hasPinRichMetadataArticle:!(null===(r=e.pin.rich_metadata)||void 0===r||!r.article),hasPinRichMetadataRecipe:!(null===(i=e.pin.rich_metadata)||void 0===i||!i.recipe),hasPinStoryPinData:!!e.pin.story_pin_data}),viewType:3})}return(0,V.jsx)(Dt.Z,{children:u})};return(0,V.jsx)(Zt.Z,{viewParameter:(0,oe.Z)({hasPin:!!e.pin,hasPinRichMetadata:!!e.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(t=e.pin.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(n=e.pin.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null===(r=e.pin.rich_metadata)||void 0===r||!r.recipe),hasPinStoryPinData:!!e.pin.story_pin_data}),component:86,children:(0,V.jsxs)(U.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[i.map((function(e,t){return(0,V.jsx)(U.xu,{height:(o?Nt(o).height:Bt.zX)+Ft.s_+Ft.dA,width:Ft.jh,marginEnd:4,children:u({data:e,itemIdx:t})},"related-pins-".concat(e.id,"-").concat(t))})),(0,V.jsx)(Ut,{})]})})}var Vt=n(792182),Wt=n(444445),Gt=6*Wt.yF+6*Wt.oX,Kt=2*Wt.yF+3*Wt.oX;function qt(e){var t=e.clientTrackingParams,n=e.pin,i=e.relatedResourceOptions,o=e.setRelatedPinsHeaderRef,a=e.topLevelTrafficSource,l=e.viewParameter,s=e.viewportSize,c=(0,vt.Z)({name:i.name,options:i.options}),u=c.data,d=c.auxData,p=c.isLoaded,f=c.fetchMore,h=c.isFetching,m=c.isAtEnd,_=(0,ve.ZP)(),g=function(){var e=((0,Vt.Z)()||{}).width,t="90%";return e>=Gt?t=Gt:e<=Kt&&(t=Kt),t}(),y=(0,r.useRef)(0),v=(u||[]).filter(Boolean),b=(0,kt.Z)(v);return(0,V.jsx)(U.xu,{alignItems:"center","data-test-id":"relatedPins",direction:"column",display:"flex",width:"100%",children:(0,V.jsxs)(U.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:g,children:[p&&b.map((function(e,r){var i;0===r&&(y.current=0);var c,u=0;if(Array.isArray(e))u+=e.length,i=(0,V.jsx)(Ht,{imageHeightModifier:null==d||null===(c=d.grid_layout)||void 0===c?void 0:c.w_h_ratio,initialSlotIndex:y.current,pin:n,relatedPins:e},e[0].id);else if("story"===e.type){var p;u+=(null===(p=e.objects)||void 0===p?void 0:p.length)||1,i=(0,V.jsx)(U.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,V.jsx)(Tt,{clientTrackingParams:t,pin:n,setRelatedPinsHeaderRef:o,slotIndex:y.current,story:e,topLevelTrafficSource:a,viewParameter:l,viewportSize:s})},e.id)}return y.current+=u,i})),(0,V.jsx)(U.gr,{isAtEnd:m,isFetching:h,fetchMore:f}),(0,V.jsx)(U.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,V.jsx)(U.$j,{accessibilityLabel:_.bt("Carregando os resultados dos produtos relacionados", "Loading related products results", "closeup.relatedProducts.results", undefined, true),show:h})})]})})}var Xt=n(820621),Yt=n(642513),$t=n(6637),Qt=n(819303),Jt=n(947599);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=n(780280),on=function(){};function an(e){var t=e.direction,n=e.handleNavHoverToggle,r=e.leftHover,i=e.onScroll,o=e.rightHover,a=e.shouldPadArrows,l=e.size,s=void 0===l?"md":l,c=(0,ve.ZP)(),u=(0,rn.B)().isRTL,d=function(e,t){var n=e.direction,r=e.isRTL,i=e.leftHover,o=e.rightHover,a=e.shouldPadArrows,l=e.verticalSize,s=a||i?"default":"subtle",c=a||o?"default":"subtle",u={backgroundImage:"linear-gradient(to ".concat(n,", rgba(255, 255, 255, 0) 0%, #fff 90%)"),height:"100%",top:"0px",bottom:void 0},d={color:"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},p={sm:"52px",md:"124px"};return{up:tn(tn({},d),{},{backgroundImage:"linear-gradient(#fff 0%, rgba(255, 255, 255, 0) 90%)",bottom:void 0,icon:"arrow-up",label:t.bt("Seta para cima", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:p[l]}),down:tn(tn({},d),{},{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0) 0%, #fff 90%)",bottom:"0px",icon:"arrow-down",label:t.bt("Seta para baixo", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:p[l]}),left:tn(tn({},u),{},{color:s,icon:r?"arrow-forward":"arrow-back",justifyContent:"start",label:t.bt("Seta para a esquerda", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:r?"22px":"210px"}),right:tn(tn({},u),{},{color:c,icon:r?"arrow-back":"arrow-forward",justifyContent:"end",label:t.bt("Seta para a direita", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:r?"22px":"210px"})}}({direction:t,isRTL:u,leftHover:r,rightHover:o,shouldPadArrows:a,verticalSize:s},c);return(0,V.jsx)(U.xu,{position:"absolute",height:d[t].height,dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:d[t].top,bottom:d[t].bottom,left:d[t].left,right:d[t].right}},children:(0,V.jsx)(U.xu,{display:"flex",alignItems:"center",width:d[t].width,dangerouslySetInlineStyle:{__style:{backgroundImage:d[t].backgroundImage,marginTop:a?"25px":void 0}},justifyContent:d[t].justifyContent,height:"100%",children:(0,V.jsx)("button",{onMouseEnter:n?function(){return n(t,!0)}:on,onMouseLeave:n?function(){return n(t,!1)}:on,onClick:i,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,V.jsx)(U.kC,{alignItems:"center",height:"100%",justifyContent:d[t].justifyContent,width:"50px",children:(0,V.jsx)(U.JO,{accessibilityLabel:d[t].label,color:d[t].color,icon:d[t].icon})})})})})}var ln=n(46584),sn=n(447948);function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dn(e){var t=e.currentlySelectedIndex,n=e.index,o=e.onSelect,a=e.pinId,l=e.isSelectOnHover,s=e.size,c=e.thumbnail,u=e.mediaType,d=void 0===u?"image":u,p=e.viewParameter,f=(0,de.v)().logContextEvent,h=(0,i.useDispatch)(),m=(0,ve.ZP)(),_=cn((0,r.useState)(!1),2),g=_[0],y=_[1],v=(0,r.useCallback)((function(e){"video"===d&&e&&!g&&(y(!0),f({event_type:13,component:13596,element:12831,view_type:3,view_parameter:p}))}),[f,d,p,g]),b=(0,ln.Z)({onVisibilityChanged:v}),x=function(){h((0,sn.yR)(a,n)),o(n)},P=t===n||!t&&0===n;return(0,V.jsx)(U.xu,{marginBottom:4,ref:b,children:(0,V.jsx)(U.iP,{onMouseEnter:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),l&&x()},onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),l||x()},children:(0,V.jsx)(me.Z,{outlined:P,children:(0,V.jsxs)(U.xu,{position:"relative",children:[(0,V.jsx)(U.zd,{wash:!0,width:s,height:s,children:(0,V.jsx)(U.Ee,{alt:"",fit:"cover",src:c,color:"#efefef",naturalHeight:1,naturalWidth:1})}),"video"===d&&(0,V.jsx)(U.xu,{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",top:!0,left:!0,children:(0,V.jsx)(U.JO,{accessibilityLabel:m.bt("Ícone de vídeo do carrossel secundário", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var pn=n(752802),fn=n(251183),hn=n(700380),mn=n(697335);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xn={md:120,sm:52},Pn=490;function wn(e){var t=e.carouselSlots,n=e.commerceData,i=void 0===n?{}:n,o=e.isSelectOnHover,a=e.onImageSelect,l=e.pinId,s=e.selectedIndex,c=e.size,u=e.viewParameter,d=(0,de.v)().logContextEvent,p=vn((0,r.useState)(),2),f=p[0],h=p[1],m=vn((0,r.useState)(0),2),_=m[0],g=m[1],y=vn((0,r.useState)(),2),v=y[0],b=y[1],x=vn((0,r.useState)(),2),P=x[0],w=x[1],j=vn((0,r.useState)(),2),S=j[0],O=j[1],k=vn((0,r.useState)(!1),2),C=k[0],A=k[1],I=vn((0,r.useState)(t.length>=4),2),E=I[0],T=I[1],D=vn((0,r.useState)(!1),2),z=D[0],R=D[1],Z=(0,mn.t)(),L=(0,r.useRef)(),B=(0,r.useRef)(),M=xn[c];(0,r.useEffect)((function(){d({event_type:120,component:13596,view_type:3,view_parameter:u,aux_data:gn({pin_id:l},i)})}),[]),(0,r.useEffect)((function(){if(!f&&L.current){var e=L.current.getBoundingClientRect();g(Math.floor(e.top)),b(Math.floor(e.bottom)),O(Math.floor(e.top)),w(Math.floor(e.bottom))}}),[L.current,f]),(0,r.useEffect)((function(){if(L.current){var e=L.current.getBoundingClientRect(),t=e.height,n=e.top,r=e.bottom;g(Math.floor(n)),b(Math.floor(r)),h(Math.floor(t))}}),[t.length]),(0,r.useEffect)((function(){!f&&L.current&&h(Math.floor(L.current.getBoundingClientRect().height))}),[L.current]),(0,r.useEffect)((function(){_&&S&&P&&v&&t.length>=4&&(A(_<S),T(v>=Pn+Z+20))}),[_,v,S,P]);var F=function(){z||(R(!0),d({event_type:110,component:13596,view_type:3,view_parameter:u,aux_data:gn({pin_id:l},i)}))},N=(0,hn.Z)((function(){if(L.current){var e=L.current.getBoundingClientRect();g(Math.floor(e.top)),b(Math.floor(e.bottom)),F()}}),16);(0,r.useEffect)((function(){return B.current&&B.current.addEventListener("scroll",N),function(){B.current&&B.current.removeEventListener("scroll",N)}}),[B.current]);var H,W=function(e){0!==e&&(H&&H.cancel(),L.current&&B.current&&((H=(0,fn.Z)(B.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:function(){H=null}})).start(),F()))};return(0,V.jsxs)("div",{className:"ProductCarousel-OuterScrollContainer",style:{marginTop:"".concat(20,"px"),position:"relative"},children:[(0,V.jsx)("div",{id:"InnerScrollContainer",ref:B,className:"ProductCarousel-InnerScrollContainer",style:{maxHeight:Pn,cursor:"default"},children:(0,V.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},"aria-hidden":"true",style:{cursor:"default"},children:(0,V.jsx)(U.xu,{display:"flex",alignItems:"center",direction:"column",marginEnd:6,width:M+4,ref:L,marginBottom:1,position:"relative",marginTop:1,children:t.map((function(e,t){var n,r=e.images,c=e.videos,p=c?{thumbnail:c.cover_image_url,mediaType:"video"}:{thumbnail:null===(n=(0,pn.Z)({images:r,resolutionPreferences:["564x","736x","236x"]}))||void 0===n?void 0:n.url,mediaType:"image"},f=p.thumbnail,h=p.mediaType;return(0,V.jsx)(dn,{currentlySelectedIndex:s,index:t,onSelect:function(){!function(e,t){a&&(d({event_type:101,component:13596,element:"image"===t?11922:12831,view_type:3,view_parameter:u,aux_data:gn({},i)}),a(e))}(t,h)},isSelectOnHover:o,pinId:l,size:M,thumbnail:f||"",mediaType:h,viewParameter:u},"carousel-item-".concat(e.image_signature||"","-").concat(t))}))})})}),!!f&&t.length>3&&(0,V.jsxs)(U.xu,{position:"absolute",overflow:"hidden",height:f>Pn?494:f+4,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:[C&&(0,V.jsx)(an,{direction:"up",onScroll:function(e){e.preventDefault(),e.stopPropagation(),W(-100)},size:c}),E&&(0,V.jsx)(an,{direction:"down",onScroll:function(e){e.preventDefault(),e.stopPropagation(),W(100)},size:c})]})]})}var jn=n(71052),Sn=n(954959);var On=n(704177),kn=n(128503),Cn=n(326884),An=n(82314),In=n(977558),En=n(696157),Tn=n(801827),Dn=n(749147),zn=n(313951),Rn=n(807532),Zn=n(21353),Ln=n(52022),Bn=n(31062),Mn=n(623568),Fn=n(994608),Nn=n(343341),Un=n(18857);function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=(0,r.lazy)((function(){return n.e(58789).then(n.bind(n,70943))})),tr=(0,r.lazy)((function(){return n.e(95246).then(n.bind(n,245323))})),nr=(0,r.lazy)((function(){return n.e(75754).then(n.bind(n,849086))})),rr=12e4,ir={md:148,sm:80},or={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},ar={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32};function lr(e){var t=e.conversation_id,n=e.senderId,r=e.pinId;$t.Z.create("ApiResource",{url:"/v3/conversations/".concat(t,"/message/mark_seen/"),data:{sender:n,pin:r}}).callCreate()}function sr(e){var t,n,r=1056;return e.isWideVideo&&(r=998),e.hasCarouselData&&(r=1300),(null===(t=window)||void 0===t?void 0:t.innerWidth)<680?"sm":(null===(n=window)||void 0===n?void 0:n.innerWidth)<r?"md":"lg"}function cr(e){var t=e.viewportSize;return e.hasCarouselData&&["lg","md"].includes(t)}function ur(e){var t,n,r,i=e.viewportSize,o=e.isWideCarousel;r=["md","sm"].includes(i)?o?780:630:o?1465:1135;var a=o?1640:1340;return{hideBackButton:(null===(t=window)||void 0===t?void 0:t.innerWidth)<=r,backButtonLabelFitInScreen:(null===(n=window)||void 0===n?void 0:n.innerWidth)>=a}}function dr(e){return e?228:4}function pr(e,t){return e?35:t?11157:361}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(a,e);var t,n,i,o=Xn(a);function a(){var e;Gn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jn($n(e=o.call.apply(o,[this].concat(n))),"state",(0,D.Z)(e.props)),Jn($n(e),"removedPwtThumbnailsConstraint",!1),Jn($n(e),"setCloseupBodyContainerRef",(function(t){e.closeupBodyContainerRef=t})),Jn($n(e),"setResultScrollContainerRef",(function(t){e.resultScrollContainer||(e.resultScrollContainer=t,e.forceUpdate())})),Jn($n(e),"setRelatedPinsHeaderRef",(function(t){e.relatedPinsHeaderRef=t})),Jn($n(e),"mounted",!1),Jn($n(e),"updateViewportSize",(0,hn.Z)((function(){var t=e.state.visualState.carouselData,n=e.props.pin,r=((0,N.Z)((0,B.Z)({pin:n}))||{}).isWideVideo;if(e.mounted){var i=sr({isWideVideo:r,hasCarouselData:!!t}),o=ur({viewportSize:i,isWideCarousel:cr({viewportSize:i,hasCarouselData:!!t})}),a=o.hideBackButton,l=o.backButtonLabelFitInScreen;e.setState({viewportSize:i,hideBackButton:a,backButtonLabelFitInScreen:l})}}),50)),Jn($n(e),"triggerQuickPromote",(function(){var t=e.props,n=t.getSterlingURL,r=t.pinId,i=t.routePush;e.setState({quickPromoteModalTriggered:!0});var o=n("quick_promote_on_www");i("".concat(o,"?pinId=").concat(r))})),Jn($n(e),"clickThroughTimer",(function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!0})})),Jn($n(e),"executeClickthrough",(function(t){var n,r,i,o,a,l,s,c,u=e.props,d=u.pinId,p=u.setPlacementExtraContext,f=u.viewer,h=u.trafficSource,m=u.logContextEvent,_=u.variantData,g=e.state,y=g.pin,v=g.didPinClickThrough,b=g.didShortClickThrough,x=!!y.story_pin_data,P=t||{},w=P.wasImageClicked,j=P.auxData,S=P.componentType,O=void 0===S?dr(x):S,k=P.elementType,C=void 0===k?pr(!!w,x):k,A=P.viewType,I=void 0===A?3:A,E=(0,oe.Z)({hasPin:!!e.props.pin,hasPinRichMetadata:!(null===(n=e.props.pin)||void 0===n||!n.rich_metadata),hasPinRichMetadataProducts:!(null===(r=e.props.pin)||void 0===r||null===(i=r.rich_metadata)||void 0===i||!i.products),hasPinRichMetadataArticle:!(null===(o=e.props.pin)||void 0===o||null===(a=o.rich_metadata)||void 0===a||!a.article),hasPinRichMetadataRecipe:!(null===(l=e.props.pin)||void 0===l||null===(s=l.rich_metadata)||void 0===s||!s.recipe),hasPinStoryPinData:!(null===(c=e.props.pin)||void 0===c||!c.story_pin_data)}),T=Wn(Wn({},(0,lt.Kl)(y,{})||{}),j||{});if(_&&(T.product_variant_selection_made=_.isSelectedByUser),f&&f.isAuth&&!v&&p&&(p({didPinClickThrough:!0}),e.setState({didPinClickThrough:!0})),x){var D=(0,at.nA)(e.props).link;m({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:y.id,url:D}})}if(m({event_type:101,object_id_str:d,component:O,element:C,aux_data:Wn(Wn({},(0,lt.Kl)(y,{})||{}),j||{})}),m({event_type:12,object_id_str:d,view_type:I,view_parameter:E,component:O,element:C,aux_data:T}),m({event_type:8948,view_type:I,view_parameter:E,component:O,element:C,object_id_str:d,aux_data:Wn(Wn({click_type:"clickthrough",closeup_navigation_type:h&&(0,Mn.sV)(h)?"deeplink":"click"},(0,lt.Kl)(y)||{}),j||{})}),w){var z=setInterval(e.clickThroughTimer,rr);e.setState({intervalId:z})}e.clickThroughStartTime=Date.now(),b&&e.setState({didShortClickThrough:!1})})),Jn($n(e),"handleFocus",(function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!1})})),Jn($n(e),"handleWindowFocus",(function(){if(e.clickThroughStartTime>0){var t=Date.now()-e.clickThroughStartTime<5e3;e.setState({didShortClickThrough:t}),e.clickThroughStartTime=0}})),Jn($n(e),"handleClickLogging",(function(){e.props.logContextEvent({event_type:101,object_id_str:e.state.pin.id,component:4,element:0,aux_data:Wn({},(0,lt.Kl)(e.state.pin)||{})})})),Jn($n(e),"handleBackButtonClick",(function(){var t=e.props,n=t.deepLinkBackGoesToBoard,r=t.goBack,i=t.routePush,o=t.trafficSource,a=t.viewer,l=t.requestContext,s=t.pin,c=t.logContextEvent;(0,L.Z)({deepLinkBackGoesToBoard:n,goBack:r,routePush:i,trafficSource:o,viewer:a,requestContext:l,pin:s},c)})),Jn($n(e),"handleCarouselSwipe",(function(t){var n=e.state,r=n.visualState;n.firstLoadComplete&&e.setState({visualState:Wn(Wn({},r),{},{carouselData:Wn(Wn({},r.carouselData),{},{index:t})})})})),Jn($n(e),"dispatch",(function(t,n){return e.setState((function(e){return(0,P.Z)(e,t)}),n)})),Jn($n(e),"handleScroll",(0,hn.Z)((function(){var t=e.state.isOverRelatedPins;if(e.relatedPinsHeaderRef){var n=In.hu,r=e.relatedPinsHeaderRef.getBoundingClientRect().top<=n;r&&!t?e.setState({isOverRelatedPins:!0}):!r&&t&&e.setState({isOverRelatedPins:!1})}}),10)),Jn($n(e),"handleRelatedPinsUpsellOnTouch",(function(e){e.event.stopPropagation()})),Jn($n(e),"onWrapperClick",(function(t){t.stopPropagation(),e.handleBackButtonClick()})),Jn($n(e),"onRelatedInterestsBannerDismiss",(function(){e.setState({isRelatedInterestsBannerDismissed:!0})})),Jn($n(e),"updateCloseupBodyContainerHeight",(function(){(e.props.pin||{}).story_pin_data_id&&e.closeupBodyContainerRef&&e.closeupBodyContainerRef.clientHeight!==e.state.closeupBodyContainerHeight&&e.setState({closeupBodyContainerHeight:e.closeupBodyContainerRef.clientHeight})})),e}return t=a,(n=[{key:"populatePlaceholderCarouselData",value:function(){var e=this.props.pin,t=this.state.visualState;this.setState({visualState:Wn(Wn({},t),{},{carouselData:(0,E.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary,additionalImages:[{canonical_images:e.images},{}]})})})}},{key:"componentDidMount",value:function(){var e,t,n,r,i=this,o=this.props,a=o.conversation_id,l=o.conversationOpen,s=o.dispatch,c=o.experimentsClient,u=o.pin,d=o.pinId,p=o.senderId,f=o.setPlacementExtraContext,h=o.shouldShowInbox,m=o.toastManager,_=o.openInbox,g=o.trackInteraction,y=this.state.visualState.carouselData,v=(0,Z.Z)({richPinData:null==u?void 0:u.rich_summary});this.mounted=!0,!y&&(null!=v&&v.has_multi_images||null!=v&&null!==(e=v.videos)&&void 0!==e&&e.length)&&this.populatePlaceholderCarouselData(),(0,X.Z)(u)&&setTimeout((function(){i.setState({showRelatedContent:!0})}),1e3),a&&p&&d&&lr({conversation_id:a,senderId:p,pinId:d}),a&&(l(a),h&&_()),u.image_signature&&this.props.setMostRecentPinImage(u.image_signature),d&&this.props.setMostRecentPinId(d),f&&f({is_own_or_group_pin:this.isOwnOrGroupPin});var b=On.ZP.localStorage.getItem("unauthDesktopSavePinId")||"";b&&b===d&&(On.ZP.localStorage.removeItem("unauthDesktopSavePinId"),g({action:"trigger",item:"unauth-save-button-quicksave"}),(0,Xt.Z)(u,this.props.i18n).then((function(e){var t=e.id,n=e.url,r=e.name;s((0,Dn.d)({boardId:t,url:n,title:r||"",pinId:d})),m.showToast((function(t){var n=t.hideToast;return(0,V.jsx)(ae.Z,{boardName:e.name,boardUrl:e.url,onHide:n,pinImageUrl:u.images["236x"].url})}))}))),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),null!==(t=window)&&void 0!==t&&null!==(n=t.location)&&void 0!==n&&null!==(r=n.search)&&void 0!==r&&r.includes("invite_code=")&&c.checkExperiment("web_log_invite_attribution_pin_closeup").anyEnabled&&(0,Q.Z)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.didRepin,r=t.isLandingPage,i=t.pin,o=t.pinId,a=t.conversation_id,l=t.senderId,s=t.pinResource,c=t.pinResource.data,u=t.pwtSurfaceContext,d=t.setPlacementExtraContext,p=t.showQuickPromote,f=this.state,h=f.visualState.carouselData,m=f.firstLoadComplete,_=f.quickPromoteModalTriggered;this.visualDataDidUpdate(),!m||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(null==u||u.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),c&&!m&&(c.carousel_data&&(c.carousel_data.index=(null==h?void 0:h.index)||0),this.dispatch({type:"pinLoaded",pin:c})),a&&l&&o&&e.pinId!==o&&lr({conversation_id:a,senderId:l,pinId:o}),!e.pinResource.data&&s.data&&!_&&p&&this.triggerQuickPromote();var g={};(On.ZP.localStorage.getItem(En.W3)||"").includes("/pin/".concat(o))&&r&&(g.loginPageType="pin"),n&&(g.didRepin=!0),i.image_signature&&(g.pin_image_signature=i.image_signature),g.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,G.Z)(g)&&d&&d(Wn({},g))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}},{key:"isOwnOrGroupPin",get:function(){var e,t=this.props,n=t.pin,r=t.viewer,i=(n||{}).board||{},o=i.is_collaborative&&(0,Y.Z)({board:i,viewer:r});return Boolean(r.isAuth&&(null===(e=n.pinner)||void 0===e?void 0:e.id)===r.id||o)}},{key:"isWideCarousel",value:function(){var e=this.state;return cr({viewportSize:e.viewportSize,hasCarouselData:!!e.visualState.carouselData})}},{key:"visualDataDidUpdate",value:function(){var e,t,n,r,i=this.props,o=i.variantData,a=i.pin,l=i.experimentsClient.checkExperiment,s=this.state,c=s.visualState,u=c.carouselData,d=c.mainImage;if(s.firstLoadComplete){var p,f=(0,Z.Z)({richPinData:null==a?void 0:a.rich_metadata}),h=(0,E.Z)({carouselData:a.carousel_data,images:a.images,richMetadata:a.rich_metadata,richSummary:a.rich_summary,additionalImages:null==o?void 0:o.images}),m=(0,z.Z)(a),_=f||{},g=_.videos,y=void 0===g?[]:g,v=_.id,b=y.length>0?l("web_pdp_videos"):{},x=b.anyEnabled,P=b.group,w=((null===(e=h)||void 0===e?void 0:e.carousel_slots)||[])[0]||{},j=(0,T.Z)(w.images),S=null!=o&&o.images?0:(null==u?void 0:u.index)||0;if(y.length>0&&x){h||(h={carousel_slots:[{images:a.images}],index:0,id:v});var O=h.carousel_slots;h=function(e){var t=e.carouselData,n=e.productVideos,r=void 0===n?[]:n,i=e.preferredIndex,o=r.map((function(e){return{videos:e}})),a=t.carousel_slots,l=void 0===a?[]:a,s=ne(l);return i<0?i=0:i>l.length&&(i=l.length),s.splice.apply(s,[i,0].concat(ne(o))),ee(ee({},t),{},{carousel_slots:s})}({carouselData:h,productVideos:y,preferredIndex:"enabled"===P?1:(void 0===O?[]:O).length})}p=h&&((null===(t=h.carousel_slots)||void 0===t?void 0:t.length)||0)>1?{mainImage:m,carouselData:Wn(Wn({},h),{},{index:S}),previewImage:(0,R.Z)(a)}:null!=j&&j.url?{mainImage:{url:j.url,height:j.height||1,width:j.width||1}}:{mainImage:m,previewImage:(0,R.Z)(a)},(null==u?void 0:u.id)===(null===(n=p.carouselData)||void 0===n?void 0:n.id)&&JSON.stringify(null==u?void 0:u.carousel_slots)===JSON.stringify(null===(r=p.carouselData)||void 0===r?void 0:r.carousel_slots)&&d.url===p.mainImage.url||this.setState({visualState:p})}}},{key:"renderBodyContent",value:function(e){var t,n,i=e.isEligibleForStlFlyout,o=e.relatedResourceOptions,a=e.taggedProducts,l=e.maxWidth,s=this.props,c=s.experimentsClient.checkExperiment,u=s.isLimitedLogin,d=s.pin,p=s.pinResource,f=s.routePush,h=s.searchQuery,m=s.showRepinOnInitialRender,_=s.trafficSource,y=s.viewer,v=s.orbacActingAs,b=s.showStructuredDescription,x=s.userBusinessRoleResource,P=s.isORBACGA,w=s.trendsData,j=d.id,O=d.sponsorship,k=d.story_pin_data_id,C=d.story_pin_data,A=!!k,I=!(null==C||!C.is_deleted),E=O||{},T=E.creator,D=E.sponsor,z=E.status,R=(T||{}).username,Z=(D||{}).username,L=p.refresh,M=P?(0,g.lJ)(y,v):void 0,F=(x||{}).data,H=!d.is_repin&&Z,W=Z===y.username?[Cn.V3.OWNER]:null==F?void 0:F.permissions,G=Z===y.username||!(null==W||!W.find((function(e){return ie.Z.includes(e)}))),K=Z===y.username||!(null==W||!W.find((function(e){return ie.Z.includes(e)}))),q=this.state,X=q.closeupBodyContainerHeight,Y=q.didShortClickThrough,$=q.relatedPins,Q=q.showRelatedFeedUpsell,J=q.viewportSize,ee=((0,N.Z)((0,B.Z)({pin:d}))||{}).isWideVideo;this.mounted&&A&&this.updateCloseupBodyContainerHeight();var te=(0,Un.rh)(d,y,this.props.experimentsClient,M),ne=(0,Fn.CA)(null==w?void 0:w.data,this.props.experimentsClient),re=H&&y.isAuth&&c("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(G&&0===z||K&&1===z),oe=(d.aggregated_pin_data||{}).has_xy_tags,ae=A&&(null==C||null===(t=C.pages)||void 0===t?void 0:t.length)>0;return(0,V.jsx)(U.xu,{dangerouslySetInlineStyle:{__style:A?Wn(Wn({},or.storyPinGradientStyle),{},{minHeight:X+wt.JV,width:"100%"}):{}},id:"gradient","data-test-id":"gradient",display:"flex",justifyContent:"center",children:(0,V.jsx)(r.Fragment,{children:(0,V.jsx)(Qt.Z,{isStoryPin:A,isWideVideo:ee,children:(0,V.jsx)(S.Z,{name:"CloseupBody",children:(0,V.jsxs)(U.xu,{ref:this.setCloseupBodyContainerRef,children:[(0,V.jsxs)(U.xu,{alignItems:ee?"center":void 0,direction:ee?"column":void 0,display:ee?"flex":void 0,children:[re&&(0,V.jsx)(U.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,V.jsx)(S.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,V.jsx)(Jt.Z,{children:(0,V.jsx)(nr,{business_role:W,creatorUsername:R,sponsorshipStatus:z,pinId:j})})})}),(0,Un.WE)(y,J,te,ne,w,re)&&(0,V.jsx)(U.xu,{"data-test-id":"PartnerModule",width:"lg"===J&&ee?l.pdp:"100%",children:(0,V.jsx)(S.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,V.jsx)(Jt.Z,{children:(0,V.jsx)(tr,{borderStyle:ar,isStoryPin:A,pin:d,viewportSize:J,trendsData:ne?null==w||null===(n=w.data)||void 0===n?void 0:n.results:null,showPinStats:te})})})})]}),(0,V.jsx)(Ot,{data:p.data,didShortClickThrough:Y,goBack:this.handleBackButtonClick,hasXYcoordinates:oe,isEligibleForStlFlyout:i,isStoryPin:A,isDeletedStoryPin:!!I,isWideVideo:ee,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleClickLogging,onUpdate:L,outerBodyStyle:A?null:ar,pin:d,relatedResourceOptions:o,routePush:f,searchQuery:h,showRepinOnInitialRender:!u&&m,trafficSource:_,viewParameterType:ae?157:void 0,showStructuredDescription:b,taggedProducts:a}),Q&&$.length>0&&(0,V.jsx)(U.iP,{onTap:this.handleRelatedPinsUpsellOnTouch,children:(0,V.jsx)(Yt.Z,{})})]})})})})})}},{key:"renderRelatedModulesContent",value:function(e){var t,n=e.relatedResourceOptions,r=this.props,i=r.pin,o=r.topLevelTrafficSource,a=r.isORBACGA,l=r.viewer,s=r.orbacActingAs,c=(0,g.q6)(l,null===(t=i.pinner)||void 0===t?void 0:t.id,s);if(a&&c)return null;var u,d,p,f=this.state.viewportSize;return i&&i.id?(0,V.jsx)(qt,{pin:i,relatedResourceOptions:n,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:o,viewParameter:(0,oe.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(u=this.props.pin.rich_metadata)||void 0===u||!u.products),hasPinRichMetadataArticle:!(null===(d=this.props.pin.rich_metadata)||void 0===d||!d.article),hasPinRichMetadataRecipe:!(null===(p=this.props.pin.rich_metadata)||void 0===p||!p.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}),viewportSize:f}):null}},{key:"renderContent",value:function(e){var t,n,i,o=this,a=e.ideaPinStelaCategories,l=e.isEligibleForStlFlyout,s=e.inStlPinnerExp,c=e.taggedProducts,u=e.relatedResourceOptions,d=e.storyPinTaggedProducts,p=e.maxWidth,f=this.props,h=f.pin,m=f.pinResource,_=f.showStructuredDescription,g=f.topLevelTrafficSource,y=m.error,v=this.state,b=v.didShortClickThrough,x=v.firstLoadComplete,P=v.viewportSize,S=v.visualState.carouselData,O=h||{},k=O.image_signature,C=O.story_pin_data_id;if(0!==!Object.keys(h).length&&y)return(0,V.jsx)(j.Z,{});var A=!!C,I=!h.is_promoted,E=this.state.showRelatedContent&&this.renderRelatedModulesContent({relatedResourceOptions:u}),T=((c||[]).filter((function(e){return(0,M.Z)(e)}))||[])[0],D=(0,oe.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(t=this.props.pin.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(n=this.props.pin.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null===(i=this.props.pin.rich_metadata)||void 0===i||!i.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}),z=x&&this.isWideCarousel();return(0,V.jsxs)(r.Fragment,{children:[(0,V.jsx)(H.gD,{children:function(e){var t,n,r,i;return(0,V.jsx)("div",{className:"Closeup Module","data-test-id":x?"closeup-data-loaded":"",onClick:function(t){A||o.onWrapperClick(t),e&&(null==e||e.abort(An.Bu))},role:"presentation",style:or.closeupWrapperStyle,children:(0,V.jsxs)(U.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",width:"100%",children:[z&&(0,V.jsx)(gt,{disabled:!_,children:(0,V.jsx)(W,{containerId:"InnerScrollContainer",children:(0,V.jsx)(wn,{carouselSlots:null!==(t=null==S?void 0:S.carousel_slots)&&void 0!==t?t:[],commerceData:(0,lt.Kl)(h,{}),onImageSelect:o.handleCarouselSwipe,pinId:h.id,selectedIndex:(null==S?void 0:S.index)||0,viewParameter:(0,oe.Z)({hasPin:!!o.props.pin,hasPinRichMetadata:!!o.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(n=o.props.pin.rich_metadata)||void 0===n||!n.products),hasPinRichMetadataArticle:!(null===(r=o.props.pin.rich_metadata)||void 0===r||!r.article),hasPinRichMetadataRecipe:!(null===(i=o.props.pin.rich_metadata)||void 0===i||!i.recipe),hasPinStoryPinData:!!o.props.pin.story_pin_data}),size:"sm"})})}),o.renderBodyContent({ideaPinStelaCategories:a,isEligibleForStlFlyout:l,inStlPinnerExp:s,taggedProducts:c,relatedResourceOptions:u,storyPinTaggedProducts:d,maxWidth:p}),z&&(0,V.jsx)(U.xu,{width:ir.sm}),b&&!I&&(0,V.jsx)(jn.C,{})]})},"closeup-content")}}),(0,V.jsxs)(U.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!A&&T&&"story"===T.type&&s&&(0,V.jsx)(w.Z,{data:T,closeupImageSignature:k,pin:h,storyId:T.id,slotIndex:0,storyType:T.story_type,viewParameter:D,viewportSize:P,topLevelTrafficSource:g}),E]})]})}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,o=i.contextPinIds,a=i.deepLinkBackGoesToBoard,l=i.ideaPinStelaCategories,s=i.isLandingPage,c=i.pin,u=i.pinId,d=i.requestContext,p=i.taggedObjectsResource,f=i.topLevelTrafficSource,h=i.topLevelTrafficSourceDepth,m=i.trafficSource,_=i.searchQuery,g=i.storyPinTaggedProductsResource,y=i.viewer,v=this.state,P=v.backButtonLabelFitInScreen,w=v.visualState,j=w.carouselData,E=w.mainImage,T=w.previewImage,D=v.hideBackButton,z=v.isOverRelatedPins,R=v.isRelatedInterestsBannerDismissed,Z=v.viewportSize,L=!!c.story_pin_data,M=function(e){var t=e.isWideVideo,n=e.viewportSize;return!["md","sm"].includes(n)&&!t}({isWideVideo:((0,N.Z)((0,B.Z)({pin:c}))||{}).isWideVideo,viewportSize:Z}),U={name:"RelatedModulesResource",options:{pin_id:c.id,context_pin_ids:o,homefeed_source_sig:c.recommendation_reason&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(c.recommendation_reason.reason)&&c.recommendation_reason.reason_id,page_size:12,search_query:_,source:m,top_level_source:f,top_level_source_depth:h,is_pdp:c.is_eligible_for_pdp}},H=d.experimentsClient.checkExperiment("web_stl_pinner").anyEnabled,W=(p||{}).data,G=!!W&&W.length>0&&W.some((function(e){return(0,F.Z)(e)})),X=H&&G&&!(0,lt.Gy)(c),Y=(g||{}).data,Q=this.isWideCarousel(),J={pdp:Q&&M?wt.Ch:wt.CI,regular:wt.Gg},ee={pdp:Q?wt.Gb:wt.Kn,regular:wt.u6},te=this.renderContent({ideaPinStelaCategories:l,isEligibleForStlFlyout:X,inStlPinnerExp:H,taggedProducts:W,relatedResourceOptions:U,storyPinTaggedProducts:Y,maxWidth:ee});return(0,V.jsx)(jt.ZP.Provider,{value:(0,jt.Nb)({showCloseupContentRight:M,showProductDetailPage:!0,updateCloseupBodyContainerHeight:this.updateCloseupBodyContainerHeight,pdpCarouselSlotToPaneRatio:(0,jt.YO)({showProductDetailPage:!0,isLargerPane:Q,showCloseupContentRight:M}),viewportSize:Z,paneWidth:J,maxWidth:ee}),children:(0,V.jsxs)(Tn.A,{pin:c,overrideValue:{mainImage:E,previewImage:T,carouselInfo:j&&{carouselData:j,handleCarouselSwipe:this.handleCarouselSwipe,viewType:3,componentType:85,viewParameter:function(){var e,t,n;return(0,oe.Z)({hasPin:!!c,hasPinRichMetadata:!!c.rich_metadata,hasPinRichMetadataProducts:!(null===(e=c.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null===(t=c.rich_metadata)||void 0===t||!t.article),hasPinRichMetadataRecipe:!(null===(n=c.rich_metadata)||void 0===n||!n.recipe),hasPinStoryPinData:!!c.story_pin_data})}}},children:[(0,V.jsx)(A.Z,{placementId:12}),(0,V.jsx)(k.Z,{placementId:12}),(0,V.jsx)(O.Z,{placementId:12}),(0,V.jsx)(Zt.Z,{view:3,viewParameter:(0,B.Z)(this.props)?(0,oe.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(e=this.props.pin.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null===(t=this.props.pin.rich_metadata)||void 0===t||!t.article),hasPinRichMetadataRecipe:!(null===(n=this.props.pin.rich_metadata)||void 0===n||!n.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}):void 0,objectId:u,children:(0,V.jsxs)("div",{className:"reactCloseupScrollContainer",onFocus:this.handleFocus,ref:this.setResultScrollContainerRef,children:[(0,V.jsx)(S.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,V.jsx)(Jt.Z,{children:(0,V.jsx)(er,{placementId:12})})}),(0,V.jsx)(C.default,{placementId:12}),!D&&!L&&(0,V.jsx)(b.Z,{deepLinkBackGoesToBoard:a,handleScroll:this.handleScroll,isNewOrRes:(0,K.Z)(y.createdAt)||(0,q.Z)(null,y),onClick:function(){r.handleBackButtonClick()},showLabel:!(!P||z),showShadow:z,trafficSource:m}),(0,V.jsx)($.Z,{onClose:this.handleBackButtonClick}),te,(0,V.jsx)(I.Z,{placementId:12}),s&&z&&!R?(0,V.jsx)(x.Z,{pinId:u,onDismiss:this.onRelatedInterestsBannerDismiss}):null]})})]})})}}])&&Kn(t.prototype,n),i&&Kn(t,i),a}(r.Component);var hr=(0,kn.Z)((function(e){var t,n,o=e.pin,a=e.viewer,l=(0,de.v)().logContextEvent,s=(0,Ln.Z)(),c=(0,ve.ZP)(),u=(0,pe.F)(),d=u.checkExperiment,p=function(e){var t;return e&&(0,Sn.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isStaleProduct:e.is_stale_product,isOutOfStockProduct:e.is_oos_product})&&!e.story_pin_data&&(null===(t=e.formatted_description)||void 0===t?void 0:t.components)}(o),f=(0,Rn.f)(),m=f.setMostRecentPinId,_=f.setMostRecentPinImage,y=(0,Mn.hb)({isStoryPin:(0,Mn.hy)(o),isVideoPin:(0,Mn.iR)(o.videos)}),v="pin_closeup_lcp",b=(0,Bn.PY)(v),x=(0,zn.Z5)().conversationOpen,P=d("web_m10n_business_access_orbac_www").anyEnabled,w=d("web_m10n_business_access_orbac_www").anyEnabled,j=(0,h.Z)(),S=w?(0,g.lJ)(a,j):void 0;(0,r.useEffect)((function(){b&&(0,Bn.ku)({stopwatchName:v,binaryAnnotationName:"pinType",value:y,annotationType:"STRING"})}),[b,y]);var O=null==o||null===(t=o.sponsorship)||void 0===t||null===(n=t.sponsor)||void 0===n?void 0:n.id,k=!o.is_repin&&!!O,C=(0,vt.Z)(O&&k&&a.isAuth&&"storyPin"===y?{name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(O,"/me/ad_accounts_permissions/")}}:null),A=(0,Fn.Gv)(a,o,S)&&a.id,I=(0,vt.Z)(A?{name:"ApiResource",options:{url:"/v3/trends/partner/".concat(a.id||"","/trends_for_pin/").concat(o.id,"/"),data:{number_terms_to_return:10}}}:null),E=I.data,T=I.isLoaded;return(0,V.jsx)(fr,Wn(Wn({},e),{},{conversationOpen:x,dispatch:(0,i.useDispatch)(),experimentsClient:u,getSterlingURL:(0,Zn.Z)(),pwtSurfaceContext:(0,H.EV)(),requestContext:(0,rn.B)(),setMostRecentPinId:m,setMostRecentPinImage:_,toastManager:(0,Nn.F9)(),i18n:c,variantData:(0,ct._T)(),orbacActingAs:P?j:{},logContextEvent:l,showStructuredDescription:p,userBusinessRoleResource:C,isORBACGA:w,trackInteraction:s,trendsData:{data:E,isLoaded:!A||T}}))})),mr=n(915071),_r=n(558068),gr=["checkExperiment","currentHistoryStack","history","location","params","pinResource","requestContext","searchPinCloseupViewed","showQuickPromote","showRepin","viewer"];function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pr(e){e.checkExperiment;var t=e.currentHistoryStack,n=e.history,i=e.location,u=e.params,d=e.pinResource,h=e.requestContext,m=e.searchPinCloseupViewed,g=e.showQuickPromote,b=e.showRepin,x=e.viewer,P=xr(e,gr),w=d.data,j=d.isLoaded,S=(0,r.useRef)(null),O=j&&(null==w?void 0:w.pinner)&&x.isAuth&&x.username===w.pinner.username&&j&&w&&"extension"===w.method,k=(0,l.Z)(t,x.isAuth),C=k.trafficSource,A=k.topLevelTrafficSource,I=k.topLevelTrafficSourceDepth,E=k.contextPinIds;I>1&&"pin"!==C&&c.Z.increment("p2p.traffic_source.client",.1,{trafficSource:C,topLevelTrafficSource:A,topLevelTrafficSourceDepth:I});var T=(0,y._)(t),D=(0,v.mB)(i.search);return(0,r.useEffect)((function(){S!==w&&(0,f.Z)({history:n,isBot:h.isBot,location:i,viewerId:x.id||"",viewerIsAuth:x.isAuth}),S.current=w}),[n,i,S,w,h.isBot,x.id,x.isAuth]),(0,r.useEffect)((function(){return function(){T&&null!=w&&w.id&&m(w.id,T)}}),[null==w?void 0:w.id,T,m]),(0,V.jsx)(_.Q,{value:{featuredCommentId:u.comment_id||""},children:(0,V.jsx)(a.Z,{children:(0,V.jsx)(o.Z,{pinId:u.id||"",pinResource:d,children:function(e){var r,i,o=e.isLandingPage,a=e.isLimitedLogin,l=e.didRepin,c=e.openInbox,f=e.pin,h=e.shouldShowInbox,_=e.updateExperienceForPlacement;return(0,V.jsx)(ct.eL,{pin:f,children:(0,V.jsx)(hr,vr({contextPinIds:E,conversation_id:D.conversation_id,deepLinkBackGoesToBoard:O,didRepin:l,emailId:D.e_t,forceSendFeedback:D.fsf,goBack:(0,s.Z)({boardUrl:null==w||null===(r=w.board)||void 0===r?void 0:r.url,currentHistoryStack:t,history:n,isFromExtension:!!O,hasViewerPartner:!!x.partner}),isLandingPage:o,isLimitedLogin:a,messageId:D.message,onLoginClick:p.Z,openInbox:c,pin:f,pinId:null!==(i=u.id)&&void 0!==i?i:"",pinResource:d,routePush:n.push,searchQuery:T,searchPinCloseupViewed:m,senderId:D.sender,shouldShowInbox:h,showQuickPromote:g,showRepinOnInitialRender:b,topLevelTrafficSource:A,topLevelTrafficSourceDepth:I,trafficSource:C,updateExperienceForPlacement:_,viewer:x},P))})}})})})}function wr(e){var t=(0,i.useDispatch)(),n=(0,m.Z)(),o=(0,fe.useParams)(),a=(0,_r.aX)(),l=vr(vr({},e),{},{history:(0,fe.useHistory)(),location:(0,fe.useLocation)(),params:o,requestContext:(0,rn.B)(),searchPinCloseupViewed:function(e,n){return t((0,mr.Y4)(e,n))},viewer:n}),s=(0,pe.F)().checkExperiment;(0,r.useEffect)((function(){s("web_related_products_only"),s("web_pdpplus")}),[o.id,s]);var c={surface:"product_details",constraints:s("adding_thumbnails_constraint").anyEnabled?["image","resource","description","shopButton","thumbnailsLoaded"]:["image","resource","description","shopButton"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"]};return(0,V.jsx)(d.Z,vr(vr({},c),{},{children:(0,V.jsx)(u.Z,{pinId:o.id||"",orbacSubjectId:(0,g.lJ)(n,(0,h.Z)()),children:function(e){var t=e.pinResource;return(0,r.createElement)(Pr,vr(vr({},l),{},{checkExperiment:s,currentHistoryStack:a,pinResource:t,key:o.id}))}})}))}},712331:function(e,t,n){"use strict";var r=n(326884),i=[r.gO.ADMIN,r.gO.CAMPAIGN_MANAGER];t.Z=i},790904:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911),i=n(941646),o=n(908390),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.accessibilityLabel,n=e.handleClick,s=e.icon,c=e.iconColor,u=e.iconOnly,d=e.testId,p=e.buttonText,f=l((0,r.useState)(!1),2),h=f[0],m=f[1],_=(0,r.useRef)(),g=u?"md":"lg",y=c||"darkGray",v=function(){m((function(e){return!e})),n()},b=function(e){var t;_&&e.target instanceof Element&&(null===(t=_.current)||void 0===t||!t.contains(e.target))&&m(!1)};return(0,r.useEffect)((function(){return window.addEventListener("mousedown",b),function(){window.removeEventListener("mousedown",b)}}),[]),(0,a.jsx)(i.Z,{id:d||"closeup-action-bar-button",children:(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(o.hU,{accessibilityLabel:t,iconColor:y,onClick:v,selected:h,icon:s,size:g,ref:_}),p&&(0,a.jsx)(o.iP,{onTap:v,rounding:2,children:(0,a.jsx)(o.X6,{color:"light",overflow:"normal",size:"400",children:p})})]})})}},485237:function(e,t,n){"use strict";n.d(t,{R:function(){return ur},Z:function(){return dr}});var r=n(76911),i=n(506979),o=n(558329),a=n(499128),l=n(964569),s=n(898781),c=n(664569),u=n(407043),d=n(343341),p=n(162379),f=n(584595),h=n(515198);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,l,"next",e)}function l(e){y(o,r,i,a,l,"throw",e)}a(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.orbacSubjectId,n=e.pin,i=e.setIsLoadingNewlyCreatedComment,o=e.shouldHaveStickyCommentComposer,m=(0,s.ZP)(),g=(0,u.v)().logContextEvent,y=(0,l.Z)(),x=(0,d.F9)().showOneToast,P=b((0,r.useState)(!1),2),w=P[0],j=P[1],S=b((0,r.useState)(p.A.NONE),2),O=S[0],k=S[1];function C(){return(C=v(regeneratorRuntime.mark((function e(r){var o,l,s,u,d,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.contentMarkdown,s=r.force,u=r.tags,null!==(null===(o=n.aggregated_pin_data)||void 0===o?void 0:o.id)){e.next=3;break}return e.abrupt("return",!1);case 3:if(i(!0),e.prev=4,null===(d=n.aggregated_pin_data)||void 0===d||!d.id){e.next=9;break}return e.next=8,y({force:s,fromUnifiedComment:!0,objectType:c.o.pin,objectId:n.aggregated_pin_data.id,pinId:n.id,tags:u,text:l,orbacSubjectId:t});case 8:g({event_type:7,object_id_str:n.id,aux_data:_({num_user_mention_tags:(u?JSON.parse(u):[]).length},n.story_pin_data_id?{creator_id:null===(v=n.closeup_attribution)||void 0===v?void 0:v.id,story_pin_data_id:n.story_pin_data_id}:{})});case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),[f.ky,f.LJ].includes(e.t0.api_error_code)?k(e.t0.api_error_code===f.ky?p.A.WARNING:p.A.BLOCK):x((function(t){var n=t.hideToast;return(0,h.jsx)(a.ZP,{onHide:n,variant:"error",text:e.t0.message_detail||e.t0.message||m.bt("Ocorreu um erro ao publicar seu comentário.", "There was an issue posting your comment.", "comment.post.errorMessage", undefined, true)})})),i(!1),e.abrupt("return",!1);case 16:return j(!1),i(!1),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return(0,h.jsx)(p.Z,{dismissCommentWarningModal:function(){return k(p.A.NONE)},objectType:c.o.pin,onAddItem:function(e){return C.apply(this,arguments)},onCancelItem:function(){return j(!1)},onEnter:function(){return j(!0)},privatePin:"secret"===n.privacy,shouldShowEmojiTrayEntryPoint:!0,commentWarningModalState:O,isUiUpdated:o,statusType:w?"textInflightCreation":"textStaticDisplay"})}var w=n(564194),j=n(827896),S=function(e){var t=e.children,n=e.pinId,r=e.pinImageUrl,i=e.closeupNavigationType,o=(0,j.Z)();return(0,h.jsx)(w.Z,{componentType:85,impressionAuxFields:{imageURL:r,clientTrackingParams:o(n,{shouldTrackForPrevLocation:!0})},closeupNavigationType:i,closeupImpressionType:13,impressionType:"Pin",loggingId:n,slotIndex:-1,viewData:{pin_id:n},viewType:3,children:t})},O=n(699825),k=n(105265),C=n(298361),A=n(986644),I=n(349700),E=n(908390);function T(e){var t=(0,s.ZP)(),n=(0,C.Z)(),r=e.board,i=r.name,o=r.url,a=void 0===o?"":o,l=e.savedToTime,c=e.user,u=(0,I.nk)(t.bt("Salvo em {{boardName}}", "Saved to {{boardName}}", "Text describing which board a pin was saved to", undefined, true),{boardName:(0,h.jsx)(E.xv,{inline:!0,size:"200",lineClamp:1,weight:"bold",children:(0,h.jsx)(E.rU,{href:a,display:"inlineBlock",underline:"hover",children:i})},a)});return(0,h.jsxs)(E.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsx)(k.Z,{user:c}),(0,h.jsxs)(E.xu,{marginStart:4,width:"100%",children:[(0,h.jsx)(E.xv,{size:"200",weight:"bold",children:(0,h.jsx)(E.rU,{href:"/".concat(c.username,"/"),children:c.full_name})},c.username),(0,h.jsxs)(E.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",children:[(0,h.jsx)(E.xu,{width:250,children:(0,h.jsx)(E.xv,{lineClamp:1,size:"200",children:u})}),(0,h.jsx)(E.xv,{inline:!0,size:"200",color:"subtle",children:(0,A.A7)(l,t,n)})]})]})]})}var D=n(948618);function z(e){var t=e.onDismiss,n=(0,s.ZP)();return(0,h.jsxs)(E.xu,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",marginTop:9,marginBottom:9,children:[(0,h.jsx)(E.xu,{maxWidth:400,children:(0,h.jsx)(E.X6,{align:"center",size:"400",children:n.bt("Adicionado aos favoritos por", "Added to favorites by", "closeup.favoritesModal.heading", undefined, true)})}),(0,h.jsx)(E.xu,{position:"absolute",top:!0,left:!0,marginTop:-2,paddingX:7,children:(0,h.jsx)(E.hU,{accessibilityLabel:n.bt("Fechar", "Close", "closeup.favoritesModal.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})]})}var R=n(116303),Z=n(784590),L=n(19121),B=n(414327),M=n(81636);function F(e){var t=e.fullName,n=e.image,r=e.isViewer,i=e.username,o=(0,u.v)().logContextEvent,a=(0,s.ZP)(),l=function(){o({event_type:101,component:13798,view_type:132,view_parameter:3553})};return(0,h.jsxs)(E.xu,{alignItems:"center",display:"flex",paddingY:2,paddingX:6,children:[(0,h.jsx)(E.xu,{children:(0,h.jsx)(E.rU,{href:"/".concat(i,"/"),onClick:l,children:(0,h.jsx)(R.Z,{name:i,size:"md",src:n})})}),(0,h.jsx)(E.xu,{paddingX:2,children:(0,h.jsx)(E.X6,{size:"400",lineClamp:1,children:(0,h.jsxs)(E.rU,{href:"/".concat(i,"/"),onClick:l,children:[t," ",r&&a.bt("(você)", "(You)", "closeup.favoritesModal.viewerText", undefined, true)]})})})]})}function N(e){var t=e.pinId,n=(0,s.ZP)(),o=(0,i.useDispatch)();(0,r.useEffect)((function(){return function(){o((0,B.jB)("ApiResource",{url:"/v3/pins/".concat(t,"/favorite/users/")}))}}),[]);var a=(0,L.Z)(),l=a.isAuth?a.id:"";(0,M.Q)({view_type:132,view_parameter:3553});var c=(0,Z.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/favorite/users/")}}),u=c.data,d=c.fetchMore,p=c.isAtEnd,f=c.isFetching;if(u&&u.length>0){var m=u.map((function(e){var t=e.full_name,n=e.id,r=e.image_medium_url,i=e.username;return{fullName:t,image:r,isViewer:n===l,username:i}})),_=m.find((function(e){return e.isViewer}));return _&&(m.splice(m.indexOf(_),1),m.unshift(_)),(0,h.jsxs)(E.xu,{maxHeight:400,marginBottom:6,children:[m.map((function(e){return(0,h.jsx)(F,{fullName:e.fullName,image:e.image,isViewer:e.isViewer,username:e.username},e.username)})),!p&&(0,h.jsx)(E.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,h.jsx)(E.zx,{accessibilityLabel:n.bt("Ver mais", "See more", "closeup.favoritesModal.buttonAccessibilityLabel", undefined, true),disabled:f,onClick:d,text:n.bt("Ver mais", "See more", "closeup.favoritesModal.buttonText", undefined, true)})})]})}return(0,h.jsx)(E.$j,{accessibilityLabel:n.bt("Carregando a lista dos usuários que salvaram esse Pin como favorito", "Loading list of users who favorited this Pin", "closeup.favoritesModal.spinner", undefined, true),show:!0})}var U=n(121151);function H(e){var t=e.onDismiss,n=e.pinId,r=(0,s.ZP)();return(0,h.jsx)(U.ZP,{accessibilityModalLabel:r.bt("Ver favoritos no Pin", "View favorites on Pin", "closeup.favoritesModal.modalAccessibilityLabel", undefined, true),heading:(0,h.jsx)(z,{onDismiss:t}),onDismiss:t,size:"sm",children:(0,h.jsx)(N,{pinId:n})})}var V=n(694379);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n=(0,s.ZP)(),i=e.board,o=i.name,a=i.url,l=e.favoritedByMe,c=e.favoriteUserCount,u=e.pinId,d=e.user,p=W((0,r.useState)(!1),2),f=p[0],m=p[1],_=0;c&&(_=l?c-1:c);var g=n.bt("Adicionado aos favoritos por você", "Added to favorites by you", "closeup.pinnerSavedRep.favoritedByTextOnlyYou", undefined, true),y=(0,I.nk)(n.nbt(["Adicionado aos favoritos por {{count}} outra pessoa", "Adicionado aos favoritos por {{count}} outras pessoas"], _, "closeup.pinnerSavedRep.favoritedByTextOnlyOthers", true),{count:(0,h.jsx)(V.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_},"following-count")}),v=(0,I.nk)(n.nbt(["Adicionado aos favoritos por você e {{count}} outra pessoa", "Adicionado aos favoritos por você e {{count}} outras pessoas"], _, "closeup.pinnerSavedRep.favoritedByText", true),{count:(0,h.jsx)(V.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_},"following-count")});return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,h.jsx)(E.kC,{alignItems:"stretch",justifyContent:"start",flex:"none",children:(0,h.jsx)(k.Z,{user:d,size:"sm"})}),(0,h.jsxs)(E.xu,{marginStart:2,width:"100%",children:[(0,h.jsx)(E.xv,{inline:!0,size:"200",children:(0,I.nk)(n.bt("{{firstName}} salvou na pasta {{boardName}}", "{{firstName}} saved to {{boardName}}", "closeup.pinnerSavedRep.savedToText", undefined, true),{boardName:(0,h.jsx)(E.xv,{inline:!0,size:"200",weight:"bold",children:(0,h.jsx)(E.rU,{href:null!=a?a:"",display:"inlineBlock",underline:"hover",children:null!=o?o:""})}),firstName:(0,h.jsx)(E.xv,{inline:!0,size:"200",weight:"bold",children:(0,h.jsx)(E.rU,{href:"/".concat(d.username,"/"),display:"inlineBlock",underline:"hover",children:null!==(t=d.first_name)&&void 0!==t?t:""})})})}),(0,h.jsx)(E.xv,{inline:!0,children:(0,h.jsx)("span",{onClick:function(){m(!0)},onKeyDown:function(e){"Enter"===e.key&&m(!0)},role:"button",style:{cursor:"pointer"},tabIndex:"0",children:c?1===c&&l?(0,h.jsxs)(E.xv,{inline:!0,size:"200",weight:"bold",children:[(0,h.jsx)(D.Z,{}),g]}):(0,h.jsxs)(E.xv,{inline:!0,size:"200",weight:"bold",children:[(0,h.jsx)(D.Z,{}),l?v:y]}):null})})]})]}),f&&(0,h.jsx)(H,{onDismiss:function(){m(!1)},pinId:u})]})}var q=n(653498),X=n.n(q),Y=n(941646);function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J="__HashtagFlag__",ee=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,te=function(e,t){return"/search/pins/?q=".concat(encodeURIComponent(e),"&rs=").concat(t)};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var i=se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce,ue,de,pe=(de=function(e,t){for(var n=t.appendText||"",r=t.source||"hashtag_pinrep",i=[],o=[],a={},l=0,s=function(e){return function(t,n){if(t===J&&o.length){var i=o.shift();return l+=1,(0,h.jsx)(Y.Z,{id:"pinHashtag",children:(0,h.jsx)(E.xv,{color:"shopping",children:(0,h.jsx)(E.rU,{href:te(i,r),children:i})},"hashtag-".concat(e,".").concat(n))})}return t}},c=0;c<e.length;c+=1){var u=e[c];if("string"==typeof u){var d=u.replace(ee,(function(e){return o.push(e),a[e]=!0,J})).split(new RegExp("(".concat(J,")"))).map(s(c));i=[].concat($(i),$(d))}else i.push(u)}var p=[];return n&&n.replace(ee,(function(e,t){return!a[e]&&l<4&&(l+=1,p.push((0,h.jsxs)("span",{children:[" ",(0,h.jsx)(Y.Z,{id:"pinHashtag",children:(0,h.jsx)(E.xv,{color:"shopping",children:(0,h.jsx)(E.rU,{href:te(e,r),children:e})})})]},"appended"+t)),a[e]=!0),e})),i=[].concat($(i),p)},(ue="hashtags")in(ce={})?Object.defineProperty(ce,ue,{value:de,enumerable:!0,configurable:!0,writable:!0}):ce[ue]=de,ce),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,e);var t,n,r,i=ae(o);function o(){return re(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"shouldComponentUpdate",value:function(e){return!X()(this.props,e)}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.options;if("string"==typeof t&&""===t.trim())return t;for(var r=[t],i=0,o=Object.keys(pe);i<o.length;i++){var a=o[i];a in n&&(r=(0,pe[a])(r,n[a]))}return(0,h.jsx)("span",{children:r})}}])&&ie(t.prototype,n),r&&ie(t,r),o}(r.Component);function he(e){var t,n=e.pin,r=e.showFavoritesInformation,i=n.board,o=n.carousel_data,a=n.created_at,l=n.favorite_user_count,s=n.favorited_by_me,c=n.id,u=n.is_repin,d=n.pinner;if(!u&&o){var p=o.carousel_slots,f=void 0===p?[]:p,m=o.index,_=void 0===m?0:m;f[_]&&f[_].details&&(t=f[_].details)}return(0,h.jsxs)(E.xu,{marginBottom:10,children:[(0,h.jsx)(E.xu,{paddingY:2,children:r?(0,h.jsx)(K,{user:d,board:i,favoritedByMe:s,favoriteUserCount:l,pinId:c}):(0,h.jsx)(T,{user:d,board:i,savedToTime:a})}),!!t&&(0,h.jsx)(E.xu,{paddingY:3,marginBottom:1,children:(0,h.jsx)(E.xv,{children:(0,h.jsx)(fe,{text:t,options:{hashtags:{source:"hashtag_closeup"}}})})})]})}var me=n(139134),_e=n(502712),ge=n(215292),ye=n(35495),ve=n(623568),be=n(801827),xe=n(782534);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=e.pin,n=e.isStoryPin,i=e.isDeletedStoryPin,a=e.viewParameter,l=e.trafficSource,c=e.details,d=e.viewer,p=e.orbacActingAs,f=(0,s.ZP)(),m=(0,be.r)().carouselInfo,_=function(e){var t=e.pin,n=e.viewParameter,r=e.trafficSource,i=(0,j.Z)(),o=(0,u.v)().logContextEvent;return function(){o({event_type:12,object_id_str:t.id,view_type:3,component:85,view_parameter:n,aux_data:we({},(0,ye.Kl)(t)||{})}),o({event_type:8948,clientTrackingParams:i(t.id,{shouldTrackForPrevLocation:!0}),view_type:3,view_parameter:n,component:85,object_id_str:t.id,aux_data:we({click_type:"clickthrough",closeup_navigation_type:r&&(0,ve.sV)(r)?"deeplink":"click"},(0,ye.Kl)(t)||{})})}}({pin:t,viewParameter:a,trafficSource:l}),g=t.is_repin,y=o.y8(t,!!i).showReactions,v=!i&&o.VO(p,t,d);return(0,h.jsxs)(r.Fragment,{children:[n&&y&&!!t.reaction_counts&&(0,h.jsx)(E.xu,{marginTop:4,children:(0,h.jsx)(me.Z,{pinId:t.id,isStoryPin:n,reactionByMe:t.reaction_by_me||0,reactionCounts:t.reaction_counts})}),(0,h.jsx)(E.xu,{"data-test-id":"closeup-title",children:(0,h.jsx)(ge.q,{children:function(e){var r=e.hovered,i=e.onMouseEnter,o=e.onMouseLeave;return(0,h.jsx)(O.Z,{hovered:r,pin:t,trafficSource:l,viewType:3,children:(0,h.jsx)(E.xu,{onMouseEnter:i,onMouseLeave:o,children:(0,h.jsx)(_e.Z,{accessibilityLevel:n?1:void 0,carouselInfo:m,isLink:!n,onClick:_,pin:t})})})}})}),n&&!g&&(0,h.jsx)(E.xu,{marginTop:2,children:(0,h.jsx)(E.xv,{color:"subtle",children:(0,I.nk)(f.bt("Publicado em {{ publishDate }}", "Published on {{ publishDate }}", "closeup.body.publishDate", undefined, true),{publishDate:(0,h.jsx)(xe.Z,{dateFormatType:xe.k.LONG,useUTC:!1,value:new Date(t.created_at)},"storyPinCreated-".concat(t.created_at))})})}),(0,h.jsxs)(r.Fragment,{children:[c,!!o.p_(t,d)&&(0,h.jsx)(E.xu,{marginTop:2,children:(0,h.jsx)(he,{pin:t,showFavoritesInformation:v})})]})]})}var Oe=n(319915),ke=n(827834),Ce=n(605028),Ae=n(312918),Ie=n(6637),Ee=n(878552),Te=n(134906);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e){var t=e.pin,n=e.leadFormResponseState,i=e.setIsLoadingLeadFormSubmit,o=e.setLeadFormResponseState,a=e.submitButtonRef,l=(0,s.ZP)(),c=(0,Ee.Q)(),d=c.leadGen,p=c.updateLeadGenInfo,f=Ze((0,r.useState)(d.fullName),2),m=f[0],_=f[1],g=Ze((0,r.useState)(d.email),2),y=g[0],v=g[1],b=Ze((0,r.useState)(d.phoneNumber),2),x=b[0],P=b[1],w=Ze((0,r.useState)(d.zipCode),2),j=w[0],S=w[1],O=Ze((0,r.useState)(null),2),k=O[0],C=O[1],A=Ze((0,r.useState)(null),2),T=A[0],D=A[1],z=t.pinner,R=z.full_name,Z=z.first_name,L=z.image_medium_url,B=z.verified_identity,M=z.is_verified_merchant,F=z.username,N=t.promoted_lead_form,U=N.advertiser_id,H=N.lead_id,V=N.privacy_policy_link,W=N.completion_message,G=t.title,K=t.ad_destination_url,q=t.description,X=t.id,Y=t.promoted_is_lead_ad,$=!!Object.keys(B).length,Q="/".concat(F,"/"),J=(0,u.v)().logContextEvent,ee=d.formSubmissions,te=ee[H];return(0,r.useImperativeHandle)(a,(function(){return{handleClick:function(){var e,t,n=(e=(0,Te.VG)({message:l.bt("Insira um nome válido", "Please enter a valid name", "[m10n] leadGenContainer.nameValError", undefined, true)}),t=(0,Te.a3)(m,[e]),D(t),!t),r=function(){var e=(0,Te.GT)({message:l.bt("Insira um endereço de email válido", "Please enter a valid email address", "[m10n] leadGenContainer.emailValError", undefined, true)}),t=(0,Te.a3)(y,[e]);return C(t),!t}();if(n&&r){i(!0);var a={fullName:m,email:y,phoneNumber:x,zipCode:j,formSubmissions:ee};p(a);var s={advertiser_id:U.toString(),lead_id:H.toString(),full_name:m,email:y,phone_number:x,zip_code:j};Ie.Z.create("ApiResource",{url:"/v3/lead/submit/",data:s}).callCreate().then((function(){var e=ze({},ee);e[H]=X,p(ze(ze({},a),{},{formSubmissions:e})),i(!1),o("success"),J({event_type:10368,view_type:175,view_parameter:null,component:14307})})).catch((function(){i(!1),o("error"),J({event_type:10370,view_type:175,view_parameter:null,component:14307,aux_data:{error_code:500}})}))}}}})),(0,r.useEffect)((function(){J({event_type:10363,view_type:175,view_parameter:null,component:14307,aux_data:{lead_form_id:H}}),te?(o("success"),J({event_type:13,view_type:175,view_parameter:null,component:14308,aux_data:{lead_form_id:H}})):J({event_type:13,view_type:175,view_parameter:null,component:14307,aux_data:{lead_form_id:H}})}),[te,H,J,o]),(0,h.jsx)(r.Fragment,{children:"success"===n||te?(0,h.jsxs)(E.xu,{paddingY:3,children:[(0,h.jsx)(E.X6,{size:"600",children:l.bt("Your information was sent!", "Your information was sent!", "[m10n] closeup.leadGen.InformationSentMessage", undefined, false)}),(0,h.jsx)(E.xu,{paddingY:3,children:(0,h.jsx)(E.xv,{size:"300",children:W})}),(0,h.jsx)(Ae.default,{fullName:R,hasVerifiedIdentity:$,imageUrl:L,isPromoted:Y,isVerifiedMerchant:M,profileUrl:Q,isLeadPin:!0}),(0,h.jsx)(E.xu,{paddingY:6,children:(0,h.jsx)(E.zx,{accessibilityLabel:l.bt("Acessar o site", "Visit site", "[m10n]closeup.leadGen.visitSiteButton", undefined, true),size:"lg",text:l.bt("Acessar o site", "Visit site", "[m10n]closeup.leadGen.visitSiteButton", undefined, true),onClick:function(){J({event_type:8948,view_type:175,view_parameter:null,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",lead_form_id:H}})},role:"link",target:"blank",href:K,color:"gray"})})]}):(0,h.jsxs)(E.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:12,paddingBottom:24}},children:[(0,h.jsxs)(E.kC,{direction:"column",justifyContent:"between",gap:{row:0,column:3},children:[(0,h.jsx)(E.X6,{size:"600",children:G}),(0,h.jsx)(E.xv,{size:"300",children:q}),(0,h.jsx)(Ae.default,{fullName:R,hasVerifiedIdentity:$,imageUrl:L,isPromoted:Y,isVerifiedMerchant:M,profileUrl:Q,isLeadPin:!0})]}),(0,h.jsx)(E.xu,{paddingY:6,children:(0,h.jsxs)(E.kC,{direction:"column",gap:{row:0,column:3},children:[(0,h.jsx)(E.nv,{label:l.bt("Nome completo", "Full name", "[m10n]closeup.body.leadGenFullName", undefined, true),errorMessage:T,size:"lg",id:"leadGen-firstNameTextField",name:"firstNameTextField",placeholder:l.bt("Insira seu nome completo", "Enter full name", "[m10n]closeup.leadGen.leadGenFullNamePlaceholder", undefined, true),value:m,onChange:function(e){var t=e.value;return _(t)},onBlur:function(){return J({event_type:10367,view_type:175,view_parameter:null,component:14307,element:13411,aux_data:{lead_form_id:H}})},type:"text"}),(0,h.jsx)(E.nv,{label:l.bt("email", "Email", "[m10n]closeup.leadGen.leadGenEmail", undefined, true),errorMessage:k,size:"lg",id:"email",placeholder:l.bt("Insira o email", "Enter email", "[m10n]closeup.leadGen.leadGenEmailPlaceholder", undefined, true),onChange:function(e){var t=e.value;return v(t)},onBlur:function(){return J({event_type:10367,view_type:175,view_parameter:null,component:14307,element:13412,aux_data:{lead_form_id:H}})},value:y,type:"email",autoComplete:"email"}),(0,h.jsx)(E.nv,{label:l.bt("Telefone (opcional)", "Phone number (optional)", "[m10n]closeup.leadGen.leadGenPhoneNumber", undefined, true),size:"lg",id:"leadGen-phoneNumberTextField",name:"phoneNumberTextField",placeholder:l.bt("Insira o número de telefone", "Enter phone number", "[m10n]closeup.leadGen.leadGenPhoneNumberPlaceholder", undefined, true),onChange:function(e){var t=e.value;return P(t)},onBlur:function(){return J({event_type:10367,view_type:175,view_parameter:null,component:14307,element:13413,aux_data:{lead_form_id:H}})},value:x,type:"text"}),(0,h.jsx)(E.nv,{label:l.bt("Código postal (opcional)", "Zip code (optional)", "[m10n]closeup.leadGen.leadGenZipCode", undefined, true),size:"lg",id:"leadGen-zipCodeTextField",name:"zipCodeTextField",placeholder:l.bt("Insira o código postal", "Enter zip code", "[m10n]closeup.leadGen.leadGenZipCodePlaceholder", undefined, true),onChange:function(e){var t=e.value;return S(t)},onBlur:function(){return J({event_type:10367,view_type:175,view_parameter:null,component:14307,element:13414,aux_data:{lead_form_id:H}})},value:j,type:"text"}),"error"===n&&(0,h.jsxs)(E.xu,{display:"flex",marginTop:2,justifyContent:"start",children:[(0,h.jsx)(E.qb,{type:"problem"}),(0,h.jsx)(E.xu,{paddingX:2,children:(0,h.jsx)(E.xv,{size:"100",color:"error",children:l.bt("Ocorreu um erro. Tente clicar em \"Enviar\" novamente.", "Something went wrong. Please try \"Submit\" again.", "[m10n] closeup.leadGen.InternalErrorMessage", undefined, true)})})]})]})}),(0,h.jsx)(E.xv,{size:"100",color:"subtle",children:(0,I.nk)(l.bt("Ao enviar, você concorda em compartilhar suas informações com a {{ brand }} para uso de acordo com {{ privacyPolicy }}. Isso também pode sugerir a eles que você está no grupo que eles estão tentando alcançar com este anúncio.", "By submitting, you agree to send your info to {{ brand }} for use according to {{ privacyPolicy }}. It may also suggest to them that you are in the group they are trying to reach with this ad.", "[m10n]closeup.leadGen.leadGenDisclaimer", undefined, true),{brand:Z,privacyPolicy:(0,h.jsx)(E.rU,{href:V,target:"blank",display:"inlineBlock",underline:"always",children:l.bt("sua respectiva política de privacidade", "their privacy policy", "[m10n]closeup.leadGen.privacyPolicy", undefined, true)},H)})})]})})}var Me=n(333312),Fe=n(385646),Ne=n(537313);function Ue(e){var t,n=e.actionBarHeight,i=e.isStoryPin,o=e.onClickThrough,a=e.pin,l=(0,s.ZP)(),c=(0,r.useRef)(),u=a.origin_pinner||{},d=u.full_name,p=u.username,f=(0,Ne.Wp)(a).currentDomain;return t="Uploaded by user"===f?p&&(0,h.jsx)(E.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:(0,h.jsx)(E.xv,{inline:!0,children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:(0,I.nk)(l.bt("Carregado por {{ user }}", "Uploaded by {{ user }}", "link to user who uploaded the pin", undefined, true),{user:(0,h.jsx)(E.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(E.rU,{display:"inlineBlock",href:"/".concat(p),underline:"hover",children:(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px"}},children:d||p})})},"CloseupLink--Link")})})})}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(Ne.ZP,{actionBarHeight:n,onClickThrough:o,pin:a,showDomainInLink:!0,children:(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},ref:c,children:(0,h.jsx)(E.xv,{children:(0,Fe.f)(f)})})}),i&&(0,h.jsx)(Me.default,{showCaret:!0,anchor:c.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,textAlign:"center",textWeight:"normal"})]}),(0,h.jsx)(E.xu,{display:"inlineBlock",position:"relative",width:"100%",children:t})}var He=n(947599),Ve=n(92261);function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=(0,r.lazy)((function(){return Promise.all([n.e(67419),n.e(16333),n.e(7606),n.e(94539),n.e(21177)]).then(n.bind(n,319875))}));function qe(e){var t=e.pin,n=e.data,i=e.goBack,o=e.isStoryPin,a=e.onClickThrough,l=e.onUpdate,c=e.viewParameter,u=e.onSaveButtonClick,d=e.showRepinOnInitialRender,p=e.actionBarContainerRef,f=e.trafficSource,m=e.visualContentContainerHeight,_=e.descriptionPaneWidth,g=e.metadataContainerRef,y=We((0,r.useState)(!1),2),v=y[0],b=y[1],x=We((0,r.useState)(null),2),P=x[0],w=x[1],j=(0,s.ZP)(),S=(0,r.useRef)(),k=window.innerHeight-155;return(0,h.jsx)(E.xu,{"data-test-id":"lead-gen-description-content-container",display:"flex",direction:"column",height:"100%",maxHeight:m,width:_,children:!n||v?(0,h.jsx)(E.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,h.jsx)(E.$j,{accessibilityLabel:j.bt("Carregando detalhes do Pin", "Pin details loading", " - ", undefined, true),show:!0})}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:Ve.g9,paddingLeft:Ve.g9}},direction:"column",display:"flex",flex:"grow",maxHeight:k,overflow:"auto",children:[(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(Ke,{goBack:i,gridDescription:t.description,isDeletedStoryPin:!1,isOnSecretBoard:!1,onEditSubmit:l,pin:t,viewParameter:c,onSaveButtonClick:u,showRepinOnInitialRender:d,isStoryPin:!1,actionBarContainerRef:p,outerPaddingSize:Ve.$T,showLeadPin:!0})})}),(0,h.jsx)(E.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"start",direction:"column",ref:g,children:(0,h.jsxs)(E.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsx)(E.xu,{direction:"row",display:"flex","data-test-id":"maybe-clickthrough-link",children:(0,h.jsx)(ge.q,{children:function(e){var n,r=e.hovered,i=e.onMouseEnter,l=e.onMouseLeave;return(0,h.jsx)(O.Z,{hovered:r,pin:t,trafficSource:f,viewType:3,children:(0,h.jsx)(E.xu,{onMouseEnter:i,onMouseLeave:l,children:(0,h.jsx)(Ue,{actionBarHeight:(null===(n=p.current)||void 0===n?void 0:n.offsetHeight)||Ve.Ie,onClickThrough:a,pin:t,isStoryPin:o})})})}})}),(0,h.jsx)(Be,{pin:t,leadFormResponseState:P,setIsLoadingLeadFormSubmit:b,setLeadFormResponseState:w,submitButtonRef:S})]})})]}),"success"!==P&&(0,h.jsx)(E.Le,{bottom:0,children:(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF",borderBottomRightRadius:32,borderBottomLeftRadius:32}},color:"default",paddingX:8,paddingY:3,width:"100%",children:(0,h.jsx)(E.kC,{alignItems:"stretch",justifyContent:"end",children:(0,h.jsx)(E.zx,{onClick:function(){var e;return null===(e=S.current)||void 0===e?void 0:e.handleClick()},type:"submit",accessibilityLabel:j.bt("Enviar", "Submit", "[m10n]closeup.leadGen.submitButton", undefined, true),size:"lg",text:j.bt("Enviar", "Submit", "[m10n]closeup.leadGen.submitButton", undefined, true),color:"red"})})})})]})})}var Xe=function(e){var t=e.pin,n=e.creator,r=(0,u.v)().logContextEvent,i=(0,s.ZP)();return(0,h.jsxs)(E.xu,{children:[(0,h.jsx)(E.xu,{marginBottom:1,children:(0,h.jsx)(E.xv,{size:"200",children:(0,I.nk)(i.bt("Uma versão de {{ title }}", "A take on {{ title }}", "closeup.callToCreateAttribution.pinTitle", undefined, true),{title:(0,h.jsx)(E.rU,{href:"/pin/".concat(t.id||"","/"),onClick:function(){r({event_type:101,element:12682,view_type:3,aux_data:{object_id_str:t.id}})},display:"inlineBlock",underline:"hover",children:(0,h.jsx)(E.xv,{inline:!0,size:"200",weight:"bold",children:t.title||""})})})})}),(0,h.jsx)(E.xv,{size:"200",children:(0,I.nk)(i.bt("por {{ creator }}", "by {{ creator }}", "closeup.callToCreateAttribution.creatorName", undefined, true),{creator:(0,h.jsx)(E.rU,{href:"/".concat(n.username||"","/"),onClick:function(){r({event_type:101,view_type:3,element:12683,object_id_str:t.id})},display:"inlineBlock",underline:"hover",children:(0,h.jsx)(E.xv,{inline:!0,size:"200",weight:"bold",children:n.full_name||""})})})})]})},Ye=n(609500);function $e(e){var t,n,r,i,o,a,l,c=e.pin,d=(0,u.v)().logContextEvent,p=(0,s.ZP)(),f=(0,Ye.useHistory)(),m=(null===(t=c.images)||void 0===t?void 0:t["736x"])||(null===(n=c.images)||void 0===n?void 0:n["236x"])||(null===(r=c.images)||void 0===r?void 0:r["170x"]);return m?(0,h.jsxs)(E.iP,{onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),d({event_type:101,view_type:1,view_parameter:3652,object_id_str:c.id}),c.id&&f.push("/pin/".concat(c.id,"/"))},rounding:4,children:[(0,h.jsx)(E.zd,{rounding:4,wash:!0,children:(0,h.jsx)(E.Ee,{alt:c.title||"",color:c.dominant_color||"lightGray",naturalHeight:m.height||1,naturalWidth:m.width||1,src:m.url||"",children:c.story_pin_data&&(0,h.jsx)(E.xu,{flex:"grow",children:(0,h.jsxs)(E.xu,{alignItems:"center",display:"flex",height:24,margin:2,overflow:"hidden",padding:2,position:"absolute",rounding:"pill",top:!0,zIndex:new E.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},children:[(0,h.jsx)(E.xu,{marginEnd:1,children:(0,h.jsx)(E.JO,{accessibilityLabel:p.bt("identificador que mostra o tipo de Pin", "identifier that shows the pin type", "closeup.callToCreateResponsePinRep.iconAccessibilityLabel", undefined, true),color:"default",icon:"idea-pin",inline:!0,size:12})}),(0,h.jsx)(E.xv,{inline:!0,size:"100",weight:"bold",children:(null===(i=c.story_pin_data)||void 0===i?void 0:i.page_count)||0})]})})})}),(0,h.jsx)(E.kC,{justifyContent:"around",children:(0,h.jsx)(E.xu,{height:48,width:48,marginTop:-6,children:(0,h.jsx)(R.Z,{name:(null===(o=c.pinner)||void 0===o?void 0:o.full_name)||"",size:"fit",src:(null===(a=c.pinner)||void 0===a?void 0:a.image_medium_url)||(null===(l=c.pinner)||void 0===l?void 0:l.image_small_url)||""})})})]}):null}var Qe=n(66699),Je=function(e){var t=e.size,n=void 0===t?24:t,r=(0,s.ZP)();return(0,h.jsx)(E.JO,{color:"default",accessibilityLabel:r.bt("Ícone de chamada para a criação de versões", "Call To Create Takes icon", "calltocreateresponsecard.icon.takes_arrow", undefined, true),icon:void 0,size:n,dangerouslySetSvgPath:{__path:"M24 17.995C24 19.105 23.1 19.995 21.99 19.995C20.88 19.995 19.98 19.095 19.98 17.995C19.98 13.855 16.6 10.485 12.45 10.485H7.65L10.79 13.615C11.57 14.395 11.57 15.665 10.79 16.445C10.01 17.225 8.74 17.225 7.95 16.445L0 8.515L7.94 0.585C8.72 -0.195 9.99 -0.195 10.78 0.585C11.56 1.365 11.56 2.635 10.78 3.415L7.72 6.465H12.45C18.82 6.465 24 11.635 24 17.995Z"}})},et=n(422946),tt=n(350118);function nt(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it=["pin.call_to_create_source_pin_id","pin.images[170x,236x,736x]","pin.id","pin.title","pin.pinner()","pin.story_pin_data()","pin.tracking_params","pin.type"],ot=function(e){var t=e.pinId,n=e.responseCount,o=(0,u.v)().logContextEvent,a=(0,s.ZP)(),l=(0,Z.Z)({name:"ApiResource",options:{data:{fields:it.join(","),page_size:4},url:"/v3/call_to_create_pins/".concat(t,"/pins/"),pin_id:t,redux_normalize_feed:!0}}),c=l.fetchMore,d=l.isAtEnd,p=l.isFetching,f=(0,tt.AF)(),m=(0,i.useSelector)((function(e){return(e.feeds["".concat(et.DV.CALL_TO_CREATE_RESPONSES_FEED,":").concat(t)]||[]).map((function(e){return f[e.id]}))})),_=Math.ceil(m.length/4),g=!d||d&&m.length<=4;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{marginBottom:4,display:"flex",alignItems:"center",children:[(0,h.jsx)(E.xu,{marginEnd:2,children:(0,h.jsx)(Je,{size:20})}),(0,h.jsx)(E.X6,{size:"400",children:(0,Qe.Z)(a.nbt(["{{responseCount}} versão inspirada neste Idea Pin", "{{responseCount}} versões inspiradas neste Idea Pin"], n, "closeup.callToCreateResponseCard.heading", true),{responseCount:n.toString()})})]}),m.length>0&&(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(E.xu,{marginStart:-2,marginEnd:-2,children:nt(Array(_).keys()).map((function(e){return(0,h.jsx)(E.xu,{display:"flex",alignItems:"stretch",justifyContent:"start",width:"100%",children:m.slice(4*e,4*(e+1)).map((function(e,t){return(0,h.jsx)(E.xu,{width:"".concat(25,"%"),children:(0,h.jsx)(E.xu,{margin:2,children:(0,h.jsx)($e,{pin:e})})},t)}))},e)}))}),g&&(0,h.jsx)(E.xu,{marginTop:4,children:(0,h.jsx)(E.zx,{text:a.bt("Ver mais", "View more", "closeup.callToCreateResponseCard.viewMoreButon", undefined, true),onClick:function(){o({event_type:101,view_type:1,element:12692,object_id_str:t}),c()},disabled:p||d})})]}),(0,h.jsx)(E.$j,{accessibilityLabel:a.bt("Carregando", "Loading", "Label for loading spinner", undefined, true),show:p&&m.length<1})]})},at=n(966676),lt=function(e){var t=e.commentCount,n=e.icon,r=e.onIconClick,i=(0,s.ZP)(),o=i.bt("Comentários", "Comments", "comments on a Pin", undefined, true);if(t){var a=i.nbt(["{{ count }} comentário", "{{ count }} comentários"], t, "comments on a Pin", true);o=(0,Qe.Z)(a,{count:t.toString()})}return(0,h.jsxs)(E.X6,{align:"start",size:"400",accessibilityLevel:2,children:[o,(0,h.jsx)(E.xu,{display:"inlineBlock",marginStart:1,children:(0,h.jsx)(E.hU,{accessibilityLabel:i.bt("Menu suspenso \"Mostrar mais comentários\"", "Show more comments dropdown", "Closeup.CanonicalCard.ExpandCommentsButton", undefined, true),icon:n,onClick:r,size:"md"})})]})},st=n(852782),ct=n(904202),ut=n(274415),dt=n(283855),pt=n(139405),ft=n(780280);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vt=(0,ct.P1)((function(e,t,n){return n}),(function(e,t){return e.feeds["".concat(et.DV.UNIFIED_COMMENTS,":").concat(t)]}),(function(e){return e.didItData}),(function(e,t,n){return(null==t?void 0:t.map((function(t){var r=t.id;return"aggregatedcomment"===t.type.toLowerCase()?e[r]:n[r]})).filter((function(e){return e})))||[]})),bt=function(e){var t,n,o,a,l,s,u,d=e.commentCount,p=e.scrollContainerRef,f=e.featuredCommentId,m=e.isCommentSectionOpen,_=e.onCommentSectionClick,g=e.photoCount,y=e.pin,v=e.isLoadingNewCreatedComment,b=e.isORBACProfileManager,x=e.shouldHaveStickyCommentComposer,P=(0,pt.lV)(),w=(0,pt.nf)(),j=w.toggleAggregatedCommentHelpful,S=w.toggleAggregatedCommentLike,O=(0,Z.Z)({name:"UnifiedCommentsResource",options:{aggregated_pin_id:null===(t=y.aggregated_pin_data)||void 0===t?void 0:t.id,comment_featured_ids:f,page_size:x?5:2,redux_normalize_feed:!0}}),k=O.fetchMore,C=O.isAtEnd,A=O.isFetching,I=O.isLoaded,T=(0,i.useSelector)((function(e){var t;return vt(e,null===(t=y.aggregated_pin_data)||void 0===t?void 0:t.id,P)})),D=(0,r.useContext)(at.ZP).updateCloseupBodyContainerHeight,z=gt((0,r.useState)(!1),2),R=z[0],L=z[1],B=gt((0,r.useState)(void 0),2),M=B[0],F=B[1],N=gt((0,r.useState)(void 0),2),U=N[0],H=N[1];(0,r.useEffect)((function(){D&&D()}),[D]);return(0,r.useEffect)((function(){setTimeout((function(){L(!0)}),1e3)}),[]),(0,h.jsxs)(E.kC,{dataTestId:"canonical-card",direction:"column",gap:{row:0,column:4},children:[(0,h.jsx)(lt,{commentCount:Math.max(d+g,0),icon:m?"arrow-down":"arrow-forward",onIconClick:function(){_&&_(!m)}}),R&&m&&(0,h.jsxs)(r.Fragment,{children:[!!p&&x&&(0,h.jsx)(E.gr,{container:p,isAtEnd:C,isFetching:A,fetchMore:k}),(0,h.jsx)(st.Z,{comments:T,displayShowMoreButton:!C&&!x,featuredCommentId:f,gapSize:5,isDesktop:!0,isLoading:I&&v,loadMore:k,toggleReplyComposer:function(e){F(null==e?void 0:e.id)},parentId:null===(n=y.aggregated_pin_data)||void 0===n?void 0:n.id,parentType:c.o.pin,replyingToCommentId:M,toggleHelpful:function(e,t){return function(){j({aggregatedCommentId:e,isMarkedHelpfulByMe:t})}},toggleLike:function(e,t){return function(){S({aggregatedCommentId:e,isLikedByMe:t})}},userAvatarSize:"sm",isORBACProfileManager:b,aggregatedPinDataId:null===(o=y.aggregated_pin_data)||void 0===o?void 0:o.id,closeupAttributionId:null===(a=y.closeup_attribution)||void 0===a?void 0:a.id,closeupAttributionUsername:null===(l=y.closeup_attribution)||void 0===l?void 0:l.username,pinId:y.id,isVideo:(0,ve.iR)(y.videos),storyPinDataId:null===(s=y.story_pin_data)||void 0===s?void 0:s.id,pinnerId:null===(u=y.pinner)||void 0===u?void 0:u.id,showReactionListForComment:H,reactionListCommentId:U})]})]})};function xt(e){var t,n,r,o,a=(0,i.useDispatch)(),l=null!==(t=e.pin.aggregated_pin_data)&&void 0!==t?t:{};return(0,h.jsx)(bt,mt(mt({},e),{},{commentCount:null!==(n=l.comment_count)&&void 0!==n?n:0,featuredCommentId:(0,dt.K)(),photoCount:null!==(r=null===(o=l.did_it_data)||void 0===o?void 0:o.images_count)&&void 0!==r?r:0,pinUpdateCommentCount:function(e,t){return a((0,ut.R)(e,t))},requestContext:(0,ft.B)()}))}var Pt=n(748373),wt=n(238873),jt=n(802933),St=n(762615),Ot=n(432730),kt=n(833049),Ct=n(561195),At=n(883561),It=n(608226),Et=n(923297);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var i=Bt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e){return e.replace(/\s+/g," ")}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(o,e);var t,n,r,i=Zt(o);function o(){return Dt(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props.onUpdate;e&&e()}},{key:"componentDidUpdate",value:function(e){if(e.showMore!==this.props.showMore){var t=this.props.onUpdate;t&&t()}}},{key:"render",value:function(){var e,t=this.props,n=t.isArticle,r=t.pin,i=t.tutorialDescription,o=t.showMore,a=t.onToggle,l=t.i18n,s=r.carousel_data,c=r.closeup_unified_description,u=r.user_mention_tags,d=r.story_pin_data,p=(c||"").trim();if(s){var f=s.carousel_slots,m=void 0===f?[]:f,_=s.index,g=void 0===_?0:_;m[g]&&m[g].details&&(p=m[g].details)}var y=p&&i&&i.trim()===p,v=p?Ut(p):"";if((v=!o&&v&&v.length?(0,At.ZP)(v,n?195:200):v)&&u){var b=function(e,t,n){var r=[];return e.forEach((function(e){var i,o=t.substr(0,e.offset),a=n(o),l=(null!==(i=e.offset)&&void 0!==i?i:0)-(o.length-a.length);r.push(Ft(Ft({},e),{},{offset:l}))})),r}(u,p,Ut);v=(0,h.jsx)(Pt.Z,{description:v,userMentionTags:b})}var x=p&&p.length>(n?195:200),P=null,w=null==d||null===(e=d.metadata)||void 0===e?void 0:e.basics,j=(0,wt.Z)((0,St.Z)((0,Ot.Z)((0,jt.Z)(this.props))));if(w){var S,O=d.metadata.basics;r&&r.domain&&r.link&&(S={domain:r.domain,url:r.link}),P=(0,It.H)({basics:O,linkData:S,i18n:l})}else if(j){var k,C,A,T,D,z,R=this.props.pin,Z=j.recipe,L=Z.prepTime,B=Z.cookTime,M=Z.totalTime,F=Z.servingSummary,N=M||B||L;if(B&&L){var U=B.h||0,H=B.m||0;N={h:U+(L.h||0),m:H+(L.m||0)}}var V=N?(0,kt.Z)((0,Et.X)(N),this.props.i18n):null,W=null===(k=R.rich_metadata)||void 0===k||null===(C=k.recipe)||void 0===C||null===(A=C.aggregate_rating)||void 0===A?void 0:A.review_count;F&&(P=(0,h.jsx)(E.xv,{inline:!0,size:"200",children:F},"recipe")),V&&(P=P?(0,I.nk)("{{ timeLabel }} · {{ description }}",{timeLabel:V,description:P}):V),"number"==typeof W&&W>0&&(P=P?(0,I.nk)(this.props.i18n.bt("{{ reviewCount }} avaliações · {{ description }}", "{{ reviewCount }} reviews · {{ description }}", "number of reviews on a recipe and the description", undefined, true),{reviewCount:W,description:P}):W);var G,K,q,X,Y,$,Q=null===(T=R.rich_metadata)||void 0===T||null===(D=T.recipe)||void 0===D||null===(z=D.aggregate_rating)||void 0===z?void 0:z.rating_value;"number"==typeof Q&&Q>=.25&&(P=P?(0,I.nk)("{{ ratings }} {{ description }}",{ratings:(0,h.jsx)(Ct.Z,{rating:Q,max_rating:null===(G=R.rich_metadata)||void 0===G||null===(K=G.recipe)||void 0===K||null===(q=K.aggregate_rating)||void 0===q?void 0:q.best_rating,width:12},Q),description:P}):(0,h.jsx)(Ct.Z,{rating:Q,max_rating:null===(X=R.rich_metadata)||void 0===X||null===(Y=X.recipe)||void 0===Y||null===($=Y.aggregate_rating)||void 0===$?void 0:$.best_rating,width:12},Q))}return v&&!y?(0,h.jsxs)("span",{children:[(0,h.jsx)(E.xv,{inline:!0,size:"200",children:P?(0,I.nk)("{{ recipeInfo }} · {{ description }}",{recipeInfo:P,description:v}):v}),x&&!o&&(0,h.jsx)(E.xu,{display:"inlineBlock",marginStart:1,children:(0,h.jsx)(E.iP,{fullWidth:!1,onTap:a,children:(0,h.jsx)(E.xv,{weight:"bold",size:"200",inline:!0,children:this.props.i18n.bt("Mais", "More", " - ", undefined, true)})})})]}):null}}])&&zt(t.prototype,n),r&&zt(t,r),o}(r.Component);var Vt=function(e){var t=(0,s.ZP)();return(0,h.jsx)(Ht,Ft(Ft({},e),{},{i18n:t}))},Wt=n(818398),Gt=n(533439);function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xt=function(e,t){return e.length>300?e:e.length+t.length+3>300?"".concat(e," ").concat(t,"..."):"".concat(e," ").concat(t)};function Yt(e){var t=Kt((0,r.useState)(!1),2),n=t[0],i=t[1];if(!(0,jt.Z)(e))return null;var o,a=e.pin,l=e.onUpdate,s=a.aggregated_pin_data,c=a.description,u=((0,St.Z)((0,Ot.Z)(e))||{}).recipe,d=((0,Wt.Z)((0,Ot.Z)(e))||{}).article,p=(d||{}).description,f=((0,Gt.Z)((0,Ot.Z)(e))||{}).tutorial,m=(f||{}).description,_=d&&!u&&!f;return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:c||s?(0,h.jsx)(Vt,{tutorialDescription:m,isArticle:_,onToggle:function(){return i(!0)},onUpdate:l,pin:a,showMore:n}):_&&p&&(0,h.jsx)("span",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:(o=p,o.split(" ").map((function(e){return e.trim()})).reduce(Xt,""))})})})}var $t=n(789605),Qt=n(445868);function Jt(e){var t=(0,s.ZP)(),n=(0,$t.Z)((0,jt.Z)(e));if(!n)return null;var r=n.attribution,i=r.providerUrl,o=r.providerName,a=r.authorUrl,l=r.authorName,c=r.ccUrl,u=((0,Qt.Z)((0,jt.Z)(e))||{}).embed,d=(u=void 0===u?{}:u).src,p=u.type,f=u.subtype,m=!!i&&!!o,_={author:(0,h.jsx)(E.rU,{display:"inlineBlock",href:null!=a?a:"",rel:"nofollow",underline:"hover",children:(0,h.jsx)(E.xv,{size:"200",weight:"bold",children:l})},"author"),provider:m?(0,h.jsx)(E.xu,{marginEnd:1,display:"inlineBlock",children:(0,h.jsx)(E.rU,{display:"inlineBlock",href:null!=i?i:"",rel:"nofollow",underline:"always",children:o},"provider")}):null},g=null;return m?g=l?d&&"gif"!==p&&"pinstory"!==f?t.bt("Vídeo de {{ author }} em {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):t.bt("Foto de {{ author }} em {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):t.bt("de {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):l&&(g=d&&"gif"!==p&&"pinstory"!==f?t.bt("Vídeo de {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):t.bt("Foto de {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,h.jsx)(E.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,h.jsxs)(E.xv,{size:"200",color:"default",children:[!!g&&(0,I.nk)(g,_),c&&(0,h.jsx)(E.rU,{href:c,rel:"nofollow",children:t.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}var en=function(e){var t=e.isStoryPin,n=e.pin,r=e.onUpdate,i=null;if((0,$t.Z)((0,jt.Z)(e))){var o=(n.closeup_unified_description||"").trim()?"{{ credit }}｜":"{{ credit }}";i=(0,I.nk)(o,{credit:(0,h.jsx)(Jt,{pin:n,inArticle:!0},"article-pin")})}return(0,h.jsxs)(E.xv,{inline:!0,children:[i,!t&&(0,h.jsx)(Yt,{onUpdate:r,pin:n})]})},tn=n(431414),nn=n(498537),rn=n(206663),on=n(343591),an=n(844897),ln=n(312013);function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var un=function(e){var t=e.minutes,n=(0,s.ZP)(),i=t%60,o=Math.floor(t/60),a=(0,I.nk)(n.nbt(["{{ mins }} minuto", "{{ mins }} minutos"], i, "closeup.storyPin.basicsLayout.cookTimeUnit", true),{mins:i}).join(""),l=(0,I.nk)(n.nbt(["{{ hours }} hora", "{{ hours }} horas"], o, "closeup.storyPin.basicsLayout.cookTimeUnit", true),{hours:o}).join(""),c=(0,h.jsx)(E.xv,{weight:"bold",inline:!0,size:"200",children:n.bt("Tempo de preparo:", "Cook time:", "closeup.storyPin.basicsLayout.cookTimeLabel", undefined, true)});return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(E.xv,{inline:!0,size:"200",children:(0,I.nk)(n.bt("{{ label }} {{ hoursText }} {{ minsText }}", "{{ label }} {{ hoursText }} {{ minsText }}", "closeup.storyPin.basicsLayout.cookTime", undefined, true),{label:c,hoursText:l,minsText:a})})})},dn=function(e){var t=e.servingSize,n=(0,s.ZP)(),r=(0,Qe.Z)(n.nbt(["{{servingSize}} porção", "{{servingSize}} porções"], t, "number of servings for a recipe", true),{servingSize:t}),i=(0,h.jsx)(E.xv,{weight:"bold",inline:!0,size:"200",children:n.bt("Porções:", "Servings:", "closeup.storyPin.basicsLayout.servingsLabel", undefined, true)});return(0,h.jsx)(E.xv,{inline:!0,size:"200",children:(0,I.nk)(n.bt("{{ label }} {{ servingText }}", "{{ label }} {{ servingText }}", "closeup.storyPin.basicsLayout.servings", undefined, true),{label:i,servingText:r})})},pn=function(e){var t=e.difficulty,n=(0,s.ZP)(),r={1:n.bt("Fácil", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:n.bt("Intermediário", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:n.bt("Especialista", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},i=t?r[t]:null;if(!i)return null;var o=(0,h.jsx)(E.xv,{weight:"bold",inline:!0,size:"200",children:n.bt("Dificuldade:", "Difficulty:", "closeup.storyPin.basicsLayout.difficultyLevelLabel", undefined, true)});return(0,h.jsx)(E.xv,{inline:!0,size:"200",children:(0,I.nk)(n.bt("{{ label }} {{ difficultyLevel }}", "{{ label }} {{ difficultyLevel }}", "closeup.storyPin.basicsLayout.difficulty", undefined, true),{label:o,difficultyLevel:i})})};function fn(e){var t=e.keyValueBlocks,n=e.listBlocks,i=(0,u.v)().logContextEvent,o=(0,s.ZP)(),a=sn((0,r.useState)(!1),2),l=a[0],c=a[1],d=(0,r.useRef)(),p=!!d&&!!d.current&&d.current.offsetHeight>=300,f=t.map((function(e){return function(e,t){switch(e){case 0:var n=parseInt(t,10);return n?(0,h.jsx)(un,{minutes:n}):null;case 1:var r=parseInt(t,10);return(0,h.jsx)(dn,{servingSize:r});case 2:return(0,h.jsx)(pn,{difficulty:t});default:return null}}(e.category_type,e.value)})).filter((function(e){return null!=e}));return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{ref:d,maxHeight:l?void 0:300,overflow:"hidden",children:[f.length>0&&(0,h.jsx)(E.xu,{marginTop:4,children:f.map((function(e,t){return(0,h.jsx)(E.xu,{display:"flex",children:e},"$keyValue-".concat(t,"-information"))}))}),n.map((function(e,t){var n;return(0,h.jsxs)(E.xu,{children:[(0,h.jsx)(E.xu,{paddingY:2,marginTop:2,children:(0,h.jsx)(E.xv,{size:"200",weight:"bold",children:e.heading})}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map((function(t,n){return(0,h.jsxs)(E.xu,{display:"flex",children:[(0,h.jsx)(E.xu,{marginEnd:3,flex:"none",children:(0,h.jsx)(E.xv,{size:"200",children:"•"})}),(0,h.jsx)(E.xu,{overflow:"hidden",flex:"grow",children:(0,h.jsx)(E.xv,{size:"200",children:t.text?t.text:""})})]},"item-".concat(n,"-").concat(e.heading||"empty"))}))]},"".concat(e.heading||"empty","-").concat(t,"-listHeading"))}))]}),!l&&p&&(0,h.jsx)(E.xu,{marginTop:4,children:(0,h.jsx)(E.zx,{text:o.bt("Ver tudo", "See all", "storyPinBasicsLayout.seeAllButton", undefined, true),onClick:function(){c(!l),i({event_type:101,component:13801,view_type:1,element:11769})}})})]})}var hn=n(326595),mn=n(224496),_n=function(e){return e.type===mn.h8.INGREDIENT},gn=function(e){var t=e.block;if(t.type!==mn.h8.INGREDIENT)return null;var n=t.amt,r=t.name,i=t.unit;return(0,h.jsxs)("li",{style:{display:"table-row"},children:[(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:12}},children:!!n&&(0,h.jsxs)(E.xv,{size:"200",align:"end",children:[n," ",i]})}),(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,h.jsx)(E.xv,{size:"200",children:r})})]})},yn=function(e){var t=e.blocks,n=e.recipeData,i=(0,s.ZP)(),o=n.serving_size,a=n.cooking_time,l=n.prep_time,c="number"==typeof a&&"number"==typeof l?a+l:null,u=o?(0,Qe.Z)(i.nbt(["{{servingSize}} porção", "{{servingSize}} porções"], o, "number of servings for a recipe", true),{servingSize:o}):null;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{marginBottom:4,marginTop:5,children:[(0,h.jsx)(E.X6,{overflow:"normal",size:"500",children:i.bt("Ingredientes", "Ingredients", "Heading for list of ingredients", undefined, true)}),(0,h.jsxs)(E.xu,{marginTop:2,display:"flex",alignItems:"center",children:[!!c&&(0,h.jsx)(hn.Z,{bold:!1,color:"subtle",iconSize:14,textSize:"200",timeString:(0,kt.Z)((0,Et.X)({m:c}),i)||""}),!!c&&u&&(0,h.jsx)(E.xu,{paddingX:1,children:(0,h.jsx)(E.xv,{color:"subtle",size:"200",children:"•"})}),u&&(0,h.jsx)(E.xv,{color:"subtle",size:"200",children:u})]})]}),(0,h.jsx)("ul",{children:t&&t.filter(_n).map((function(e,t){return(0,h.jsx)(gn,{block:e},e.name||t)}))})]})},vn=function(e){return e.type===mn.h8.SUPPLY},bn=function(e){var t=e.block;if(t.type!==mn.h8.SUPPLY)return null;var n=t.name,r=t.amt;return(0,h.jsxs)("li",{style:{display:"table-row"},children:[(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:12}},children:!!r&&(0,h.jsx)(E.xv,{size:"200",align:"end",children:r})}),(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,h.jsx)(E.xv,{size:"200",children:n})})]})},xn=function(e){var t=e.blocks,n=e.diyData,i=(0,s.ZP)(),o=n.difficulty,a={1:i.bt("Fácil", "Easy", "difficulty level of easy DIY tutorial", undefined, true),2:i.bt("Intermediário", "Intermediate", "difficulty level of medium DIY tutorial", undefined, true),3:i.bt("Especialista", "Expert", "difficulty level of hard DIY tutorial", undefined, true)};return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{marginBottom:4,marginTop:5,children:[(0,h.jsx)(E.X6,{overflow:"normal",size:"500",children:i.bt("Materiais", "Supplies", "Heading for list of supplies", undefined, true)}),!!o&&(0,h.jsx)(E.xu,{marginTop:2,display:"flex",alignItems:"center",children:(0,h.jsx)(E.xv,{color:"subtle",size:"200",children:(0,I.nk)(i.bt("Dificuldade: {{difficultyLevel}}", "Difficulty: {{difficultyLevel}}", "Label indicating the difficulty level of a tutorial", undefined, true),{difficultyLevel:a[o]})})})]}),(0,h.jsx)("ul",{children:t&&t.filter(vn).map((function(e,t){return(0,h.jsx)(bn,{block:e},e.name||t)}))})]})};function Pn(e){var t=e.detailsPage,n=e.metadata;if(!n)return null;var r=n.basics;if(r&&Object.keys(r).length>0&&function(e){return!!e.key_value_blocks&&e.key_value_blocks.length>0||!!e.list_blocks&&e.list_blocks.length>0}(r))return(0,h.jsx)(fn,{keyValueBlocks:r.key_value_blocks||[],listBlocks:r.list_blocks||[]});switch(n.template_type){case 1:return!!n.recipe_data&&(0,h.jsx)(yn,{blocks:null==t?void 0:t.blocks,recipeData:n.recipe_data});case 2:return!!n.diy_data&&(0,h.jsx)(xn,{blocks:null==t?void 0:t.blocks,diyData:n.diy_data});default:return null}}var wn=n(799405),jn=n(231947),Sn=(0,r.lazy)((function(){return Promise.all([n.e(915),n.e(28689)]).then(n.bind(n,200915))})),On=(0,r.lazy)((function(){return n.e(34209).then(n.bind(n,209435))})),kn=(0,r.lazy)((function(){return n.e(59559).then(n.bind(n,4255))}));function Cn(e){var t,n,r,i,a=e.currentIdeaPinId,l=e.hasXYcoordinates,s=e.ideaPinStelaCategories,c=void 0===s?[]:s,u=e.isCommentSectionOpen,d=e.isInStream,p=e.inStlPinnerExp,f=e.isStoryPin,m=e.isDeletedStoryPin,_=e.orbacActingAs,g=e.isORBACBeta,y=e.orbacSubjectId,v=e.onCommentSectionClick,b=e.onCloseupBodyUpdate,x=e.pin,P=e.viewer,w=e.shouldHaveStickyCommentComposer,j=e.shouldShowStlCarouselForOwnPin,S=e.storyPinTaggedProducts,O=void 0===S?[]:S,k=e.taggedProducts,C=e.trafficSource,A=e.viewParameterType,I=e.viewType,T=e.closeupContext,D=e.isLoadingNewlyCreatedComment,z=e.viewParameter,R=e.detailsScrollContainerRef,Z=o.y8(x,!!m),L=Z.isShopTheLook,B=Z.showCreatorCard,M=Z.creatorId,F=Z.showCanonicalComments,N=Z.showReactions,U=Z.storyPinDetailsArgs,H=(0,wt.Z)((0,St.Z)((0,Ot.Z)((0,jt.Z)({pin:x})))),V=(k||[]).filter((function(e){return(0,rn.Z)(e)})),W=(0,jn.q6)(P,null==x||null===(t=x.pinner)||void 0===t?void 0:t.id,_),G=o.JM(T).descriptionPane-2*Ve.g9,K=!f&&(p&&!(0,ye.Gy)(x)&&L&&V.length>0||j)&&((null===(n=x.access)||void 0===n?void 0:n.includes("tag"))||W&&g)&&!(0,on.Z)(x),q=f&&O&&O.length>0,X=x.is_call_to_create&&(x.call_to_create_responses_preview_image_urls||[]).length>0,Y=!(null===(r=x.call_to_create_source_pin)||void 0===r||!r.id||!x.ctc_source_pin_creator),$=(x||{}).board||{},Q=o.VO(_,x,P);return(0,h.jsxs)(E.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",children:[(0,h.jsx)(E.kC,{direction:"row",alignItems:"baseline",justifyContent:"start",children:(0,h.jsx)(E.xu,{maxWidth:G,children:(0,h.jsx)(en,{isStoryPin:f,pin:x,onUpdate:b})})}),Y&&(0,h.jsx)(E.xu,{marginTop:3,marginBottom:3,children:(0,h.jsx)(Xe,{pin:x.call_to_create_source_pin,creator:x.ctc_source_pin_creator})}),B&&(0,h.jsx)(tn.Z,{creatorId:M,pin:x,viewer:P,viewType:I,viewParameter:z,isORBACProfileManager:W}),N&&!!x.reaction_counts&&!f&&(0,h.jsx)(me.Z,{pinId:x.id,reactionByMe:x.reaction_by_me||0,reactionCounts:x.reaction_counts}),!f&&!!H&&(0,h.jsx)(an.Z,{columnGap:(0,h.jsx)(ln.Z,{}),recipeProps:H}),f&&!!U&&(0,h.jsx)(Pn,{detailsPage:U.detailsPage,metadata:U.metadata}),!p&&L&&!j&&(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_STLCloseupCarousel",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(Sn,{pin:x,trafficSource:C})})}),(K||q)&&(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(On,{closeupImageSignature:x.image_signature,isOwnCreatedPin:j,pin:x,pinId:x.id,taggedObjects:q?O:V,type:K?"stl":"story",viewParameter:z})})}),c.length>0&&(d&&a===x.id||!d)&&(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_StelaCloseupModule",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(wn.L,{value:{categories:c,pin:x,pinId:x.id,viewParameter:A,viewType:I},children:(0,h.jsx)(kn,{trafficSource:C})})})}),X&&(0,h.jsx)(Oe.Z,{name:"CallToCreateResponseCard",children:(0,h.jsx)(E.xu,{marginTop:8,children:(0,h.jsx)(ot,{pinId:x.id,responseCount:x.call_to_create_responses_count})})}),Q&&(0,h.jsx)(nn.Z,{boardId:$.id,isGroupNote:o.p_(x,P),pinId:x.id,pinNoteText:null==x||null===(i=x.pin_note)||void 0===i?void 0:i.text}),!m&&!(l&&p)&&F&&(0,h.jsx)(Oe.Z,{name:"CanonicalCard",children:(0,h.jsx)(E.xu,{marginTop:10,marginBottom:6,children:(0,h.jsx)(xt,{scrollContainerRef:R,isShopTheLook:L,isCommentSectionOpen:u,isLoadingNewCreatedComment:D,pin:x,onCommentSectionClick:v,isORBACProfileManager:W,orbacSubjectId:y,shouldHaveStickyCommentComposer:w})})})]})}var An={__style:{marginBottom:"0",marginTop:"0",maxWidth:Ve.KP,minWidth:Ve.Gg}};function In(e){var t=e.children,n=e.isWideVideo,r=(0,at.x4)(),i=r.showCloseupContentRight,o=r.maxWidth,a=o.pdp,l=o.regular,s=r.paneWidth,c=s.pdp,u=s.regular,d=Math.max(a,l),p=Math.max(c,u);return(0,h.jsx)(E.xu,{display:"flex",rounding:8,width:"100%",height:"100%",maxWidth:i||n?d:p,position:"relative","data-test-id":"closeup-lego-container",children:(0,h.jsx)("div",{onClick:function(e){e.stopPropagation()},style:{display:"flex"},children:(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,h.jsx)(E.xu,{dangerouslySetInlineStyle:n?An:{},display:"flex",children:t})})})})}var En=n(273690),Tn=n(71052),Dn=n(829407),zn=n(977558);function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln="calc(100vh - ".concat(zn.cI,"px - ").concat(16,"px)");var Bn=n(127897),Mn=n(717615),Fn=n(491073),Nn=n(121093),Un=n(112690),Hn=n(814197);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var i=Jn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(e,t){if(t&&("object"===Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(a,e);var t,n,i,o=Yn(a);function a(){var e;Kn(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return er(Qn(e=o.call.apply(o,[this].concat(n))),"state",{flyoutType:""}),er(Qn(e),"componentDidUpdate",(function(){e.state.flyoutType&&e.setFlyoutStyle()})),er(Qn(e),"logFeedback",(function(t){var n=e.props,r=n.pin,i=n.logContextEvent,o=r.aggregated_pin_data,a=r.board,l=r.id,s=r.image_signature,c=r.is_downstream_promotion,u=r.is_promoted,d=r.link,p=r.recommendation_reason,f=a?a.owner:"",h={pin_is_shop_the_look:(o?o.is_shop_the_look:"")?"1":"0",board_owner_id:f?f.id:"",pin_recommendation_reason:p,pin_is_promoted:u?"1":"0"};i({view_type:11,view_parameter:195,component:13186,event_type:102,element:t?10615:10616,aux_data:{board_id:a?a.id:"",is_downstream_promoted_pin:c?"1":"0",url:d||"",pin_id:l,image_signature:s,is_promoted_pin:u?"1":"0",commerce_data:JSON.stringify(h)},object_id_str:l})})),er(Qn(e),"flyoutParentRef",(0,r.createRef)()),er(Qn(e),"handleEgSurveyDismiss",(function(t,n){e.setState({flyoutType:""}),e.logFeedback(t),n()})),er(Qn(e),"handleEgSurveyClick",(function(t){e.setState({flyoutType:t})})),er(Qn(e),"setFlyoutStyle",(function(){var t=e.flyoutParentRef&&e.flyoutParentRef.current&&e.flyoutParentRef.current.children[0];if(t){t.style.zIndex="".concat(Hn.fS);var n=t.children[0];n&&(n.style.border="transparent")}})),e}return t=a,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.imageContainerRef,i=n.maybeLinkRef,o=n.legoLinkClickthroughAnchorRef,a=this.state.flyoutType;"maybeLink"===a?e=i:"legoMaybeLink"===a?e=o:"imageContainer"===a&&(e=r);var l={height:this.flyoutParentRef&&this.flyoutParentRef.current&&this.flyoutParentRef.current.children[0]?this.flyoutParentRef.current.children[0].clientHeight:0,width:230},s="imageContainer"===a?"left":"right",c=e&&e.current?e.current.getBoundingClientRect():null,u=!!c&&function(e,t,n){var r=window.innerHeight,i=window.innerWidth-e.width-24-n.right,o=n.left-e.width-24;return!(n.top<8||r-n.bottom<8||!(t&&{right:i,left:o}[t]>0))}(l,s,c);return a&&u?(0,h.jsx)(Nn.Z,{eligibleIds:[501145],placementId:12,children:function(n){var r=n.complete;return(0,h.jsx)(E.xu,{ref:t.flyoutParentRef,position:"absolute",children:(0,h.jsx)(E.J2,{anchor:e?e.current:null,idealDirection:"imageContainer"===a?"left":"right",onDismiss:function(){},size:"sm",children:(0,h.jsxs)(E.xu,{padding:4,children:[(0,h.jsx)(E.xv,{weight:"bold",children:t.props.i18n.bt("Esse site é útil?", "Is this site useful?", "Ask user about click through link usefulness on a Small Flyout on closeup", undefined, true)}),(0,h.jsx)(E.xv,{children:t.props.i18n.bt("Sua opinião nos ajuda a deixar o Pinterest melhor.", "Your feedback helps make Pinterest better.", "Ask user about usefulness to improve click through links quality", undefined, true)}),(0,h.jsxs)(E.xu,{display:"flex",direction:"row",marginTop:4,width:"198px",children:[(0,h.jsx)(E.xu,{column:6,marginEnd:1,children:(0,h.jsx)(E.zx,{fullWidth:!0,size:"sm",color:"gray",text:t.props.i18n.bt("Não", "No", "Keep it short, shown on a button to indicate whether its helpful or not", undefined, true),onClick:function(){return t.handleEgSurveyDismiss(!1,r)}})}),(0,h.jsx)(E.xu,{column:6,marginStart:1,children:(0,h.jsx)(E.zx,{fullWidth:!0,size:"sm",color:"gray",text:t.props.i18n.bt("Sim", "Yes", "Keep it short, shown on a button to indicate whether its helpful or not", undefined, true),onClick:function(){return t.handleEgSurveyDismiss(!0,r)}})})]})]})})})}}):""}}])&&qn(t.prototype,n),i&&qn(t,i),a}(r.Component),nr=(0,r.forwardRef)((function(e,t){var n=(0,s.ZP)(),r=(0,Un.Z)();return(0,h.jsx)(tr,Gn(Gn({},e),{},{ref:t,i18n:n,logContextEvent:r}))})),rr=n(773285),ir=n(296005),or=n(680333);function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sr=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(46760),n.e(92982)]).then(n.bind(n,576070))})),cr=(0,r.lazy)((function(){return Promise.all([n.e(67419),n.e(16333),n.e(7606),n.e(94539),n.e(21177)]).then(n.bind(n,319875))}));function ur(e){var t,n,a,l=e.isWideVideo,c=e.didShortClickThrough,u=e.webLinkSurveyState,d=u.webLinkSurveyRef,p=u.imageContainerRef,f=u.legoLinkClickthroughAnchorRef,m=u.maybeLinkRef,_=e.pin,g=e.outerBodyStyle,y=e.isStoryPin,v=e.trafficSource,b=e.visualContentContainer,x=e.isCloseupMaximized,w=e.getPaneWidth,j=e.data,k=e.outerPaddingSize,C=void 0===k?Ve.g9:k,A=e.shouldHaveStickyCommentComposer,I=e.isInStream,T=e.metadataContainerRef,D=e.onClickThrough,z=e.viewParameter,R=e.metadata,Z=e.viewer,L=e.orbacSubjectId,B=e.disableCommentComposer,M=void 0!==B&&B,F=e.setIsLoadingNewlyCreatedComment,N=void 0===F?function(){}:F,U=e.relatedModulesResource,H=e.descriptionContentMaxHeight,V=e.marginBottom,W=void 0===V?0:V,G=e.isLeadGenEnabled,K=void 0!==G&&G,q=e.isDeletedStoryPin,X=e.onSaveButtonClick,Y=e.showRepinOnInitialRender,$=e.goBack,Q=e.onUpdate,J=e.routePush,ee=e.selectedVariantPin,te=void 0===ee?null:ee,ne=e.closeupActionBarMaxWidth,re=e.visualContentContainerRef,ie=(0,r.useRef)(null),oe=(0,at.x4)(),ae=(0,i.useSelector)((function(e){return e.changeBoardFromToast}))||{},le=(0,s.ZP)(),se=(0,Ye.useHistory)(),ce=(0,ir._T)(),ue=(0,Mn.Z)(),de=_.pinner,pe=void 0===de?{}:de,fe=(0,jn.q6)(Z,pe.id,ue),he=w(oe).descriptionPane,me=(0,Ce.Z)(_).isLeadPin&&K,_e=o.Ek(y,ce,_),ye=(0,h.jsx)(P,{orbacSubjectId:L,pin:_,setIsLoadingNewlyCreatedComment:N,shouldHaveStickyCommentComposer:A}),ve=!M&&(!fe||L),be=0!==Object.keys(_).length,xe=(null==re||null===(t=re.current)||void 0===t?void 0:t.clientHeight)||0;return(0,h.jsxs)(E.xu,{height:"100%",marginBottom:W,children:[(0,h.jsx)(In,{isWideVideo:l,children:(0,h.jsxs)(E.xu,{display:"flex",position:"relative",children:[!c&&(0,h.jsx)(nr,{ref:d,imageContainerRef:p,legoLinkClickthroughAnchorRef:f,maybeLinkRef:m,pin:_}),(0,h.jsx)(E.xu,{color:be?"default":"transparent",dangerouslySetInlineStyle:{__style:null!=g?g:{}},display:"flex",position:"relative",rounding:2,children:(0,h.jsxs)(E.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsx)(En.Z,{isStoryPin:y,isWideVideo:l,children:be?(0,h.jsx)(S,{pinId:_.id,pinImageUrl:_.images&&(null===(n=_.images["236x"])||void 0===n?void 0:n.url),closeupNavigationType:(0,ke.Z)(se,v),children:(0,h.jsxs)(r.Fragment,{children:[b,me?(0,h.jsx)(qe,{pin:_,data:!!j,goBack:$,onUpdate:Q,viewParameter:z,onSaveButtonClick:X,showRepinOnInitialRender:Y,actionBarContainerRef:ie,trafficSource:v,onClickThrough:D,isStoryPin:y,visualContentContainerHeight:xe,descriptionPaneWidth:he,metadataContainerRef:T}):(0,h.jsx)(E.xu,{"data-test-id":"description-content-container",display:"flex",direction:"column",height:x?0:"100%",maxHeight:!y&&A?H:void 0,maxWidth:l?Ve.KP:void 0,width:l?void 0:he,children:j?(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(E.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:C,paddingLeft:Ve.g9}},direction:"column",display:"flex",flex:A?"grow":void 0,children:[!I&&(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(cr,{goBack:$,gridDescription:_.description,isDeletedStoryPin:!!q,isOnSecretBoard:!1,onEditSubmit:Q,pin:te||_,routePush:J,viewParameter:z,isORBACProfileManager:fe,onSaveButtonClick:X,showRepinOnInitialRender:Y,isStoryPin:y,actionBarContainerRef:ie,outerPaddingSize:C,maxWidth:ne})})}),(0,h.jsx)(E.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"start",direction:"column",overflow:A?"auto":void 0,ref:T,children:(0,h.jsxs)(E.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[_e&&(0,h.jsxs)(E.xu,{direction:"row",display:"flex","data-test-id":"maybe-clickthrough-link",children:[(0,h.jsx)(ge.q,{children:function(e){var t,n=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,h.jsx)(O.Z,{hovered:n,pin:_,trafficSource:v,viewType:3,children:(0,h.jsx)(E.xu,{onMouseEnter:r,onMouseLeave:i,children:(0,h.jsx)(Ue,{actionBarHeight:(null===(t=ie.current)||void 0===t?void 0:t.offsetHeight)||Ve.Ie,onClickThrough:D,pin:_,isStoryPin:y})})})}}),(0,h.jsx)(E.xu,{ref:f,marginEnd:-7,marginStart:6,width:4})]}),R]})}),ve&&!A&&ye]}),ve&&A&&(0,h.jsx)(E.Le,{bottom:0,children:ye})]}):(0,h.jsx)(E.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,h.jsx)(E.$j,{accessibilityLabel:le.bt("Carregando detalhes do Pin", "Pin details loading", " - ", undefined, true),show:!0})})})]})}):(0,h.jsx)(E.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,h.jsx)(E.$j,{accessibilityLabel:le.bt("Carregando Pin", "Pin loading", " - ", undefined, true),show:!0})})}),c&&!_.is_promoted&&U.data&&U.data.length>0&&(0,h.jsx)(Tn.C,{})]})})]})}),ae.shouldOpenModal&&ae.newPin&&(null===(a=ae.originalPin)||void 0===a?void 0:a.id)===_.id&&(0,h.jsx)(Oe.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,h.jsx)(He.Z,{children:(0,h.jsx)(sr,{experience:ae.experience,newPin:ae.newPin})})})]})}function dr(e){var t=e.disableRelatedResource,n=void 0!==t&&t,i=e.relatedResourceOptions,a=e.hasXYcoordinates,l=e.isEligibleForStlFlyout,s=e.isStoryPin,c=e.isWideVideo,u=e.pin,d=e.searchQuery,p=e.taggedProducts,f=e.trafficSource,m=e.viewParameterType,_=e.onClickThrough,g=e.data,y=e.didShortClickThrough,v=e.goBack,b=e.isCloseupMaximized,x=void 0!==b&&b,P=e.isInStream,w=void 0!==P&&P,j=e.isDeletedStoryPin,S=e.onSaveButtonClick,O=e.onUpdate,k=e.outerBodyStyle,C=e.routePush,A=e.shouldHaveStickyCommentComposer,I=e.showRepinOnInitialRender,E=e.viewType,T=e.ideaPinStelaCategories,D=e.currentIdeaPinId,z=e.isCommentSectionOpen,R=e.inStlPinnerExp,B=e.onCommentSectionClick,M=e.onCloseupBodyUpdate,F=e.shouldShowStlCarouselForOwnPin,N=e.storyPinTaggedProducts,U=ar((0,r.useState)(!1),2),H=U[0],V=U[1],W=(0,Z.Z)(n?null:{name:i.name,options:i.options}),G=(0,r.useRef)(null),K=(0,at.x4)(),q=(0,L.Z)(),X=(0,rr.F)().checkExperiment,Y=X("web_m10n_business_access_orbac_www").anyEnabled,$=X("web_m10n_business_access_orbac_ga").anyEnabled,Q=X("web_lead_gen_ads").anyEnabled,J=(0,Mn.Z)(),ee=$?(0,jn.lJ)(q,J):"",te=(0,or.Z)(),ne=(0,Bn.Z)({getPaneWidth:o.JM,metadataContainerRef:G}),re=function(){var e=Rn((0,r.useState)(Ln),2),t=e[0],n=e[1],i=(0,r.useRef)(null);return(0,Dn.Z)((function(){var e;if(window){var t=window.innerHeight-zn.cI-16,r=(null===(e=i.current)||void 0===e?void 0:e.clientHeight)||0;n(t>r?Ln:r)}})),{descriptionContentMaxHeight:t,visualContentContainerRef:i}}(),ie=(0,o.CK)(u,m),oe=te.setClickthroughComponentForSurvey,ae=te.imageContainerRef,le=(0,h.jsx)(Fn.Z,{hasXYcoordinates:a,isEligibleForStlFlyout:l,isStoryPin:s,isWideVideo:c,pin:u,searchQuery:d,taggedProducts:p,trafficSource:f,viewParameterType:m,visualContentContainerRef:re.visualContentContainerRef,getPaneWidth:o.JM,imageContainerRef:ae,handleImageClickThrough:function(){return _({wasImageClicked:!0})},setClickthroughComponentForSurvey:oe,isShortImage:ne}),se=(0,h.jsx)(Cn,{currentIdeaPinId:D,hasXYcoordinates:a,ideaPinStelaCategories:T,isCommentSectionOpen:z,isInStream:w,inStlPinnerExp:R,isStoryPin:s,isDeletedStoryPin:j,orbacActingAs:J,isORBACBeta:Y,orbacSubjectId:ee,onCommentSectionClick:B,onCloseupBodyUpdate:M,pin:u,viewer:q,shouldHaveStickyCommentComposer:A,shouldShowStlCarouselForOwnPin:F,storyPinTaggedProducts:N,taggedProducts:p,trafficSource:f,viewParameterType:m,viewType:E,closeupContext:K,isLoadingNewlyCreatedComment:H,viewParameter:ie,detailsScrollContainerRef:G.current}),ce=(0,h.jsx)(Se,{pin:u,isStoryPin:s,isDeletedStoryPin:j,trafficSource:f,details:se,orbacActingAs:J,viewer:q,viewParameter:ie});return(0,h.jsx)(ur,{isWideVideo:c,didShortClickThrough:y,webLinkSurveyState:te,pin:u,outerBodyStyle:k,isStoryPin:s,trafficSource:f,visualContentContainer:le,isCloseupMaximized:x,getPaneWidth:o.JM,data:g,shouldHaveStickyCommentComposer:A,isInStream:w,metadataContainerRef:G,onClickThrough:function(){_&&_({componentType:129}),te.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:ie,viewType:E,viewer:q,orbacSubjectId:ee,setIsLoadingNewlyCreatedComment:V,relatedModulesResource:W,descriptionContentMaxHeight:re.descriptionContentMaxHeight,metadata:ce,onSaveButtonClick:S,showRepinOnInitialRender:I,goBack:v,onUpdate:O,routePush:C,isLeadGenEnabled:Q,visualContentContainerRef:re.visualContentContainerRef})}},431414:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(426975),i=n(491431),o=n(784590),a=n(515198);function l(e){var t=e.creatorId,n=e.pin,l=e.viewer,s=e.viewType,c=void 0===s?3:s,u=e.viewParameter,d=void 0===u?156:u,p=e.isORBACProfileManager,f=(0,o.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:t}}).data;return(0,a.jsx)(r.Z,{children:(0,a.jsx)(i.Z,{creatorId:t,viewer:l,slotIndex:0,viewType:c,viewParameter:d,componentType:126,impressionType:"User",loggingId:t,pin:n,officialUser:f,isORBACProfileManager:p})})}},766127:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911),i=n(523657),o=n(276602),a=n(908390),l=n(515198);function s(e){var t=e.dominantColor,n=e.imageProps,s=e.imgSrc,c=e.isPreviewImage,u=(0,o.EV)(),d=(0,r.useCallback)((function(){u&&u.markConstraintComplete("image")}),[u]);return(0,l.jsx)(a.zd,{wash:!0,children:(0,l.jsx)(i.Z,{alt:n.alt,naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src,color:t,onLoad:d,children:c&&(0,l.jsx)(a.Ee,{alt:"",naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:s||n.src})})})}},431911:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(737022);function i(e){var t,n,r,i;return e?null!==(t=e.V_720P)&&void 0!==t&&t.url?e.V_720P:null!==(n=e.V_HLSV4)&&void 0!==n&&n.url?e.V_HLSV4:null!==(r=e.V_HLSV3_MOBILE)&&void 0!==r&&r.url?e.V_HLSV3_MOBILE:null!==(i=e.V_HLSV3_WEB)&&void 0!==i&&i.url?e.V_HLSV3_WEB:null:null}var o=n(92261);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.carouselData,n=e.mainImage,l=e.maxCloseupImageWidth,s=e.imageToDisplayWidthRatio,c=void 0===s?1:s,u=e.shouldPadImage,d=void 0!==u&&u,p=l-o.d2,f=d?p:l,h=t?c:1,m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=(null==n||null===(e=n.carousel_slots)||void 0===e?void 0:e.map((function(e){var t;return(0,r.Z)(e.images)||i(null===(t=e.videos)||void 0===t?void 0:t.video_list)})).filter((function(e){return!!e})))||[],l=[t].concat(a(o)).map((function(e){var t=e.width,n=void 0===t?1:t,r=e.height;return n/(void 0===r?1:r)}));return Math.min.apply(Math,a(l))}(n,t),_=f*h;return{width:f,height:Math.floor(_/m)}}},498537:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(76911),i=n(883561),o=n(898781),a=n(908390),l=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.pinNoteText,n=(0,o.ZP)(),c=s((0,r.useState)(!1),2),u=c[0],d=c[1];return(0,l.jsx)(a.xu,{maxWidth:360,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},"data-test-id":"closeup-pin-note-text",children:!u&&t.length>125?(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.xv,{inline:!0,size:"200",children:(0,i.ZP)(t,125)}),(0,l.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(a.iP,{onTap:function(){d(!0)},children:(0,l.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:n.bt("Mais", "More", "closeup.closeupPinNoteText.moreText", undefined, true)})})})]}):(0,l.jsx)(a.xv,{size:"200",children:t})})}var d=n(758119),p=n(333312),f=n(506979),h=n(121151);function m(e){var t=e.onCancel,n=e.onDelete,r=e.onDismiss,i=(0,o.ZP)();return(0,l.jsx)(h.ZP,{heading:i.bt("Excluir essa nota?", "Delete this note?", "closeup.deleteNoteConfirmation.modalHeading", undefined, true),accessibilityModalLabel:i.bt("Excluir essa nota?", "Delete this note?", "closeup.deleteNoteConfirmation.modalAccessibilityLabel", undefined, true),size:"sm",onDismiss:r,footer:(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,onClick:t,text:i.bt("Cancelar", "Cancel", "closeup.deleteNoteConfirmation.cancelButton", undefined, true)})}),(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:n,text:i.bt("Excluir", "Delete", "closeup.deleteNoteConfirmation.deleteButton", undefined, true)})})]}),children:(0,l.jsx)(a.xu,{paddingX:12,children:(0,l.jsx)(a.xv,{align:"center",children:i.bt("O Pin continuará na sua pasta, mas o texto na nota será excluído permanentemente", "The Pin will remain on your board, but the text in the note will be gone for good", "closeup.deleteNoteConfirmation.bodyText", undefined, true)})})})}function _(e){var t=e.onCancel,n=e.onDismiss,r=(0,o.ZP)();return(0,l.jsx)(h.ZP,{heading:r.bt("Descartar suas alterações?", "Discard your changes?", "closeup.discardChangesConfirmation.modalHeading", undefined, true),accessibilityModalLabel:r.bt("Descartar suas alterações?", "Discard your changes?", "closeup.discardChangesConfirmation.modalAccessibilityLabel", undefined, true),size:"sm",onDismiss:n,footer:(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,onClick:t,text:r.bt("Cancelar", "Cancel", "closeup.discardChangesConfirmation.cancelButton", undefined, true)})}),(0,l.jsx)(a.xu,{paddingX:1,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:n,text:r.bt("Descartar", "Discard", "closeup.discardChangesConfirmation.discardButton", undefined, true)})})]}),children:(0,l.jsx)(a.xu,{paddingX:12,children:(0,l.jsx)(a.xv,{align:"center",children:r.bt("O Pin continuará na sua pasta, mas as alterações na nota não serão salvas", "The Pin will remain on your board, but the changes in this note won’t be saved", "closeup.discardChangesConfirmation.bodyText", undefined, true)})})})}var g=n(780280);function y(e){var t=e.isGroupNote,n=e.onClickCancel,r=(0,o.ZP)(),i=(0,g.B)().isRTL;return(0,l.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",paddingY:6,paddingX:4,children:[(0,l.jsx)(a.xu,{maxWidth:400,children:(0,l.jsx)(a.X6,{align:"center",size:"500",children:t?r.bt("Adicionar nota para o grupo", "Add note to group", "closeup.PinNoteEditModal.groupHeading", undefined, true):r.bt("Adicionar uma nota para si mesmo(a)", "Add note to self", "closeup.PinNoteEditModal.heading", undefined, true)})}),(0,l.jsx)(a.xu,{position:"absolute",top:!0,left:i,right:!i,paddingY:6,paddingX:6,children:(0,l.jsx)(a.hU,{accessibilityLabel:r.bt("Cancelar as alterações", "Cancel changes", "closeup.PinNoteEditModal.cancelIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]})}var v=n(717615),b=n(19121),x=n(231947),P=n(414327),w=n(482567),j=n(407043),S=n(78120);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.initialText,n=e.isGroupNote,i=e.onDismiss,s=e.pinId,c=(0,j.v)().logContextEvent,u=(0,o.ZP)(),d=(0,f.useDispatch)(),p=O((0,r.useState)(null!=t?t:""),2),g=p[0],k=p[1],C=O((0,r.useState)(!1),2),A=C[0],I=C[1],E=O((0,r.useState)(!1),2),T=E[0],D=E[1],z=(0,r.useRef)(null),R=(0,b.Z)(),Z=(0,v.Z)(),L=(0,x.lJ)(R,Z),B=n?u.bt("Adicione uma nota particular para os colaboradores, como “Mostrar para o Tom?” ou “Precisa de mais sal”, para lembrar suas ideias sobre este Pin", "Add a private note for collaborators—like “Show Tony?” or “Needs more salt”—to remember ideas about this Pin", "closeup.PinNoteEditModal.groupPlaceholderText", undefined, true):u.bt("Adicione uma nota particular, como “Mostrar para o Tom?” ou “Precisa de mais sal”, para lembrar suas ideias sobre este Pin", "Add a private note—like “Show Tony?” or “Needs more salt”—to remember your ideas about this Pin", "closeup.PinNoteEditModal.placeholderText", undefined, true);(0,r.useEffect)((function(){c({event_type:13,object_id_str:s,view_type:478})}),[]);var M=function(){c({event_type:101,element:g.length>0?12108:12106,object_id_str:s,view_type:478}),t&&d((0,w._)(s,t,null,L)),d((0,P.jB)("PinResource",(0,S.Tr)(s,!0,L))),i()};return(0,r.useEffect)((function(){z.current&&(z.current.style.height="auto",z.current.style.height=z.current.scrollHeight+"px")}),[g,z.current,A,T]),T?(0,l.jsx)(_,{onCancel:function(){D(!1)},onDismiss:function(){c({event_type:101,element:12109,object_id_str:s,view_type:478}),i()}}):A?(0,l.jsx)(m,{onCancel:function(){I(!1)},onDelete:M,onDismiss:i}):(0,l.jsx)(h.ZP,{accessibilityModalLabel:u.bt("Editar nota do Pin", "Edit Pin note", "closeup.PinNoteEditModal.modalAccessibilityLabel", undefined, true),heading:(0,l.jsx)(y,{isGroupNote:n,onClickCancel:function(){t&&g!==t?D(!0):i()}}),onDismiss:i,footer:(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[""!==g&&(0,l.jsx)(a.xu,{flex:"grow",children:(0,l.jsx)(a.hU,{accessibilityLabel:u.bt("Excluir nota", "Delete note", "closeup.PinNoteEditModal.trashcanIconButton", undefined, true),iconColor:"darkGray",icon:"trash-can",onClick:function(){c({event_type:101,element:12105,object_id_str:s,view_type:478}),I(!0)},size:"md"})}),(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.zx,{color:"red",text:u.bt("Feito", "Done", "closeup.PinNoteEditModal.doneButton", undefined, true),onClick:g.length>0?function(){c({event_type:101,element:12106,object_id_str:s,view_type:478}),(0,S.aU)(t,g)&&d((0,w._)(s,t,g,L)),d((0,P.jB)("PinResource",(0,S.Tr)(s,!0,L))),i()}:M})})]}),size:"sm",children:(0,l.jsxs)(a.xu,{paddingX:8,height:220,children:[(0,l.jsx)("textarea",{className:"PinNoteInput",id:"pinNoteText",maxLength:500,onChange:function(e){k(e.currentTarget.value)},placeholder:B,ref:z,value:g}),g.length>=500&&(0,l.jsx)(a.xu,{paddingY:1,children:(0,l.jsx)(a.xv,{color:"error",size:"200",weight:"bold",children:u.bt("O limite de caracteres foi atingido", "Character limit reached", "closeup.PinNoteEditModal.warningText", undefined, true)})})]})})}var A=n(784590),I=n(387551),E=n(304903),T=n(814197);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.boardId,n=e.isGroupNote,i=e.pinId,s=e.pinNoteText,c=(0,j.v)().logContextEvent,f=(0,o.ZP)(),h=(0,A.Z)({name:"BoardResource",options:{field_set_key:"pin_note",board_id:t}}).data,m=(0,r.useRef)(null),_=D((0,r.useState)(!1),2),g=_[0],y=_[1],v=D((0,r.useState)(0),2),b=v[0],x=v[1],P=function(){x((0,E.S$)())};(0,r.useEffect)((function(){return window.addEventListener("scroll",P),function(){window.removeEventListener("scroll",P)}}));var w=n?f.bt("As notas adicionadas aqui aparecerão apenas para as pessoas nesta pasta", "Notes added here will be private to people on this board", "closeup.closeupPinNote.groupPlaceholderText", undefined, true):f.bt("O que você quer lembrar sobre este Pin?", "What do you want to remember about this Pin?", "closeup.closeupPinNote.placeholderText", undefined, true);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(a.xu,{marginTop:5,marginBottom:5,children:[(0,l.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,l.jsx)(a.xu,{ref:m,children:(0,l.jsx)(a.xv,{weight:"bold",children:n?f.bt("Nota para o grupo", "Note to group", "closeup.closeupPinNote.groupTitle", undefined, true):f.bt("Nota para si mesmo(a)", "Note to self", "closeup.closeupPinNote.title", undefined, true)})}),n&&h&&(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(d.Z,{board:h,isCompact:!0})})]}),(0,l.jsxs)(a.xu,{display:"flex",alignItems:"start",marginTop:1,children:[(0,l.jsx)(a.xu,{display:"flex",flex:"grow",marginEnd:2,children:(0,l.jsx)(a.xv,{size:"200",children:s?(0,l.jsx)(u,{pinNoteText:s}):w})}),(0,l.jsx)(a.kC,{justifyContent:"end",minWidth:110,children:(0,l.jsx)(a.zx,{size:"lg",text:s?f.bt("Editar", "Edit", "closeup.closeupPinNote.editButton", undefined, true):f.bt("Adicionar nota", "Add note", "closeup.closeupPinNote.addNoteButton", undefined, true),onClick:function(){c({event_type:101,component:13769,element:s?12104:12103,object_id_str:i,view_type:3}),y(!0)}})})]})]}),g&&(0,l.jsx)(C,{initialText:s,isGroupNote:n,onDismiss:function(){y(!1)},pinId:i}),m&&(0,l.jsx)(I.Z,{in:0===b,timeout:300,classNames:"CloseupPinNoteTooltip",unmountOnExit:!0,children:(0,l.jsx)(a.xu,{zIndex:T.km,children:(0,l.jsx)(p.default,{anchor:m.current,experienceIds:[503219,502828],flyoutSize:312,idealDirection:"up",placementId:12,showCaret:!0,textAlign:"center",textWeight:"bold"})})})]})}},873828:function(e,t,n){"use strict";n.d(t,{Z:function(){return tt}});var r=n(699825),i=n(27255),o=n(240681),a=n(789605),l=n(445868),s=n(802933),c=n(908390),u=n(515198),d=function(e){var t=e.children;return(0,u.jsx)(c.xu,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:t})},p=n(898781),f=n(780280),h=n(966676),m=n(92261);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t=(0,p.ZP)(),n=(0,f.B)(),r=e.isWideVideo,_=e.pin,y=e.shouldPadImage,v=(0,s.Z)({pin:_}),b=((0,a.Z)(v)||{}).attribution,x=void 0===b?{}:b,P=((0,l.Z)(v)||{}).embed,w=P&&P.src,j=r?m.KP:m.Gg,S=x.providerName,O="50%";"soundcloud"===S?O="30%":["vevo","youtube","vimeo"].includes(S)?O="50%":"vin"===S&&(O="100%");var k=(0,u.jsx)(h.ZP.Consumer,{children:function(e){var a=e.showCloseupContentRight,l=e.viewportSize,s=(0,u.jsx)("div",{style:g({height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:O},(0,o.Z)({isSideBySide:!r,isPadded:y,isRTL:n.isRTL})),children:(0,u.jsx)("iframe",{allowFullScreen:!0,id:i.Z.VIDEO_IFRAME_ID,src:w.replace("http://","https://"),style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:t.bt("Conteúdo incorporado", "Embedded content", "Accessible content for the embedded content iframe", undefined, true)})});return a&&"lg"===l?(0,u.jsx)(c.xu,{marginBottom:6,marginEnd:r||y?0:6,width:j,children:s}):s}});return y?(0,u.jsx)(d,{children:k}):k},b=n(76911),x=n(752802),P=n(743217),w=n(341866);function j(e){var t=e.isScenePin,n=e.inStlPinnerExp,r=e.hasXYcoordinates,i=e.pin,o=e.isORBACProfileManager,a=e.showProductDetailPage,c=e.carouselInfo,u=(0,s.Z)({pin:i}),d=((0,l.Z)(u)||{}).embed,p=d&&"gif"===d.type,f=i.is_promoted;return!(t||f||p||o)&&((!n||!r)&&(a?!c||function(e){var t,n=e.pin,r=e.carouselData,i=r.index,o=void 0===i?0:i,a=r.carousel_slots,l=(void 0===a?[]:a)[o],s=l.image_signature,c=void 0===s?"":s,u=l.images;return c.length>0||(0,P.Z)(n).url===(null===(t=(0,x.Z)({images:u}))||void 0===t?void 0:t.url)}({pin:i,carouselData:c.carouselData}):!c))}var S=n(431911),O=n(435497),k=n(737022),C=n(455024),A=function(e){var t=e.fit,n=e.highResOnly,r=e.lowResOnly,i=e.onError,o=e.onLoad,a=e.slot,l=e.slotIndex,s=(0,p.ZP)(),d=a.details,f=void 0===d?"":d,h=(0,k.Z)(a.images)||{},m=h.url,_=void 0===m?"":m,g=h.width,y=void 0===g?1:g,v=h.height,b=void 0===v?1:v;return(0,u.jsx)(c.Ee,{alt:(0,C.GH)(f,s,l),fit:t,naturalHeight:null!=b?b:1,naturalWidth:null!=y?y:1,onError:i,onLoad:o,src:null!=_?_:"",srcSet:(0,C.gA)({slot:a,lowResOnly:r,highResOnly:n})})},I=n(238464),E=n(112690),T=function(e){var t=e.contextLogData,n=e.height,r=e.isFocused,i=e.videoList,o=e.onFocus,a=e.onUnfocus,l=e.pinId,s=e.width,d=(0,E.Z)(),p=i.V_720P,f=i.V_HLSV4,h=i.V_HLSV3_MOBILE,m=p||f||h||{},_=m.height,g=void 0===_?1:_,y=m.width,v=void 0===y?1:y,x=m.thumbnail,P=n/s,w=g/v;(0,b.useEffect)((function(){r?o&&o():a&&a()}),[r,o,a]),(0,b.useEffect)((function(){r&&d({component:t.component,event_type:13,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})}),[r,t,d]);var j=(0,b.useCallback)((function(){d({component:t.component,event_type:3621,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})}),[t,d]);return(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",height:"100%",width:"100%",children:(0,u.jsx)(c.xu,{width:"".concat(100*Math.min(P/w,1),"%"),children:(0,u.jsx)(I.Z,{loop:!0,muted:!1,pinId:l,variant:"default",video:{mp4:p,hls:f,hlsv3:h},customThumbnail:x,preferMp4:!0,showControls:"hover",contextLogData:t,disabled:!r,onPlay:j})})})},D=n(965900),z=n(407043),R=n(276602);function Z(e){var t,n=e.carouselData,r=e.displayHeight,i=e.displayWidth,o=e.pinId,a=(0,z.v)().logContextEvent,l=(0,h.x4)(),s=l.pdpCarouselSlotToPaneRatio,d=l.showProductDetailPage,p=n.index,f=void 0===p?0:p,m=(0,D.I)(),_=m.pauseAutoplay,g=m.setCurrentVideo,y=(0,b.useRef)(null),v=(0,R.EV)(),x=(0,b.useCallback)((function(e){v&&e>=1&&v.markConstraintComplete("image")}),[v]),P=(0,b.useMemo)((function(){return{viewParameter:d?144:156,view:3,component:d?14012:179,objectId:o}}),[o,d]),w=(0,b.useCallback)((function(){g({pinId:o,isPromoted:!1})}),[g,o]),j=(0,b.useCallback)((function(){_({pinId:o,isPromoted:!1})}),[_,o]);return(0,b.useEffect)((function(){var e;(null===(e=n.carousel_slots)||void 0===e?void 0:e.find((function(e){var t;return null===(t=e.videos)||void 0===t?void 0:t.video_list})))&&a({event_type:120,view_type:P.view,view_parameter:P.viewParameter,component:P.component,object_id_str:P.objectId})}),[a,n.carousel_slots,P]),(0,u.jsx)(c.xu,{ref:y,children:(0,u.jsx)(O.Z,{height:r,id:o,index:f,slideWidth:i,widthRatio:s,gap:1===s?0:4,containerRef:y,children:(null===(t=n.carousel_slots)||void 0===t?void 0:t.map((function(e,t){var n,a,l;return null!==(n=e.videos)&&void 0!==n&&n.video_list?(a=(0,u.jsx)(T,{contextLogData:P,height:r,isFocused:f===t,onFocus:w,onUnfocus:j,pinId:o,videoList:e.videos.video_list,width:i*s}),l=e.videos.id):(a=(0,u.jsx)(A,{fit:"contain",onLoad:function(){return x(t)},slot:e,slotIndex:t}),l=e.image_signature),(0,u.jsx)(c.zd,{height:"100%",wash:1!==s,children:a},"".concat(o,"-").concat(l||t))})))||[]})})}var L=n(766127);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){var t=e.carouselData,n=e.carouselSlotToPaneRatio,r=e.children,i=e.displayWidth,o=e.hide,a=(0,b.useCallback)((function(){return function(e){var t=e.carouselData,n=e.containerWidth,r=e.slotWidth,i=t||{},o=i.index,a=i.carousel_slots,l=Math.floor(r);return void 0===o||!a||o>=a.length-1?0:n-l}({carouselData:t,containerWidth:i,slotWidth:i*n})}),[t,i,n]),l=B((0,b.useState)(a()),2),s=l[0],d=l[1],p=B((0,b.useState)(!1),2),f=p[0],h=p[1],m=B((0,b.useState)(),2),_=m[0],g=m[1],y=(0,b.useCallback)((function(){var e=a();d(e)}),[a]);return(0,b.useEffect)((function(){var e=!0;return h(!1),g((function(t){return clearTimeout(t),setTimeout((function(){e&&(y(),o||h(!0))}),500)})),function(){e=!1}}),[null==t?void 0:t.index,y,o]),(0,b.useEffect)((function(){return function(){return clearTimeout(_)}}),[_]),(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginRight:s,transition:"opacity ".concat(500,"ms, visibility ").concat(500,"ms ease-in-out"),visibility:f?"visible":"hidden"}},opacity:f?1:0,children:r})}var N=n(337986);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t,n=e.domain,i=e.link,o=e.pin,a=e.trafficSource,l=(0,p.ZP)(),s=U((0,b.useState)(!1),2),d=s[0],f=s[1];return t=i.startsWith("https://i.pinimg.com")?l.bt("Ver imagem", "View image", "closeup.image.domainLinkButton", undefined, true):n||l.bt("Saiba mais", "Learn more", "closeup.image.domainLinkButton", undefined, true),(0,u.jsx)(c.iP,{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onTap:function(){},children:(0,u.jsx)(r.Z,{hovered:d,pin:o,trafficSource:a,viewType:3,children:(0,u.jsxs)(c.xu,{alignItems:"center",color:d?"lightWash":"default","data-test-id":"visit-button",display:"flex",height:44,justifyContent:"center",opacity:.9,paddingX:4,rounding:"pill",children:[(0,u.jsx)(c.JO,{accessibilityLabel:l.bt("Ícone para abrir link", "Open link icon", "closeup.image.domainLinkButtonIcon", undefined, true),color:"default",icon:"arrow-up-right"}),(0,u.jsx)(c.xu,{paddingX:1}),(0,u.jsx)(c.xv,{size:"300",weight:"bold",children:t})]})})})}var W=n(241244),G=n(319915),K=n(947599);function q(e){var t=e.domain,n=e.link,r=e.navigationWrapper,i=e.pin,o=e.trafficSource;return(0,u.jsxs)(b.Fragment,{children:[(0,u.jsx)(c.xu,{height:"calc(100% - 60px)"}),(0,u.jsx)(c.Le,{bottom:12,children:(0,u.jsx)(c.xu,{display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:5,children:(0,u.jsx)(G.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:r((0,u.jsx)(V,{domain:t,link:n,pin:i,trafficSource:o}))})})})})})]})}var X=n(751191);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=(0,b.lazy)((function(){return n.e(90907).then(n.bind(n,356725))})),ee=(0,b.lazy)((function(){return n.e(90907).then(n.bind(n,239062))})),te=(0,b.lazy)((function(){return n.e(47319).then(n.bind(n,331823))})),ne=(0,b.lazy)((function(){return n.e(87122).then(n.bind(n,647303))})),re=(0,b.lazy)((function(){return n.e(97372).then(n.bind(n,554383))})),ie=(0,b.lazy)((function(){return n.e(28947).then(n.bind(n,313786))})),oe=(0,b.lazy)((function(){return n.e(79156).then(n.bind(n,615711))})),ae=function(e){var t=e.children,n=e.name;return(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-".concat(n),left:!0,position:"absolute",right:!0,top:!0,children:t})},le=function(e){var t=e.animateShopButton,n=e.borderStyle,r=e.carouselInfo,i=e.displayHeight,o=e.displayWidth,a=e.domain,l=e.hasStelaResults,s=e.imageSignature,d=e.isHovered,p=e.justifyShopButton,f=e.link,m=e.navigationWrapper,_=e.onShopButtonAnimationComplete,g=e.onStelaDotAnimationComplete,y=e.onStlFlyoutHover,v=e.pin,x=e.searchQuery,P=e.showCarouselControls,w=e.showCarouselEllipsis,j=e.showCloseupShopDomainLinkButton,S=e.showDebugSignalsFeedbackButton,O=e.showDomainLink,k=e.showDomainLinkButton,C=e.showFlashlightButton,A=e.showProductDetailPage,I=e.showPinTagButton,E=e.showShopButton,T=e.showStelaDots,D=e.showStlFlyout,z=e.showWash,R=e.stelaDotAnimationType,Z=e.taggedProducts,L=e.trafficSource,B=(0,h.x4)().pdpCarouselSlotToPaneRatio;return(0,u.jsxs)(b.Fragment,{children:[z&&(0,u.jsx)(ae,{name:"wash",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:$({backgroundColor:"rgba(0,0,0,0.3)"},n)},height:"100%",width:"100%"})}),O&&(0,u.jsx)(ae,{name:"domain-link",children:(0,u.jsxs)(c.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.xv,{color:"inverse",weight:"bold",children:a})})]})}),P&&r&&(0,u.jsxs)(ae,{name:"carousel-controls",children:[(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(ee,{carouselIndex:r.carouselData&&r.carouselData.index,carouselData:r.carouselData,componentType:r.componentType,handleCarouselSwipe:r.handleCarouselSwipe,pinId:v.id,viewParameter:r.viewParameter,viewType:r.viewType,forwardNode:A?(0,u.jsx)(X.Z,{iconType:"forward",showFab:d,backgroundColor:"default",hoverColor:"secondary",iconColor:"default"}):void 0,backNode:A?(0,u.jsx)(X.Z,{iconType:"back",showFab:d,backgroundColor:"default",hoverColor:"secondary",iconColor:"default"}):void 0})})}),(0,u.jsx)(c.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,position:"absolute",right:!0,padding:5,children:!k&&w&&(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(J,{carouselIndex:r.carouselData&&r.carouselData.index,carouselData:r.carouselData,componentType:r.componentType,handleCarouselSwipe:r.handleCarouselSwipe,isCloseup:!0,pinId:v.id,variant:"default",viewParameter:r.viewParameter,viewType:r.viewType})})})})})]}),T&&(0,u.jsx)(ae,{name:"stela-container",children:(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_StelaContainerWrapper",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(re,{disableSelected:!0,alwaysShow:j,height:i,closeupImageHovered:d,onStelaDotAnimationComplete:g,pin:v,searchQuery:x,stelaDotAnimationType:R,trafficSource:L,width:o,enablePointerEvents:l&&["in","inOut"].includes(R)||d&&j})})})}),D&&(0,u.jsx)(ae,{name:"stl-flyout-container",children:(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_StlFlyoutContainer",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.N,{enabled:["in","inOut"].includes(R),children:(0,u.jsx)(oe,{alwaysShow:d,displayWidth:o,displayHeight:i,imageSignature:s,onStlFlyoutHover:y,taggedProducts:Z||[],onAnimationComplete:g,stelaDotAnimationType:R})})})})}),E&&(0,u.jsxs)(ae,{name:"shop-button",children:[(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,u.jsx)(c.Le,{bottom:12,children:(0,u.jsx)(c.xu,{display:"flex",justifyContent:p,paddingX:4,children:(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(ie,{animateShopButton:t,onAnimationComplete:_,pin:v,type:D?"stl":"stela"})})})})})})]}),S&&(0,u.jsxs)(ae,{name:"debug-signals-feedback",children:[(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,u.jsx)(c.Le,{bottom:12,children:(0,u.jsx)(c.xu,{display:"flex",justifyContent:"end",paddingX:5,children:(0,u.jsx)(N.Z,{pin:v})})})]}),!T&&(0,u.jsxs)(ae,{name:"flashlight-button",children:[(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,u.jsx)(c.Le,{bottom:16,children:(0,u.jsx)(c.xu,{display:"flex",justifyContent:"end",paddingX:5,children:(0,u.jsx)(F,{displayWidth:o,carouselData:null==r?void 0:r.carouselData,carouselSlotToPaneRatio:B,hide:!C,children:(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(te,{closeupImageHovered:!k&&d,pinId:v.id,variant:"default",imageSignature:s})})})})})})})]}),(k||j)&&(0,u.jsx)(ae,{name:"domain-link-button",children:(0,u.jsx)(q,{domain:a,link:f,navigationWrapper:m,pin:v,trafficSource:L})}),I&&(0,u.jsx)(ae,{name:"tag-button",children:(0,u.jsx)(G.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(ne,{pin:v})})})})})]})},se=n(832654);var ce=n(69586),ue=n(622305),de=n(74155),pe=n(35495);var fe=n(941646),he=n(287072),me=n(717615),_e=n(19121),ge=n(773285),ye=n(296005),ve=n(801827),be=n(231947),xe=n(537313);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=function(e){var t=e.auxData,n=e.onClick,r=e.pin,i=e.href,o=e.children,a=(0,he.Z)({href:i,target:"blank",externalData:{auxData:t,pin:r}});return(0,u.jsx)(fe.Z,{id:"image-link",children:(0,u.jsx)(c.iP,{onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),n(),a({event:t})},href:i,rel:"nofollow",role:"link",children:o})})};function Ce(e){var t,n,r,i,a=e.onClick,l=e.hasXYcoordinates,d=e.isEligibleForStlFlyout,m=void 0!==d&&d,_=e.isHovered,g=e.pin,y=e.searchQuery,v=e.shouldPadImage,x=e.taggedProducts,P=e.trafficSource,O=e.viewParameter,k=e.isORBACProfileManager,C=(0,p.ZP)(),A=(0,_e.Z)(),I=(0,ge.F)().checkExperiment,E=(0,me.Z)(),T=(0,ve.r)(),D=T.mainImage,z=T.carouselInfo,R=T.previewImage,B=T.isGif,M=T.imgSrc,F=I("web_stl_pinner",{dangerouslySkipActivation:!0}).anyEnabled,N=(0,be.nl)(A,E)&&I("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,U=Se((0,b.useState)("inOut"),2),H=U[0],V=U[1],W=(0,b.useCallback)((function(){return V("none")})),G=Se((0,b.useState)(!0),2),K=G[0],q=G[1],X=(0,b.useCallback)((function(){q(!1)})),Y=Se((0,b.useState)(!1),2),$=Y[0],Q=Y[1],J=(0,b.useCallback)((function(e){Q(e)})),ee=(0,s.Z)({pin:g}),te=(0,ue.Z)(ee),ne=((0,ce.Z)(te)||{}).imageOrig,re=(void 0===ne?{}:ne).url,ie=(ee||{}).pin,oe=null!=z&&z.carouselData?function(e){var t=e.carousel_slots,n=e.index;return t&&void 0!==n&&(t[n]||{}).image_signature?t[n].image_signature:null}(z.carouselData):null==ie?void 0:ie.image_signature,ae=((0,de.Z)(ee)||{}).link,fe=((0,ye._T)()||{}).link,he=g.domain,Pe=(0,xe.nA)(g),je=(0,xe.Wp)(Pe).currentDomain||he,Oe={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(z&&z.carouselData&&z.carouselData.id){var Ce=z.carouselData,Ae=Ce.carousel_slots,Ie=void 0===Ae?[]:Ae,Ee=Ce.id,Te=Ce.index,De=void 0===Te?0:Te;i=Ie[De]&&Ie[De].link,Oe.carousel_slot_id=Ie[De]&&Ie[De].id,Oe.carousel_data_id=Ee,Oe.carousel_slot_index=De,je=Ie[De]&&Ie[De].domain||je}var ze=(0,pe.Kl)(g);ze&&(Oe.commerce_data=ze);var Re=(0,w.Z)({pin:g}).length>0,Ze=function(e){return e.is_eligible_for_related_products&&!(0,pe.Gy)(e)&&!(0,pe.i8)(e)}(g),Le=g.is_stale_product,Be=g.is_oos_product,Me=Ze&&!Be&&!Le,Fe=fe||i||ae||re,Ne=(0,be.Ms)(A,E)===(null===(t=g.pinner)||void 0===t?void 0:t.username)&&N,Ue=!Ze&&A.isAuth,He=(0,h.x4)(),Ve=He.showCloseupContentRight,We=He.paneWidth,Ge=He.pdpCarouselSlotToPaneRatio,Ke=He.showProductDetailPage,qe=function(e){var t=e.canShowDomainLinkButton,n=e.carouselInfo,r=e.disablePinTagButton,i=e.domain,o=e.hasXYcoordinates,a=e.inStlPinnerExp,l=e.isEligibleForStlFlyout,s=e.isEmployee,c=e.isHovered,u=e.isScenePin,d=e.navLink,p=e.pin,f=e.showProductDetailPage,h=e.showStelaDots,m=e.stlFlyoutHovered,_=e.isORBACProfileManager,g=(p||{}).access,y=l,v=(0,w.Z)({pin:p}).length>0,b=(u||y)&&c,x=u&&!v,P=(h||y)&&!b||x,S=!1,O=!1;c&&!b&&(S=!((O=!!d&&!h&&t)||m||!i||!p.link||p.link.startsWith("https://i.pinimg.com")||f&&n));var k=function(e){var t=e.carouselInfo,n=e.isHovered,r=e.isEligibleForStlFlyout,i=e.showStelaDots,o=e.showProductDetailPage,a=e.showDomainLinkButton;return(!o||!t)&&!(!n||a)&&(!i||i||r)}({carouselInfo:n,showProductDetailPage:f,isHovered:c,showStelaDots:h,showDomainLinkButton:O,isEligibleForStlFlyout:l});return{closeupShopNoStelaResults:x,justifyShopButton:u||t?"end":"start",showCarouselControls:!!n,showCloseupShopDomainLinkButton:b,showDebugSignalsFeedbackButton:!!s,showDomainLink:S,showDomainLinkButton:O,showFlashlightButton:j({isScenePin:u,inStlPinnerExp:a,hasXYcoordinates:o,pin:p,isORBACProfileManager:_,showProductDetailPage:f,carouselInfo:n}),showPinTagButton:!!g&&g.includes("tag")&&!r||_||!1,showShopButton:P,showStlFlyout:y,showWash:k}}({canShowDomainLinkButton:Ue,carouselInfo:z,disablePinTagButton:Ne,domain:je||"",hasXYcoordinates:l,inStlPinnerExp:F,isEligibleForStlFlyout:m,isEmployee:A.isAuth&&!!A.isEmployee,isHovered:_,isScenePin:Ze,navLink:Fe,pin:g,showProductDetailPage:Ke,showStelaDots:Me,stlFlyoutHovered:$,isORBACProfileManager:k}),Xe=qe.justifyShopButton,Ye=qe.showCarouselControls,$e=qe.showCloseupShopDomainLinkButton,Qe=qe.showDebugSignalsFeedbackButton,Je=qe.showDomainLink,et=qe.showDomainLinkButton,tt=qe.showFlashlightButton,nt=qe.showPinTagButton,rt=qe.showShopButton,it=qe.showStlFlyout,ot=qe.showWash,at=We.pdp,lt=We.regular,st=Ke?at:lt,ct=D.height,ut=D.width,dt=(0,S.Z)({carouselData:null==z?void 0:z.carouselData,mainImage:D,maxCloseupImageWidth:st,shouldPadImage:v,imageToDisplayWidthRatio:Ge}),pt=dt.height,ft=dt.width,ht={naturalWidth:ut,naturalHeight:ct,alt:(0,se.Z)(g,C)||"",src:B?M:(null==R?void 0:R.url)||""},mt=(0,f.B)(),_t=(0,o.Z)({isSideBySide:Ve,isPadded:v,isRTL:mt.isRTL}),gt=g||{},yt=gt.id,vt=gt.dominant_color,bt=(0,u.jsx)(c.xu,{"data-test-id":"closeup-image",overflow:"hidden",dangerouslySetInlineStyle:{__style:we({},_t)},children:null!=z&&z.carouselData?(0,u.jsx)(Z,{carouselData:z.carouselData,displayHeight:pt,displayWidth:ft,pinId:yt}):(0,u.jsx)(L.Z,{dominantColor:vt||"",imageProps:ht,imgSrc:M,isPreviewImage:!B&&!!M})});return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:we({},_t)},"data-test-id":"closeup-body-image-container",height:pt,position:"relative",width:ft,children:[Ze||Ue?bt:(0,u.jsx)(ke,{auxData:Oe,onClick:a,pin:g,href:Fe,children:bt}),(0,u.jsx)(le,{borderStyle:_t,carouselInfo:z,displayHeight:pt,displayWidth:ft,domain:null!==(n=null!==(r=je)&&void 0!==r?r:he)&&void 0!==n?n:"",hasStelaResults:Re,imageSignature:oe,isHovered:_,justifyShopButton:Xe,link:Fe,navigationWrapper:function(e){return(0,u.jsx)(ke,{auxData:Oe,onClick:a,pin:g,href:Fe,children:e})},onShopButtonAnimationComplete:X,onStelaDotAnimationComplete:W,onStlFlyoutHover:J,pin:g,searchQuery:y,animateShopButton:K,showCarouselControls:Ye,showCarouselEllipsis:!Ke,showCloseupShopDomainLinkButton:$e,showDebugSignalsFeedbackButton:Qe,showDomainLink:Je,showDomainLinkButton:et,showFlashlightButton:tt,showProductDetailPage:Ke,showPinTagButton:nt,showShopButton:rt,showStelaDots:Me,showStlFlyout:it,showWash:ot,stelaDotAnimationType:H,taggedProducts:x,trafficSource:P,viewParameter:O})]})}var Ae=n(430323),Ie=function(e){var t=e.hasXYcoordinates,n=e.isHovered,r=e.isEligibleForStlFlyout,i=e.onImageClick,o=e.pin,a=e.searchQuery,l=e.shouldPadImage,s=e.taggedProducts,c=e.trafficSource,p=e.viewParameter,f=e.isORBACProfileManager,h=(0,u.jsx)(Ae.Z,{viewParameter:p,component:85,children:(0,u.jsx)(Ce,{hasXYcoordinates:t,isHovered:n,isEligibleForStlFlyout:r,onClick:i,pin:o,searchQuery:a,shouldPadImage:l,taggedProducts:s,trafficSource:c,viewParameter:p,isORBACProfileManager:f})});return l?(0,u.jsx)(d,{children:h}):h},Ee=n(357787),Te=n(36971),De=n(463045);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Re=["setCurrentVideo","pauseAutoplay","videoStartTime","videosAutoplaying"];function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var i=We(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ve(e)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=(0,Ee.Z)(I.Z),qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(o,e);var t,n,r,i=Ue(o);function o(){var e;Me(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(Ve(e=i.call.apply(i,[this].concat(n))),"handleVisibilityChanged",(function(t){var n=e.props,r=n.pinId,i=n.isPromoted,o=n.setCurrentVideo,a=n.pauseAutoplay,l=n.videosAutoplaying,s=n.videoStartTime,c=(0,De.Z)(r,l);t&&!c?o({pinId:r,isPromoted:!!i,currentTime:s}):!t&&c&&a({pinId:r,isPromoted:!!i,currentTime:e.currentVideoCurrentTime})})),Ge(Ve(e),"handleVideoTimeChange",(function(t){var n=e.props,r=n.pinId,i=n.videosAutoplaying;(0,De.Z)(r,i)&&(e.currentVideoCurrentTime=t.time)})),e}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,i=n.pauseAutoplay,o=n.pinId,a=n.isPromoted,l=n.setCurrentVideo,s=n.videosAutoplaying,c=(0,De.Z)(o,s),u=(0,Te.Z)(o,s);this.currentVideoCurrentTime=null!=u?u:this.currentVideoCurrentTime,r!==t&&!r&&c?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!a,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:o,isPromoted:!!a,currentTime:this.currentVideoCurrentTime}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.pinId,n=e.isPromoted;(0,e.pauseAutoplay)({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=(e.setCurrentVideo,e.pauseAutoplay,e.videoStartTime,e.videosAutoplaying,Be(e,Re));return(0,u.jsx)(Ke,Le({inAdsDesktopVideoExperiment:!0,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1},t))}}])&&Fe(t.prototype,n),r&&Fe(t,r),o}(b.Component);function Xe(e){var t=e.pinId,n=e.isPromoted,r=(0,D.I)(),i=r.appUI,o=i.appInFocus,a=i.videosAutoplaying,l=r.pauseAutoplay,s=r.setCurrentVideo,c=a.organicVideosAutoplaying,d=a.promotedVideosAutoplaying,p=n?d[t]:c[t];return(0,u.jsx)(qe,Le(Le({},e),{},{appInFocus:o,pauseAutoplay:l,setCurrentVideo:s,videosAutoplaying:a,videoStartTime:p?p.currentTime:null}))}var Ye=n(274970),$e=n(704177),Qe=(0,b.lazy)((function(){return n.e(87122).then(n.bind(n,647303))})),Je=function(e){var t=e.children,n=e.name;return(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-".concat(n),left:!0,position:"absolute",right:!0,top:!0,children:t})},et=function(e){var t=e.closeupIsFirstPageInHistoryStack,n=e.customThumbnail,r=e.imageContainerRef,o=e.isWideVideo,a=e.pin,l=e.shouldPadImage,s=e.flyoutShareProps,p=e.video,f=!!a.promoter&&!a.is_downstream_promotion,h=f&&!a.is_eligible_for_web_closeup,_=(a||{}).access,g=!!_&&_.includes("tag"),y=m.Gg-m.d2,v=l?{maxWidth:{maxWidth:y},minWidth:{minWidth:y},height:{},borderRadius:16}:{},b="undefined"!=typeof window&&0===$e.Xb.getItem(i.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),x=(0,u.jsxs)(Ye.Z,{isVideo:!0,isWideVideo:o,shouldPadImage:l,styleOverrides:v,variant:"default",children:[(0,u.jsx)(c.xu,{width:"100%",ref:r,children:(0,u.jsx)(Xe,{autoplay:!b,customThumbnail:n,flyoutShareProps:s,isPromoted:f,loop:h,muted:t,pinId:a.id,video:p,variant:"default"})}),g&&(0,u.jsx)(Je,{name:"tag-button",children:(0,u.jsx)(G.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,u.jsx)(K.Z,{children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(Qe,{pin:a})})})})})]});return l?(0,u.jsx)(d,{children:x}):x},tt=function(e){var t=e.closeupIsFirstPageInHistoryStack,n=e.imageContainerRef,i=e.flyoutShareProps,o=e.hasXYcoordinates,a=e.isEligibleForStlFlyout,l=e.isWideVideo,s=e.pin,c=e.shouldPadImage,d=e.searchQuery,p=e.taggedProducts,f=e.trafficSource,h=e.isORBACProfileManager,m=e.isHovered,_=e.onImageClick,g=e.viewParameter,y=(0,ve.r)(),b=y.video,x=y.imgSrc,P=y.isEmbeddedVideo;return b?(0,u.jsx)(et,{closeupIsFirstPageInHistoryStack:t,imageContainerRef:n,isWideVideo:l,pin:s,shouldPadImage:c,flyoutShareProps:i,video:b,customThumbnail:x}):P?(0,u.jsx)(v,{isWideVideo:l,pin:s,shouldPadImage:c}):(0,u.jsx)(r.Z,{hovered:m,pin:s,viewType:3,children:(0,u.jsx)(Ie,{hasXYcoordinates:o,isHovered:m,isEligibleForStlFlyout:a,onImageClick:_,pin:s,searchQuery:d,shouldPadImage:c,taggedProducts:p,trafficSource:f,viewParameter:g,isORBACProfileManager:h})})}},491073:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(76911),i=n(240681),o=n(717615),a=n(19121),l=n(873828),s=n(675725),c=n(43671),u=n(898781),d=n(515198);function p(e){var t=e.pin,n=(0,u.ZP)(),r=(0,s.Z)({feedbackOptions:void 0,pin:t,viewParameter:156},n);return(0,d.jsx)(c.ZP,{hideContents:!0,pin:t,feedbackType:r})}var f=n(908390),h=n(215292),m=n(231947),_=n(558068),g=n(780280),y=n(801827),v=n(558329),b=n(966676);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.hasXYcoordinates,n=e.isEligibleForStlFlyout,s=e.isStoryPin,c=e.isWideVideo,u=e.pin,x=e.searchQuery,w=e.taggedProducts,S=e.trafficSource,O=e.viewParameterType,k=e.visualContentContainerRef,C=void 0===k?{current:null}:k,A=e.getPaneWidth,I=e.imageContainerRef,E=e.handleImageClickThrough,T=e.setClickthroughComponentForSurvey,D=e.isShortImage,z=j((0,r.useState)(!1),2),R=z[0],Z=z[1],L=(0,_.Hv)().previous,B=(0,b.x4)(),M=(0,o.Z)(),F=(0,g.B)(),N=(0,y.r)(),U=(0,a.Z)(),H=0===L.length,V=N.carouselInfo,W=N.imgSrc,G=N.mainImage,K=function(){Z((function(e){return!e}))},q=function(){Z(!1)},X=function(e){return{gridDescription:u.description,imageSrc:e,isFlyoutOpen:R,onFlyoutDismiss:q,onToggleFlyout:K,pinId:u.id}},Y=B.showCloseupContentRight;if(s)return null;var $=u.domain,Q=u.pinner,J=void 0===Q?{}:Q,ee=$&&!!u.link&&!u.link.startsWith("https://i.pinimg.com"),te=G.width,ne=A(B).visualPane,re=(0,v.NE)({closePanelWidth:ne,isShortImage:D,carouselInfo:V,isWideVideo:c,naturalWidth:te,showCloseupContentRight:Y}),ie=(0,i.Z)({isSideBySide:Y,isPadded:!1,isRTL:F.isRTL}),oe=(0,m.q6)(U,J.id,M);return(0,d.jsx)(f.xu,{"data-test-id":"visual-content-container",children:(0,d.jsx)(h.q,{children:function(e){var r=e.hovered,i=e.onMouseEnter,o=e.onMouseLeave;return(0,d.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:P({},ie)},display:"flex",justifyContent:"center",onMouseEnter:i,onMouseLeave:o,position:"relative",ref:C,width:c?"100%":ne,children:[(0,d.jsx)(l.Z,{closeupIsFirstPageInHistoryStack:H,flyoutShareProps:X(W),hasXYcoordinates:t,isEligibleForStlFlyout:n,imageContainerRef:I,isHovered:r,isWideVideo:c,onImageClick:function(){E&&E(),T("imageContainer")},pin:u,searchQuery:x,shouldPadImage:re,showDomainLink:ee,taggedProducts:w,trafficSource:S,viewParameter:(0,v.CK)(u,O),isORBACProfileManager:oe}),u&&u.showFeedback&&(0,d.jsx)(p,{pin:u})]})}})})}},127897:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(76911),i=n(431911),o=n(829407),a=n(92261),l=n(801827),s=n(966676);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=100+a.Ie;function p(e){var t=e.getPaneWidth,n=e.metadataContainerRef,a=c((0,r.useState)(!1),2),u=a[0],p=a[1],f=(0,s.x4)(),h=(0,l.r)();return(0,o.Z)((function(){n.current&&(function(e){var t=e.metadataHeight,n=e.closeupContext,r=e.visualData,o=e.getPaneWidth,a=n.pdpCarouselSlotToPaneRatio,l=r.mainImage,s=r.carouselInfo,c=o(n).visualPane;return t>(0,i.Z)({carouselData:null==s?void 0:s.carouselData,mainImage:l,maxCloseupImageWidth:c,imageToDisplayWidthRatio:a}).height}({metadataHeight:n.current.getBoundingClientRect().height+d,closeupContext:f,visualData:h,getPaneWidth:t})&&p(!0))})),u}},680333:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=i((0,r.useState)(""),2),t=e[0],n=e[1],o=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=function(){t&&o.current&&o.current.handleEgSurveyClick(t)};return window.addEventListener("focus",e),function(){return window.removeEventListener("focus",e)}}),[t]),{clickthroughComponentForSurvey:t,setClickthroughComponentForSurvey:n,webLinkSurveyRef:o,imageContainerRef:a,legoLinkClickthroughAnchorRef:l,maybeLinkRef:s}}},558329:function(e,t,n){"use strict";n.d(t,{CK:function(){return v},Ek:function(){return b},JM:function(){return y},NE:function(){return p},SR:function(){return c},VO:function(){return g},bm:function(){return d},nU:function(){return u},p_:function(){return f},y8:function(){return _}});var r=n(4294),i=n(692627),o=n(306775),a=n(623568),l=n(681227),s=n(231947);function c(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function u(e){var t=e.native_creator,n=e.pinner,r=e.domain;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===r)&&!e.is_promoted||t}var d=function(e){var t=e.viewer,n=e.pin;return(0,o.su)(t)&&n.is_quick_promotable_by_pinner};function p(e){var t=e.carouselInfo,n=e.closePanelWidth,r=e.isWideVideo,i=e.isShortImage,o=e.naturalWidth,a=e.showCloseupContentRight;return!(r||!a)&&(!!i||!t&&o<n)}function f(e,t){var n,i=null!==(n=null==e?void 0:e.board)&&void 0!==n?n:{};return(0,r.Z)({board:i,viewer:t})&&i.is_collaborative}function h(e){var t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function m(e){if(e.story_pin_data_id){var t=e.story_pin_data,n=(t=void 0===t?{}:t).metadata,r=t.pages;return{metadata:n,detailsPage:(void 0===r?[]:r)[1]}}}function _(e,t){return{childProps:{pin:e},isShopTheLook:h(e),showCreatorCard:u(e),creatorId:c(e),showCanonicalComments:e.is_eligible_for_aggregated_comments,isCanonical:(0,a.Nc)(e),storyPinDetailsArgs:m(e),showReactions:(0,l.J6)(e,t),isCreatorClassPin:!!e.creator_class}}function g(e,t,n){var i,o,a=null!==(i=null==t?void 0:t.board)&&void 0!==i?i:{};return(0,s.D3)(n,null===(o=(t||{}).pinner)||void 0===o?void 0:o.id,e)||(0,r.Z)({board:a,viewer:n})}function y(e){var t=e.paneWidth,n=e.maxWidth,r=t.regular;return{visualPane:r,descriptionPane:n.regular-r}}function v(e,t){var n,r,o;return t||(0,i.Z)({hasPin:!!e,hasPinRichMetadata:!(null==e||!e.rich_metadata),hasPinRichMetadataProducts:!(null==e||null===(n=e.rich_metadata)||void 0===n||!n.products),hasPinRichMetadataArticle:!(null==e||null===(r=e.rich_metadata)||void 0===r||!r.article),hasPinRichMetadataRecipe:!(null==e||null===(o=e.rich_metadata)||void 0===o||!o.recipe),hasPinStoryPinData:!(null==e||!e.story_pin_data)})}function b(e,t,n){return e?!!n.link:!(t&&t.variants.length>1)}},583085:function(e,t,n){"use strict";n.d(t,{Z:function(){return li}});var r=n(76911),i=n(506979),o=n(76050),a=n(51316),l=n(385937),s=n(940107),c=n(172071),u=n(386360),d=n(280313),p=n(949318),f=n(650165),h=n(802933),m=n(529581),_=n(908390),g=n(515198);var y=function(e){var t=e.viewer,n=((0,h.Z)(e)||{}).pin,r=(n||{}).pinner,i=void 0===r?{}:r,o=t.isAuth&&i.id===t.id,a=(0,g.jsx)(m.Z,{isOwnPin:o,pinId:n.id});return(0,g.jsx)(_.xu,{marginTop:10,"data-test-id":"aggregated-closeup-card",children:(0,g.jsx)(f.Z,{pinId:n.id,savedToText:a})})},v=n(238464),b=n(491431),x=n(206134),P=n.n(x),w=n(883561),j=n(898781);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,i,o=T(a);function a(){return A(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.onUpdate;e&&e()}},{key:"componentDidUpdate",value:function(e){if(e.showMore!==this.props.showMore){var t=this.props.onUpdate;t&&t()}}},{key:"render",value:function(){var e=this.props,t=e.pin,n=e.tutorialDescription,i=e.showMore,o=e.onToggle,a=t.carousel_data,l=t.closeup_description;if(a){var s=a.carousel_slots,c=void 0===s?[]:s,u=a.index,d=void 0===u?0:u;c[d]&&c[d].details&&(l=c[d].details)}var p=l&&n&&n.trim()===l.trim(),f=l?l.trim().replace(/\s+/g," "):null,h=l&&l.length>200;return f&&!p?(0,g.jsx)(r.Fragment,{children:h?(0,g.jsxs)(_.xu,{children:[(0,g.jsx)(_.xv,{inline:!0,children:i?f:(0,w.ZP)(f,200)}),(0,g.jsx)(_.xu,{display:"inlineBlock",marginStart:1,children:(0,g.jsx)(_.iP,{fullWidth:!1,onTap:o,children:(0,g.jsx)(_.xv,{inline:!0,size:"200",weight:"bold",children:i?this.props.i18n.bt("Menos", "Less", " - ", undefined, true):this.props.i18n.bt("Mais", "More", " - ", undefined, true)})})})]}):(0,g.jsx)(_.xv,{children:f})}):null}}])&&I(t.prototype,n),i&&I(t,i),a}(r.Component);function Z(e){var t=(0,j.ZP)();return(0,g.jsx)(R,k(k({},e),{},{i18n:t}))}var L=n(789605),B=n(445868),M=n(349700);function F(e){var t=(0,j.ZP)(),n=(0,L.Z)((0,h.Z)(e));if(!n)return null;var i=n.attribution,o=i.providerUrl,a=i.providerName,l=i.authorUrl,s=i.authorName,c=i.ccUrl,u=((0,B.Z)((0,h.Z)(e))||{}).embed,d=(u=void 0===u?{}:u).src,p=u.type,f=u.subtype,m={author:(0,g.jsx)(_.rU,{display:"inlineBlock",href:null!=l?l:"",rel:"nofollow",underline:"hover",children:s},"author"),provider:(0,g.jsx)(_.rU,{display:"inlineBlock",href:null!=o?o:"",rel:"nofollow",underline:"hover",children:a},"provider")},y=t.bt("de {{ provider }}", "from {{ provider }}", "Image source attribution without author on pin closeup", undefined, true);return s&&(y=d&&"gif"!==p&&"pinstory"!==f?t.bt("Vídeo de {{ author }} em {{ provider }}", "Video by {{ author }} on {{ provider }}", "Video source attribution on pin closeup", undefined, true):t.bt("Foto de {{ author }} em {{ provider }}", "Photo by {{ author }} on {{ provider }}", "Photo source attribution on pin closeup", undefined, true)),(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(_.xv,{color:"subtle",children:(0,M.nk)(y,m)}),c&&(0,g.jsx)(_.rU,{href:c,rel:"nofollow",children:t.bt("(cc)", "(cc)", "Creative Commons Link Text", undefined, true)})]})}function N(e){var t=e.category,n=e.ingredients;return(0,g.jsxs)(_.xu,{children:[t&&(0,g.jsx)(_.xu,{children:(0,g.jsx)(_.xv,{weight:"bold",children:t})}),(0,g.jsx)("ul",{children:n.map((function(e,t){return(0,g.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,g.jsx)(_.xu,{marginTop:1,children:(0,g.jsxs)(_.xv,{children:[e.amt||null," ",e.name]})})},t)}))})]})}var U=n(238873),H=n(762615),V=n(432730),W=n(833049),G=n(561195),K=n(312013),q=n(134185),X=n(326595),Y=n(92261),$=n(923297);function Q(e){var t,n,r,i=(0,j.ZP)(),o=(0,U.Z)((0,H.Z)((0,V.Z)((0,h.Z)(e))));if(!o)return null;var a=e.pin,l=o.recipe,s=l.name,c=l.diets,u=l.categorizedIngredients,d=l.fromAggregatedData,p=l.prepTime,f=l.cookTime,m=l.totalTime,y=l.servingSummary,v=m||f||p;if(f&&p){var b=f.h||0,x=f.m||0;v={h:b+(p.h||0),m:x+(p.m||0)}}var P=v?(0,W.Z)((0,$.X)(v),i):null,w=null===(t=a.rich_metadata)||void 0===t||null===(n=t.recipe)||void 0===n||null===(r=n.aggregate_rating)||void 0===r?void 0:r.review_count;return(0,g.jsxs)(q.Z,{itemScope:!0,itemType:Y.iB.RECIPE,children:[(0,g.jsx)("meta",{content:s,itemProp:"name"}),d?(0,g.jsx)("div",{className:"hr cardDivider"}):null,!!w&&(0,g.jsxs)(_.xu,{marginBottom:2,display:"flex",alignItems:"baseline",children:[a.rich_metadata&&a.rich_metadata.recipe&&a.rich_metadata.recipe.aggregate_rating&&(0,g.jsx)(_.xu,{marginEnd:1,children:(0,g.jsx)(G.Z,{rating:a.rich_metadata.recipe.aggregate_rating.rating_value,max_rating:a.rich_metadata.recipe.aggregate_rating.best_rating,width:16})}),(0,g.jsx)(_.xv,{weight:"bold",children:(0,M.nk)(i.nbt(["{{reviewCount}} avaliação", "{{reviewCount}} avaliações"], w, " - ", true),{reviewCount:w})})]}),P?(0,g.jsx)(_.xu,{marginBottom:2,display:"flex",alignItems:"center",children:(0,g.jsx)(X.Z,{timeString:P})}):null,(0,g.jsxs)(_.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:[(0,g.jsx)(_.X6,{size:"500",children:d?s:i.bt("Ingredientes", "Ingredients", "Ingredients title in closeup recipe description", undefined, true)}),c?(0,g.jsxs)(_.xu,{display:"flex",marginTop:1,"data-test-id":"diets-section",children:[(0,g.jsx)(_.xv,{children:c.join(", ")}),y?(0,g.jsx)(_.xu,{marginStart:1,"data-test-id":"serving-summary-section",children:(0,g.jsx)(_.xv,{children:"∙ "+y})}):null]}):null]}),Array.isArray(u)&&u.length>0&&(1===u.length?(0,g.jsx)(_.xu,{column:12,"data-test-id":"single-column-ingredients",children:u.map((function(e,t){var n=e.category,r=e.ingredients;return(0,g.jsx)(_.xu,{marginBottom:2,children:(0,g.jsx)(N,{category:n,ingredients:r})},t)}))}):(0,g.jsxs)(_.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,g.jsx)(_.xu,{column:6,children:u.slice(0,Math.ceil(u.length/2)).map((function(e,t){var n=e.category,r=e.ingredients;return(0,g.jsx)(_.xu,{marginBottom:2,children:(0,g.jsx)(N,{category:n,ingredients:r})},t)}))}),(0,g.jsx)(K.Z,{}),(0,g.jsx)(_.xu,{column:6,children:u.slice(Math.ceil(u.length/2)).map((function(e,t){var n=e.category,r=e.ingredients;return(0,g.jsx)(_.xu,{marginBottom:2,children:(0,g.jsx)(N,{category:n,ingredients:r})},t)}))})]}))]})}var J=n(818398),ee=n(533439),te=n(782534);function ne(e){var t=(0,j.ZP)(),n=(0,J.Z)((0,V.Z)((0,h.Z)(e)));if(!n)return null;var r=n.article,i=r.name,o=r.authors,a=r.datePublished,l=o&&o.map((function(e){return e.name})).join(", ");return(0,g.jsxs)(q.Z,{itemScope:!0,itemType:Y.iB.ARTICLE,children:[(0,g.jsx)("meta",{content:i,itemProp:"name"}),(0,g.jsxs)(_.xu,{marginTop:3,children:[a&&(0,g.jsxs)(_.xu,{children:[(0,g.jsx)("meta",{content:a.toDateString(),itemProp:"datePublished"}),(0,g.jsxs)(_.xv,{children:[t.bt("Publicado ", "Published ", " - ", undefined, true),(0,g.jsx)(te.Z,{value:a,dateFormatType:te.k.LONG})]})]}),o&&(0,g.jsx)(_.xu,{"data-test-id":"article-author",children:(0,g.jsxs)(_.xv,{children:[t.bt("Escrito por ", "Written by ", " - ", undefined, true),l]})})]})]})}var re=n(537313);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){var t=(0,h.Z)(e)||null;if(!t)return null;var n,i=t.inContainerRedesignExp,o=t.pin,a=t.onUpdate,l=t.showCloseupContentRight,s=t.onToggle,c=t.showMore,u=t.showCreatorCard,d=o.aggregated_pin_data,p=o.closeup_description,f=o.title,m=((0,H.Z)((0,V.Z)(t))||{}).recipe,y=((0,J.Z)((0,V.Z)(t))||{}).article,v=(y||{}).description,b=((0,ee.Z)((0,V.Z)(t))||{}).tutorial,x=(b||{}).description,w=y&&!m&&!b;return(0,g.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"14px",marginTop:i?void 0:12,marginBottom:i?void 0:12}},children:[(0,g.jsxs)("div",{className:"richPinInformation",style:{marginBottom:12},children:[d&&(0,g.jsx)(Z,{onToggle:s,showMore:c,pin:o,onUpdate:a,tutorialDescription:x})||w&&v&&(0,g.jsx)("div",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:(n=v,n.split(" ").map((function(e){return e.trim()})).reduce((function(e,t){return e.length>300?e:e.length+t.length+3>300?"".concat(e," ").concat(t,"..."):"".concat(e," ").concat(t)}),""))}),(0,g.jsx)("div",{className:P()("descriptionAction",{showCloseupContentRight:l}),children:(0,g.jsx)(_.xu,{marginTop:!i||f||p||u?3:0,children:(0,g.jsx)(re.xV,oe(oe({},t),{},{showDomainInLink:!0}))})}),w&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(ne,{pin:o}),(0,g.jsx)(F,{inArticle:!0,pin:o})]})]}),(0,g.jsx)(Q,{pin:t.pin})]})}var se=n(814197);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(o,e);var t,n,r,i=_e(o);function o(){return fe(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.onClickThrough,n=e.pin,r=e.maybeLinkRef,i=(0,g.jsx)(_.xu,{children:(0,g.jsx)(re.ZP,{onClickThrough:t,pin:n,showDomainInLink:!0})});return(0,g.jsxs)(_.xu,{marginTop:3,children:[(0,g.jsx)(_.xu,{display:"inlineBlock",position:"relative",width:"100%",ref:r,zIndex:se.Fk,children:i}),(0,g.jsx)(le,de({},this.props))]})}}])&&he(t.prototype,n),r&&he(t,r),o}(r.Component),be=n(704115),xe=n(69586),Pe=n(622305),we=n(674915),je=n(819303),Se=n(274970),Oe=n(273690),ke=n(966676);function Ce(e){var t=e.children,n=e.isWideVideo,r=void 0!==n&&n;return(0,g.jsx)(ke.ZP.Consumer,{children:function(e){var n=e.showCloseupContentRight,i=e.viewportSize;return n&&"lg"===i&&!r?null:t}})}var Ae=n(121151),Ie=n(6637),Ee=n(916062),Te=n(784590),De=n(422946),ze=n(678638),Re=n(956800),Ze=n(90326),Le=n(407043),Be=n(825067),Me=n(827896),Fe=n(254176);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ve(o,r,i,a,l,"next",e)}function l(e){Ve(o,r,i,a,l,"throw",e)}a(void 0)}))}}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var i=Qe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(a,e);var t,n,i,o=Xe(a);function a(){var e;Ge(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Je($e(e=o.call.apply(o,[this].concat(n))),"handleHide",(function(){var t=e.props.onHide;e.props.logContextEvent({event_type:7802}),t()})),Je($e(e),"handleDelete",We(regeneratorRuntime.mark((function t(){var n,r,i,o,a,l,s,c,u,d,p,f,h,m,_,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.logContextEvent({event_type:101,component:13373,element:11186}),n=e.props,r=n.getClientTrackingParams,i=n.detailedPin,o=n.dispatch,a=n.pinId,l=n.onDelete,s=n.onHide,c=n.changeBoardPinCount,u=n.changeUserPinCount,d=i.data||{},t.next=5,Ie.Z.create("PinResource",{id:a,client_tracking_params:r(a)}).callDelete();case 5:p=d.board,f=(p=void 0===p?{}:p).id,h=d.pinner,m=(h=void 0===h?{}:h).id,_=d.section,g=null==_?void 0:_.id,c({boardId:f,sectionId:g,increment:-1}),u({userId:m,increment:-1}),o((0,Fe.xQ)(f)),o((0,Re.EX)({feedId:g||f,feedType:g?De.DV.BOARD_SECTION_PINS:De.DV.BOARDFEED,itemIds:[a],itemType:"pin"})),g&&o((0,ze.CE)(g)),s(),l&&l();case 18:case"end":return t.stop()}}),t)})))),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,g.jsx)(Ae.ZP,{accessibilityModalLabel:this.props.i18n.bt("Excluir esse Pin", "Delete this Pin", "Accessibility label for modal to delete this status pin", undefined, true),onDismiss:this.handleHide,heading:this.props.i18n.bt("Excluir esse Pin?", "Delete this Pin?", "Heading for modal to delete this status pin", undefined, true),size:"sm",footer:(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(_.xu,{marginBottom:3,children:(0,g.jsx)(_.zx,{fullWidth:!0,color:"gray",text:this.props.i18n.bt("Excluir", "Delete", "Button label for confirming the action of deleting status pin", undefined, true),onClick:function(){e.handleDelete()}})}),(0,g.jsx)(_.xu,{children:(0,g.jsx)(_.zx,{fullWidth:!0,color:"red",text:this.props.i18n.bt("Cancelar", "Cancel", "Button label for cancelling the action to delete status pin", undefined, true),onClick:this.handleHide})})]}),children:(0,g.jsx)(_.xu,{padding:4,children:(0,g.jsx)(_.xv,{children:this.props.i18n.bt("Se você excluir esse Pin, não poderá recuperá-lo.", "If you delete this Pin, you won't be able to get it back.", "Text to confirm whether user wants to delete the status pin", undefined, true)})})})}}])&&Ke(t.prototype,n),i&&Ke(t,i),a}(r.Component);function tt(e){var t,n=(0,i.useDispatch)(),r=(0,Le.v)().logContextEvent,o=null===(t=(0,Be.W)())||void 0===t?void 0:t.onPinDelete,a=(0,Te.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"detailed"}}),l=(0,Ee.Z)(a.data);return(0,g.jsx)(et,He(He({},e),{},{changeBoardPinCount:function(e){return n((0,Fe.Br)(e))},changeUserPinCount:function(e){return n((0,Ze.JS)(e))},detailedPin:a,dispatch:n,getClientTrackingParams:(0,Me.Z)(),i18n:(0,j.ZP)(),logContextEvent:r,onDelete:function(){var t;l(),null===(t=e.onDelete)||void 0===t||t.call(e),null==o||o({pinId:e.pinId})}}))}var nt=n(700380),rt=n(430323),it=n(502712),ot=n(499128),at=n(19121),lt=n(559073),st=n(966113),ct=n(558068),ut=n(343341),dt=n(609500);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var i=xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(e){var t=e.children;return(0,g.jsx)(ke.ZP.Consumer,{children:function(e){var n=e.showCloseupContentRight,r=e.viewportSize;return n&&"lg"===r&&t}})},jt={backgroundGradient:{__style:{background:"linear-gradient(to bottom, #eee 200px, #fff 100%)",padding:"32px 0",width:"100%"}},closeupBoxShadow:{__style:{boxShadow:"0 4px 4px #eee",paddingBottom:"24px"}}},St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(a,e);var t,n,i,o=yt(a);function a(){var e;mt(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Pt(bt(e=o.call.apply(o,[this].concat(n))),"state",{descriptionShowMore:!1,showDeletePinModal:!1,viewportSize:"lg"}),Pt(bt(e),"mounted",!1),Pt(bt(e),"updateViewportSize",(0,nt.Z)((function(){e.mounted&&e.setState({viewportSize:window&&window.matchMedia("(min-width: 1056px)").matches?"lg":"md"})}),50)),Pt(bt(e),"handleCloseDeleteStatusPinModal",(function(){e.setState({showDeletePinModal:!1})})),Pt(bt(e),"handleGoBack",(function(){var t=e.props,n=t.isLandingPage,r=t.history;(0,be.Z)().crossSite?window.history.back():n?r.push("/"):r.goBack()})),Pt(bt(e),"handleOnDeleteStatusPin",(function(){var t=e.props.toastManagerContext;e.setState({showDeletePinModal:!1}),t.showToast((function(t){var n=t.hideToast;return(0,g.jsx)(ot.ZP,{onHide:n,text:e.props.i18n.bt("Pin excluído", "Pin deleted", "Pin delete completion confirmation", undefined, true)})})),e.handleGoBack()})),Pt(bt(e),"handleOpenDeleteStatusPinModal",(function(){e.setState({showDeletePinModal:!0}),e.props.logContextEvent({event_type:7803,view_type:248})})),Pt(bt(e),"handleToggleExpand",(function(){return e.setState((function(e){return{descriptionShowMore:!e.descriptionShowMore}}))})),Pt(bt(e),"renderNonConversationalDetail",(function(){var t=e.props,n=t.onCloseupBodyUpdate,i=t.pin,o=t.viewer,a=t.onClickThrough,l=i.id,s=i.is_native,c=((0,we.Z)((0,h.Z)({pin:i}))||{}).video;return(0,g.jsxs)(r.Fragment,{children:[e.showCreatorCard&&(0,g.jsx)(_.xu,{marginBottom:3,children:(0,g.jsx)(b.Z,{componentType:126,creatorId:e.creatorId,impressionType:"User",loggingId:e.creatorId,pin:i,slotIndex:0,viewer:o,viewParameter:156,viewType:3})}),s&&i&&(0,g.jsx)(y,{pin:i,viewer:o}),(0,g.jsx)(ve,{onClickThrough:a,onToggle:e.handleToggleExpand,onUpdate:n,pin:i,showCreatorCard:e.showCreatorCard,showMore:e.state.descriptionShowMore,viewer:o}),s&&c?(0,g.jsx)(_.xu,{marginBottom:4,children:(0,g.jsx)(re.xV,{onUpdate:n,pin:i,pinId:l,viewer:o})}):null,!s&&i&&(0,g.jsx)(y,{pin:i,viewer:o})]})})),e}return t=a,(n=[{key:"creatorId",get:function(){var e,t=this.props.pin.link_domain,n=this.props.pin.third_party_pin_owner,r=t&&t.official_user;return r||n?null!=r&&r.id?r.id:null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"":null}},{key:"showCreatorCard",get:function(){var e=this.props.pin;return(e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner)&&!e.is_promoted}},{key:"componentDidMount",value:function(){this.mounted=!0,this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportSize),this.mounted=!1}},{key:"render",value:function(){var e,t=this.state,n=t.showDeletePinModal,r=t.viewportSize,i=this.props,o=i.isLandingPage,a=i.pin,l=a||{},s=l.id,c=l.title,u=l.video_status_message||{},d={pin:a},p=(0,h.Z)(d),f=((0,lt.Ip)((0,Pe.Z)(p))||{}).image564x,m=void 0===f?null:f,y=((0,xe.Z)((0,Pe.Z)(p))||{}).imageOrig,b=m||(void 0===y?null:y),x=b&&b.url,P=((0,we.Z)(p)||{}).video,w=void 0===P?null:P,j=(0,g.jsx)(it.Z,ht({},d)),S=60,O=0;return b&&(S=b&&"lg"===r?Math.max(Math.min(b.width,496),60):Math.max(Math.min(b.width,564),60),O=b&&b.height?S/b.width*b.height:0),(0,g.jsx)(rt.Z,{view:248,children:(0,g.jsxs)(ke.ZP.Provider,{value:(0,ke.Nb)(ht(ht({},ke.Of),{},{showCloseupContentRight:!0,viewportSize:r})),children:[(0,g.jsxs)(_.xu,{dangerouslySetInlineStyle:jt.backgroundGradient,children:[(0,g.jsx)(_.xu,{display:"flex",justifyContent:"center",paddingY:6,children:(0,g.jsx)(_.xv,{align:"center",inline:!0,children:(0,g.jsxs)("span",{className:"deprecatedTextSizeXL",children:["".concat(null!==(e=u.closeup)&&void 0!==e?e:""," "),(0,g.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,g.jsx)("span",{className:"deprecatedTextSizeXL",children:(0,g.jsx)(_.rU,{display:"inlineBlock",href:st.o1,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:this.props.i18n.bt("Leia nossas diretrizes", "Read our guidelines", "Text link to Pinterest's video content guidelines", undefined, true)})})},"review-guidelines")]})})}),(0,g.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",children:(0,g.jsx)(je.Z,{children:(0,g.jsxs)(_.xu,{color:"default",rounding:2,dangerouslySetInlineStyle:jt.closeupBoxShadow,children:[(0,g.jsxs)(_.xu,{display:"flex",justifyContent:"between",alignItems:"center",paddingX:6,paddingY:4,children:[(0,g.jsx)(_.hU,{accessibilityLabel:this.props.i18n.bt("Voltar", "Back", "Text for back button in the Pin creation flow", undefined, true),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleGoBack,size:"lg",padding:2}),(0,g.jsx)(_.xu,{display:"flex",padding:1,children:(0,g.jsx)(_.zx,{fullWidth:!0,color:"gray",text:this.props.i18n.bt("Excluir", "Delete", "Delete a status Pin", undefined, true),onClick:this.handleOpenDeleteStatusPinModal})})]}),(0,g.jsxs)(Oe.Z,{children:[(0,g.jsx)(_.xu,{paddingX:4,children:(0,g.jsx)(Ce,{children:j})}),(0,g.jsx)(Se.Z,{variant:"default",children:(0,g.jsx)(_.xu,{rounding:2,overflow:"hidden",height:O,width:S,children:w?(0,g.jsx)(v.Z,{customThumbnail:x,muted:o,pinId:s,video:w,autoplay:!0,variant:"legacy"}):b&&(0,g.jsx)(_.Ee,{alt:c||"",color:"lightGray",naturalHeight:b.height,naturalWidth:b.width,src:b.url})})}),(0,g.jsxs)(_.xu,{paddingX:4,children:[(0,g.jsx)(wt,{children:j}),p&&this.renderNonConversationalDetail()]})]})]})})}),(0,g.jsxs)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:6,children:[(0,g.jsx)(_.JO,{accessibilityLabel:this.props.i18n.bt("Bloquear", "Lock", "Accessibility label for lock icon", undefined, true),icon:"lock",inline:!0,size:20}),(0,g.jsx)(_.xu,{padding:2,children:(0,g.jsx)(_.xv,{children:this.props.i18n.bt("Só você pode ver isso", "This is only visible to you", "The status pin closeup page is only visible to the pin owner", undefined, true)})})]})]}),n&&(0,g.jsx)(tt,{pinId:s,onDelete:this.handleOnDeleteStatusPin,onHide:this.handleCloseDeleteStatusPinModal})]})})}}])&&_t(t.prototype,n),i&&_t(t,i),a}(r.Component);function Ot(e){var t=(0,Le.v)().logContextEvent,n=(0,j.ZP)(),r=0===(0,ct.Hv)().previous.length;return(0,g.jsx)(St,ht(ht({},e),{},{history:(0,dt.useHistory)(),isLandingPage:r,toastManagerContext:(0,ut.F9)(),viewer:(0,at.Z)(),i18n:n,logContextEvent:t}))}var kt=n(392019),Ct=n(717615),At=n(283855),It=n(231947),Et=n(763917),Tt=n(623568),Dt=n(826067),zt=n(915071),Rt=n(773285),Zt=n(203138),Lt=n(485237),Bt=n(394215),Mt=n(215292);function Ft(e){var t=e.handleClick,n=e.pins,r=e.title,i=e.viewportSize;if(n.length<1)return null;var o="narrow"===i,a=o?4:5,l=Math.min(n.length,a-1),s=n.slice(0,l+1),c=o?553:807,u=o?266:292,d=o?118:139,p=o?176:208,f=s.map((function(e,t){var n=e.description,r=e.id,i=e.images,o=(i=void 0===i?{}:i)["236x"],a=null!=o?o:{},l=a.url,s=a.width,c=a.height;return(0,g.jsx)(_.xu,{width:d,height:p,marginStart:0!==t?4:0,overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"7px"}},children:(0,g.jsx)(_.zd,{wash:!0,width:d,height:p,children:(0,g.jsx)(_.Ee,{alt:null!=n?n:"",src:null!=l?l:"",naturalWidth:null!=s?s:1,naturalHeight:null!=c?c:1,fit:"cover"})})},r)}));return(0,g.jsx)(Mt.q,{children:function(e){var n=e.hovered,i=e.onMouseEnter,o=e.onMouseLeave;return(0,g.jsx)(_.iP,{onMouseEnter:i,onMouseLeave:o,onTap:t,children:(0,g.jsxs)(_.xu,{"data-test-id":"shop-entry-container",display:"flex",justifyContent:"center",color:n?"secondary":"default",direction:"column",position:"relative",width:c,height:u,marginBottom:7,dangerouslySetInlineStyle:{__style:{borderRadius:"23px",marginTop:"18px"}},children:[(0,g.jsx)(_.xu,{marginBottom:4,children:(0,g.jsx)(_.xv,{align:"center",size:"300",weight:"bold",children:r})}),(0,g.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",width:c,children:f})]})})}})}var Nt=n(564194);function Ut(e){var t=(0,dt.useHistory)(),n=(0,Le.v)().logContextEvent,r=e.pinId,i=e.searchQuery,o=e.slotIndex,a=e.story,l=a.action.url,s=a.content_ids,c=a.id,u=a.objects,d=a.story_type,p=a.title.format,f=e.trafficSource,h=e.viewParameter,m=e.viewportSize;if(u.length<1)return null;var _=function(e,t){var n=e?"q=".concat(e):null,r=t&&"unknown"!==t?"rs=".concat(t):null,i="";return n&&r?i="?".concat(n,"&").concat(r):!n&&r&&(i="?".concat(r)),i}(i,f),y="".concat(l).concat(_);"related_products_collage"===d&&(y=_?"/pin/".concat(r,"/related-products/").concat(_,"&entrySource=shopping"):"/pin/".concat(r,"/related-products/?entrySource=shopping"));return(0,g.jsx)(Nt.Z,{componentType:0,contextLogData:{content_ids:(s||[]).map((function(e){return"pin:".concat(e)})).join("|"),story_id:c,story_type:d},impressionType:"Story",loggingId:c,slotIndex:o,viewParameter:h,viewType:3,children:(0,g.jsx)(Ft,{pins:u,title:p,handleClick:function(){n({event_type:101,view_type:3,view_parameter:139,component:200,aux_data:{story_id:c,story_type:d}}),t.push(y)},viewportSize:m})})}var Ht=n(360961),Vt=n(438799);function Wt(e){var t,n=e.clientTrackingParams,r=e.pin,i=e.searchQuery,o=e.setRelatedPinsHeaderRef,a=e.slotIndex,l=e.story,s=e.trafficSource,c=e.viewParameter,u=e.viewportSize;return l?"related_products_collage"===l.story_type?(0,g.jsx)(_.xu,{alignSelf:"center",children:(0,g.jsx)(Ut,{pinId:r.id,searchQuery:i,slotIndex:a,story:l,trafficSource:s,viewParameter:c,viewportSize:u})}):"SKIN_TONE_FILTER_QUERIES"===l.story_type?(0,g.jsx)(_.xu,{alignSelf:"center",children:(0,g.jsx)(Vt.Z,{story:l})}):"related_modules_header"===l.story_type?(0,g.jsx)(_.xu,{"data-test-id":"related-modules-header",ref:o,children:(0,g.jsx)(Ht.Z,{clientTrackingParams:n,slotIndex:a,storyId:l.id,storyType:l.story_type,title:null===(t=l.title)||void 0===t?void 0:t.format,viewParameter:c})}):null:null}var Gt=n(92331),Kt=n(575576),qt=n(329734),Xt=n(572551),Yt=n(656226),$t=n(692627),Qt=n(112690),Jt=n(444445),en=n(53325),tn=n(361259),nn=n(963e3);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var i=fn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn=function(e){return{height:en.zX*e,width:en.zX}},_n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(a,e);var t,n,i,o=un(a);function a(){var e,t,n;ln(this,a);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return hn(pn(n=o.call.apply(o,[this].concat(l))),"state",{imageHeightModifier:null===(e=n.props.relatedPinsResource.auxData)||void 0===e||null===(t=e.grid_layout)||void 0===t?void 0:t.w_h_ratio}),hn(pn(n),"scrollContainerRef",(0,r.createRef)()),hn(pn(n),"Item",(function(e){var t,r,i,o,a,l,s,u=e.data,d=e.itemIdx,p=n.props.lfvExperiences,f=n.state.imageHeightModifier;switch(u.type){case"story":switch(c.Z.increment("web_story_card_type",1,{story_type:u.story_type||"unknown",surface:"closeup"}),u.story_type){case"BUBBLE_ONE_COL":s=(0,g.jsx)(Gt.Z,{bubbles:u.objects,id:u.id,referringSource:u.referring_source,slotIndex:d,storyType:u.story_type,title:u.title,viewType:3,viewParameter:(0,$t.Z)({hasPin:!!n.props.pin,hasPinRichMetadata:!!n.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(t=n.props.pin.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(r=n.props.pin.rich_metadata)||void 0===r||!r.article),hasPinRichMetadataRecipe:!(null===(i=n.props.pin.rich_metadata)||void 0===i||!i.recipe),hasPinStoryPinData:!!n.props.pin.story_pin_data})});break;default:s=null}u.container_type&&nn.K.includes(u.container_type)&&(s=(0,g.jsx)(nn.Z,{data:u}));break;case"pin":default:var h=(0,qt.Z)(p);s=(0,g.jsx)(Yt.default,{imageOnlyOption:h?"image-only":"default",pin:u,pinId:u.id,pinImageCrop:f?mn(f):null,authDesktopSurface:"RelatedPinGrid",componentType:13007,slotIndex:d,viewData:{pin_id:n.props.pin.id},viewParameter:(0,$t.Z)({hasPin:!!n.props.pin,hasPinRichMetadata:!!n.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(o=n.props.pin.rich_metadata)||void 0===o||!o.products),hasPinRichMetadataArticle:!(null===(a=n.props.pin.rich_metadata)||void 0===a||!a.article),hasPinRichMetadataRecipe:!(null===(l=n.props.pin.rich_metadata)||void 0===l||!l.recipe),hasPinStoryPinData:!!n.props.pin.story_pin_data}),viewType:3})}return(0,g.jsx)(Kt.Z,{children:s})})),n}return t=a,(n=[{key:"componentDidMount",value:function(){var e,t,n;this.props.logContextEvent({event_type:13,view_parameter:(0,$t.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(e=this.props.pin.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null===(t=this.props.pin.rich_metadata)||void 0===t||!t.article),hasPinRichMetadataRecipe:!(null===(n=this.props.pin.rich_metadata)||void 0===n||!n.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}),view_type:3,component:86})}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o=this.props.relatedPinsResource;this.state.imageHeightModifier||null!==(t=e.relatedPinsResource.auxData)&&void 0!==t&&null!==(n=t.grid_layout)&&void 0!==n&&n.w_h_ratio||null===(r=o.auxData)||void 0===r||null===(i=r.grid_layout)||void 0===i||!i.w_h_ratio||this.setState({imageHeightModifier:o.auxData.grid_layout.w_h_ratio}),this.scrollContainerRef.current=window}},{key:"render",value:function(){var e,t,n,r=this.props,i=r.pin,o=r.relatedPinsResource,a=r.relatedPinsStartIndex,l=void 0===a?0:a,s=o.data,c=o.fetchMore,u=o.isAtEnd,d=o.isFetching;if(!o.isLoaded)return null;var p="relatedPins:".concat(i.id),f=["related_products_button_footer","related_domain_carousel","related_products_feed_header"],h=(s||[]).slice(l).filter((function(e){return!f.includes(null==e?void 0:e.story_type)}));return(0,g.jsxs)(_.xu,{children:[h&&this.props.hasSimplifiedPinGridExpLoaded&&(0,g.jsx)(rt.Z,{viewParameter:(0,$t.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!(null===(e=this.props.pin.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null===(t=this.props.pin.rich_metadata)||void 0===t||!t.article),hasPinRichMetadataRecipe:!(null===(n=this.props.pin.rich_metadata)||void 0===n||!n.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}),component:86,children:(0,g.jsx)(Xt.default,{columnWidth:Jt.yF,Item:this.Item,items:h,loadItems:c,cacheKey:p,isAtEnd:u,isFetching:d,paddingStyle:"simplified",scrollContainerRef:this.scrollContainerRef,serverRender:!0})}),(0,g.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,g.jsx)(_.$j,{accessibilityLabel:this.props.i18n.bt("Carregando os resultados dos produtos relacionados", "Loading related products results", "closeup.relatedProducts.results", undefined, true),show:d})})]})}}])&&sn(t.prototype,n),i&&sn(t,i),a}(r.Component);function gn(e){var t=(0,j.ZP)(),n=(0,Qt.Z)(),r=(0,tn.$)().hasSimplifiedPinGridExpLoaded;return(0,g.jsx)(_n,an(an({},e),{},{hasSimplifiedPinGridExpLoaded:r,i18n:t,logContextEvent:n}))}var yn=n(786871);function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bn,xn=new Set(["related_modules_header","related_products_feed_header"]),Pn=new Set([].concat(function(e){if(Array.isArray(e))return vn(e)}(bn=xn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(bn)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(bn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES"]));function wn(e){var t=e.pin,n=e.searchQuery,r=e.relatedResourceOptions,i=e.setRelatedPinsHeaderRef,o=e.trafficSource,a=e.viewParameter,l=e.viewportSize,s=e.clientTrackingParams,c=(0,Te.Z)({name:r.name,options:r.options}),u=(0,yn.Z)();return(0,g.jsxs)(_.xu,{"data-test-id":"relatedPins",display:"flex",direction:"column",flex:"grow",position:"relative",children:[(c.data||[]).filter((function(e){return Pn.has(e.story_type)})).map((function(e,r){return(0,g.jsx)(_.xu,{display:"flex",direction:"column",children:(0,g.jsx)(Wt,{clientTrackingParams:s,pin:t,searchQuery:n,setRelatedPinsHeaderRef:i,slotIndex:r,story:e,trafficSource:o,viewParameter:a,viewportSize:l})},"related-module-".concat(e.id))})),(0,g.jsx)(_.xu,{children:(0,g.jsx)(gn,{lfvExperiences:u,pin:t,relatedPinsResource:c})})]})}var jn=n(319247),Sn=n(756138),On=n(52722),kn=n(271040),Cn=n(319915),An=n(673270),In=n(147128),En=n(502517),Tn=n(296982),Dn=n(534991),zn=n(834911),Rn=n(737022),Zn=n(768559),Ln=n(167137),Bn=n(165733),Mn=n(743217),Fn=n(627387);var Nn=n(13713),Un=n(186986),Hn=n(206663),Vn=n(825490),Wn=n(786701),Gn=n(543972),Kn=n(251819),qn=n(954571),Xn=n(411938),Yn=n(343591),$n=n(4294),Qn=n(849418),Jn=n(507712),er=n(712331),tr=n(970576),nr=n(820621),rr=n(642513),ir=n(947599),or=n(71052),ar=n(704177),lr=n(128503),sr=n(326884),cr=n(82314),ur=n(977558),dr=n(696157),pr=n(801827),fr=n(47168),hr=n(205992),mr=n(313951),_r=n(807532),gr=n(21353),yr=n(52022),vr=n(31062),br=n(994608),xr=n(276602),Pr=n(780280),wr=n(296005),jr=n(18857),Sr=n(35495),Or=n(749147);function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Br(e);if(t){var i=Br(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){if(t&&("object"===kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=(0,r.lazy)((function(){return n.e(58789).then(n.bind(n,70943))})),Nr=(0,r.lazy)((function(){return n.e(95246).then(n.bind(n,245323))})),Ur=(0,r.lazy)((function(){return n.e(75754).then(n.bind(n,849086))})),Hr=12e4,Vr={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},Wr={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32};function Gr(e){var t=e.conversation_id,n=e.senderId,r=e.pinId;Ie.Z.create("ApiResource",{url:"/v3/conversations/".concat(t,"/message/mark_seen/"),data:{sender:n,pin:r}}).callCreate()}function Kr(e){return e?228:4}function qr(e,t){return e?35:t?11157:361}var Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(a,e);var t,n,i,o=Rr(a);function a(){var e;Tr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mr(Lr(e=o.call.apply(o,[this].concat(n))),"state",(0,Bn.Z)(e.props)),Mr(Lr(e),"removedPwtThumbnailsConstraint",!1),Mr(Lr(e),"setCloseupBodyContainerRef",(function(t){e.closeupBodyContainerRef=t})),Mr(Lr(e),"setResultScrollContainerRef",(function(t){e.resultScrollContainer||(e.resultScrollContainer=t,e.forceUpdate())})),Mr(Lr(e),"setRelatedPinsHeaderRef",(function(t){e.relatedPinsHeaderRef=t})),Mr(Lr(e),"mounted",!1),Mr(Lr(e),"handleCloseupBodyUpdate",(function(){e.updateViewportSize()})),Mr(Lr(e),"updateViewportSize",(0,nt.Z)((function(){var t=e.state.viewportSize;if(e.mounted){var n="lg";window&&window.innerWidth<1056&&(n=window&&window.innerWidth<680?"sm":"md"),e.setState({hideBackButton:window&&("lg"===t&&window.innerWidth<=1135||["md","sm"].includes(t)&&window.innerWidth<=630),backButtonLabelFitInScreen:window&&"lg"===t&&window.innerWidth>=1340,viewportSize:n})}}),50)),Mr(Lr(e),"clickThroughTimer",(function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!0})})),Mr(Lr(e),"executeClickthrough",(function(t){var n,r,i,o,a,l,s,c,u=e.props,d=u.pinId,p=u.setPlacementExtraContext,f=u.viewer,h=u.trafficSource,m=u.logContextEvent,_=u.variantData,g=e.state,y=g.pin,v=g.didPinClickThrough,b=g.didShortClickThrough,x=!!y.story_pin_data,P=t||{},w=P.wasImageClicked,j=P.auxData,S=P.componentType,O=void 0===S?Kr(x):S,k=P.elementType,C=void 0===k?qr(!!w,x):k,A=P.viewType,I=void 0===A?3:A,E=(0,$t.Z)({hasPin:!!e.props.pin,hasPinRichMetadata:!(null===(n=e.props.pin)||void 0===n||!n.rich_metadata),hasPinRichMetadataProducts:!(null===(r=e.props.pin)||void 0===r||null===(i=r.rich_metadata)||void 0===i||!i.products),hasPinRichMetadataArticle:!(null===(o=e.props.pin)||void 0===o||null===(a=o.rich_metadata)||void 0===a||!a.article),hasPinRichMetadataRecipe:!(null===(l=e.props.pin)||void 0===l||null===(s=l.rich_metadata)||void 0===s||!s.recipe),hasPinStoryPinData:!(null===(c=e.props.pin)||void 0===c||!c.story_pin_data)}),T=Er(Er({},(0,Sr.Kl)(y,{})||{}),j||{});if(_&&(T.product_variant_selection_made=_.isSelectedByUser),f&&f.isAuth&&!v&&p&&(p({didPinClickThrough:!0}),e.setState({didPinClickThrough:!0})),x){var D=(0,re.nA)(e.props).link;m({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:y.id,url:D}})}if(m({event_type:101,object_id_str:d,component:O,element:C,aux_data:Er(Er({},(0,Sr.Kl)(y,{})||{}),j||{})}),m({event_type:12,object_id_str:d,view_type:I,view_parameter:E,component:O,element:C,aux_data:T}),m({event_type:8948,view_type:I,view_parameter:E,component:O,element:C,object_id_str:d,aux_data:Er(Er({click_type:"clickthrough",closeup_navigation_type:h&&(0,Tt.sV)(h)?"deeplink":"click"},(0,Sr.Kl)(y)||{}),j||{})}),w){var z=setInterval(e.clickThroughTimer,Hr);e.setState({intervalId:z})}e.clickThroughStartTime=Date.now(),b&&e.setState({didShortClickThrough:!1})})),Mr(Lr(e),"handleFocus",(function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!1})})),Mr(Lr(e),"handleWindowFocus",(function(){if(e.clickThroughStartTime>0){var t=Date.now()-e.clickThroughStartTime<5e3;e.setState({didShortClickThrough:t}),e.clickThroughStartTime=0}})),Mr(Lr(e),"handleClickLogging",(function(){e.props.logContextEvent({event_type:101,object_id_str:e.state.pin.id,component:4,element:0,aux_data:Er({},(0,Sr.Kl)(e.state.pin)||{})})})),Mr(Lr(e),"handleBackButtonClick",(function(){var t=e.props,n=t.deepLinkBackGoesToBoard,r=t.goBack,i=t.routePush,o=t.trafficSource,a=t.viewer,l=t.requestContext,s=t.pin,c=t.logContextEvent;(0,Nn.Z)({deepLinkBackGoesToBoard:n,goBack:r,routePush:i,trafficSource:o,viewer:a,requestContext:l,pin:s},c)})),Mr(Lr(e),"handleCarouselSwipe",(function(t){var n=e.state,r=n.visualState;n.firstLoadComplete&&e.setState({visualState:Er(Er({},r),{},{carouselData:Er(Er({},r.carouselData),{},{index:t})})})})),Mr(Lr(e),"dispatch",(function(t,n){return e.setState((function(e){return(0,jn.Z)(e,t)}),n)})),Mr(Lr(e),"handleScroll",(0,nt.Z)((function(){var t=e.state.isOverRelatedPins;if(e.relatedPinsHeaderRef){var n=ur.hu,r=e.relatedPinsHeaderRef.getBoundingClientRect().top<=n;r&&!t?e.setState({isOverRelatedPins:!0}):!r&&t&&e.setState({isOverRelatedPins:!1})}}),10)),Mr(Lr(e),"handleRelatedPinsUpsellOnTouch",(function(e){e.event.stopPropagation()})),Mr(Lr(e),"onToggleIdeaPinCloseupPanel",(function(t){e.setState({isCloseupMaximized:!t}),e.closeupBodyContainerRef&&(e.closeupBodyContainerRef.ariaHidden=!t)})),Mr(Lr(e),"onWrapperClick",(function(t){t.stopPropagation(),e.handleBackButtonClick()})),Mr(Lr(e),"onRelatedInterestsBannerDismiss",(function(){e.setState({isRelatedInterestsBannerDismissed:!0})})),Mr(Lr(e),"handleIdeaCloseupCommentIconClick",(function(t){e.setState({isCommentSectionOpen:t})})),Mr(Lr(e),"updateCloseupBodyContainerHeight",(function(){(e.props.pin||{}).story_pin_data_id&&e.closeupBodyContainerRef&&e.closeupBodyContainerRef.clientHeight!==e.state.closeupBodyContainerHeight&&e.setState({closeupBodyContainerHeight:e.closeupBodyContainerRef.clientHeight})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e,t,n,r=this,i=this.props,o=i.conversation_id,a=i.conversationOpen,l=i.dispatch,s=i.experimentsClient,c=i.pin,u=i.pinId,d=i.senderId,p=i.setPlacementExtraContext,f=i.shouldShowInbox,h=i.toastManager,m=i.openInbox,_=i.trackInteraction;this.mounted=!0,(0,Yn.Z)(c)&&setTimeout((function(){r.setState({showRelatedContent:!0})}),1e3),o&&d&&u&&Gr({conversation_id:o,senderId:d,pinId:u}),o&&(a(o),f&&m()),c.image_signature&&this.props.setMostRecentPinImage(c.image_signature),u&&this.props.setMostRecentPinId(u),p&&p({is_own_or_group_pin:this.isOwnOrGroupPin});var y=ar.ZP.localStorage.getItem("unauthDesktopSavePinId")||"";y&&y===u&&(ar.ZP.localStorage.removeItem("unauthDesktopSavePinId"),_({action:"trigger",item:"unauth-save-button-quicksave"}),(0,nr.Z)(c,this.props.i18n).then((function(e){var t=e.id,n=e.url,r=e.name;l((0,hr.hT)(!0)),l((0,Or.d)({boardId:t,url:n,title:r||"",pinId:u})),l((0,Or.X)(c)),h.showToast((function(t){var n=t.hideToast;return(0,g.jsx)(tr.Z,{boardName:e.name,boardUrl:e.url,onHide:n,pinImageUrl:c.images["236x"].url})}))}))),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&null!==(n=t.search)&&void 0!==n&&n.includes("invite_code=")&&s.checkExperiment("web_log_invite_attribution_pin_closeup").anyEnabled&&(0,Jn.Z)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.didRepin,r=t.isLandingPage,i=t.pin,o=t.pinId,a=t.conversation_id,l=t.senderId,s=t.pinResource.data,c=t.pwtSurfaceContext,u=t.setPlacementExtraContext,d=this.state,p=d.visualState.carouselData,f=d.firstLoadComplete;this.visualDataDidUpdate(),f&&!this.removedPwtThumbnailsConstraint&&(null==c||c.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),s&&!f&&(s.carousel_data&&(s.carousel_data.index=(null==p?void 0:p.index)||0),this.dispatch({type:"pinLoaded",pin:s})),a&&l&&o&&e.pinId!==o&&Gr({conversation_id:a,senderId:l,pinId:o});var h={};(ar.ZP.localStorage.getItem(dr.W3)||"").includes("/pin/".concat(o))&&r&&(h.loginPageType="pin"),n&&(h.didRepin=!0),i.image_signature&&(h.pin_image_signature=i.image_signature),h.is_own_or_group_pin=this.isOwnOrGroupPin;var m=e.didRepin,_=e.isLandingPage,g=e.pinId,y=m!==n||r!==_||g!==o;!(0,Kn.Z)(h)&&y&&u&&u(Er({},h))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}},{key:"isOwnOrGroupPin",get:function(){var e,t=this.props,n=t.pin,r=t.viewer,i=(n||{}).board||{},o=i.is_collaborative&&(0,$n.Z)({board:i,viewer:r});return Boolean(r.isAuth&&(null===(e=n.pinner)||void 0===e?void 0:e.id)===r.id||o)}},{key:"visualDataDidUpdate",value:function(){var e,t,n,r=this.props,i=r.variantData,o=r.pin,a=this.state,l=a.visualState,s=l.carouselData,c=l.mainImage;if(a.firstLoadComplete){var u,d=(0,zn.Z)({carouselData:o.carousel_data,images:o.images,richMetadata:o.rich_metadata,richSummary:o.rich_summary,additionalImages:null==i?void 0:i.images}),p=(0,Mn.Z)(o),f=((null==d?void 0:d.carousel_slots)||[])[0]||{},h=(0,Rn.Z)(f.images),m=null!=i&&i.images?0:(null==s?void 0:s.index)||0;u=d&&((null===(e=d.carousel_slots)||void 0===e?void 0:e.length)||0)>1?{mainImage:p,carouselData:Er(Er({},d),{},{index:m}),previewImage:(0,Fn.Z)(o)}:null!=h&&h.url?{mainImage:{url:h.url,height:h.height||1,width:h.width||1}}:{mainImage:p,previewImage:(0,Fn.Z)(o)},(null==s?void 0:s.id)===(null===(t=u.carouselData)||void 0===t?void 0:t.id)&&JSON.stringify(null==s?void 0:s.carousel_slots)===JSON.stringify(null===(n=u.carouselData)||void 0===n?void 0:n.carousel_slots)&&c.url===u.mainImage.url||this.setState({visualState:u})}}},{key:"renderBodyContent",value:function(e){var t,n,i,o,a,l=this,s=e.ideaPinStelaCategories,c=e.isEligibleForStlFlyout,u=e.inStlPinnerExp,d=e.relatedResourceOptions,p=e.taggedProducts,f=e.storyPinTaggedProducts,m=e.maxWidth,y=this.props,v=y.experimentsClient.checkExperiment,b=y.isLimitedLogin,x=y.pin,P=y.pinResource,w=y.requestContext,j=y.routePush,S=y.searchQuery,O=y.showRepinOnInitialRender,k=y.trafficSource,C=y.viewer,A=y.orbacActingAs,I=y.userBusinessRoleResource,E=y.isORBACGA,T=y.trendsData,D=x.id,z=x.sponsorship,R=x.story_pin_data_id,Z=x.story_pin_data,L=!!R,B=!(null==Z||!Z.is_deleted),M=z||{},F=M.creator,N=M.sponsor,U=M.status,H=(F||{}).username,V=(N||{}).username,W=P.refresh,G=E?(0,It.lJ)(C,A):void 0,K=(I||{}).data,q=!x.is_repin&&V,X=V===C.username?[sr.V3.OWNER]:null==K?void 0:K.permissions,Y=V===C.username||!(null==X||!X.find((function(e){return er.Z.includes(e)}))),$=V===C.username||!(null==X||!X.find((function(e){return er.Z.includes(e)}))),Q=this.state,J=Q.closeupBodyContainerHeight,ee=Q.didShortClickThrough,te=Q.isCloseupMaximized,ne=Q.isInFocus,re=Q.relatedPins,ie=Q.shopping,oe=Q.showRelatedFeedUpsell,ae=Q.viewportSize,le=Q.isCommentSectionOpen,se=Q.viewability,ce=((0,Vn.Z)((0,h.Z)({pin:x}))||{}).isWideVideo;this.mounted&&L&&this.updateCloseupBodyContainerHeight();var ue=(0,jr.rh)(x,C,this.props.experimentsClient,G),de=(0,br.CA)(null==T?void 0:T.data,this.props.experimentsClient),pe=q&&C.isAuth&&v("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(Y&&0===U||$&&1===U),fe=(null==x||null===(t=x.link_domain)||void 0===t||null===(n=t.official_user)||void 0===n?void 0:n.username)||(null==x||null===(i=x.native_creator)||void 0===i?void 0:i.username),he=(0,It.Ms)(C,A)===fe&&(0,It.nl)(C,A)&&w.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,me=m.regular,_e=(x.aggregated_pin_data||{}).has_xy_tags,ge=L&&(null==Z||null===(o=Z.pages)||void 0===o?void 0:o.length)>0,ye=!1;!x.is_eligible_for_aggregated_comments||B||_e&&u||(ye=L?v("web_sticky_comment_composer_idea_pin").anyEnabled:(0,Yn.Z)(x)?v("web_sticky_comment_composer_video_pin").anyEnabled:v("web_sticky_comment_composer_web_pin").anyEnabled);var ve=(0,g.jsx)(Cn.Z,{name:"CloseupBody",children:(0,g.jsxs)(_.xu,{direction:"column",display:"flex",ref:this.setCloseupBodyContainerRef,width:"100%",children:[(0,g.jsxs)(_.xu,{alignItems:ce?"center":void 0,direction:ce?"column":void 0,display:ce?"flex":void 0,children:[pe&&(0,g.jsx)(_.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,g.jsx)(Cn.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,g.jsx)(ir.Z,{children:(0,g.jsx)(Ur,{business_role:X,creatorUsername:H,sponsorshipStatus:U,pinId:D})})})}),(0,jr.WE)(C,ae,ue,de,T,pe)&&(0,g.jsx)(_.xu,{"data-test-id":"PartnerModule",width:"lg"===ae&&ce?me:"100%",children:(0,g.jsx)(Cn.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,g.jsx)(ir.Z,{children:(0,g.jsx)(Nr,{borderStyle:Wr,isStoryPin:L,pin:x,viewportSize:ae,trendsData:de?null==T||null===(a=T.data)||void 0===a?void 0:a.results:null,showPinStats:ue})})})})]}),(0,g.jsx)(_.xu,{flex:"grow",children:(0,g.jsx)(Lt.Z,{isCommentSectionOpen:le,ideaPinStelaCategories:s,handleCarouselSwipe:this.handleCarouselSwipe,inStlPinnerExp:u,isCloseupMaximized:te,onCloseupBodyUpdate:this.handleCloseupBodyUpdate,onCommentSectionClick:this.handleIdeaCloseupCommentIconClick,shopping:ie,shouldShowStlCarouselForOwnPin:he,storyPinTaggedProducts:f,taggedProducts:p,data:P.data,didShortClickThrough:ee,goBack:this.handleBackButtonClick,hasXYcoordinates:_e,isEligibleForStlFlyout:c,isStoryPin:L,isDeletedStoryPin:!!B,isWideVideo:ce,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleClickLogging,onUpdate:W,outerBodyStyle:L?null:Wr,pin:x,relatedResourceOptions:d,routePush:j,searchQuery:S,shouldHaveStickyCommentComposer:ye,showRepinOnInitialRender:!b&&O,trafficSource:k,viewParameterType:ge?157:void 0,viewType:ge?3:void 0})}),oe&&re.length>0&&(0,g.jsx)(_.iP,{onTap:this.handleRelatedPinsUpsellOnTouch,children:(0,g.jsx)(rr.Z,{})})]})});return(0,g.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:L?Er(Er({},Vr.storyPinGradientStyle),{},{minHeight:ye?void 0:J,width:"100%"}):{}},id:"gradient","data-test-id":"gradient",display:"flex",justifyContent:"center",marginBottom:4,children:(0,g.jsxs)(r.Fragment,{children:[ge&&(0,g.jsx)(fr.T,{children:(0,g.jsx)(Gn.Z,{options:{threshold:[0,.5,.8,.99,1]},onVisibilityChange:function(e){if(e&&e.length>0){var t=e[0].intersectionRatio,n=t>.5;l.setState({isInFocus:n,viewability:t})}},children:function(e){return(0,g.jsx)(_.xu,{ref:e,children:(0,g.jsx)(Sn.Z,{closeupStoryPinViewability:se,pin:x,viewType:3,viewParameter:157,children:(0,g.jsx)(Wn.Z,{appConfig:{type:"authDesktop",onClickThrough:l.executeClickthrough,onNavigateBack:l.handleBackButtonClick},isInFocus:ne,pin:x,storyPinData:Z,goBack:l.handleBackButtonClick,onUpdate:W,onIdeaPinCloseupCommentClick:function(){l.handleIdeaCloseupCommentIconClick(!0)},variant:"closeup",viewability:se,onTogglePanel:l.onToggleIdeaPinCloseupPanel})})})}})}),(0,g.jsx)(je.Z,{isHeightConstrained:ye,isStoryPin:L,isWideVideo:ce,children:ve})]})})}},{key:"renderRelatedModulesContent",value:function(e){var t,n,r,i,o,a,l,s,c,u=e.relatedResourceOptions,d=this.props,p=d.contextPinIds,f=d.pin,h=d.searchQuery,m=d.topLevelTrafficSource,_=d.trafficSource,y=d.location,v=d.isORBACGA,b=d.viewer,x=d.orbacActingAs,P=(0,It.q6)(b,null===(t=f.pinner)||void 0===t?void 0:t.id,x);if(v&&P)return null;var w,j,S,O=this.state.viewportSize,k={pin:f,relatedResourceOptions:u,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:m,viewParameter:(0,$t.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!(null===(n=this.props.pin)||void 0===n||!n.rich_metadata),hasPinRichMetadataProducts:!(null===(r=this.props.pin)||void 0===r||null===(i=r.rich_metadata)||void 0===i||!i.products),hasPinRichMetadataArticle:!(null===(o=this.props.pin)||void 0===o||null===(a=o.rich_metadata)||void 0===a||!a.article),hasPinRichMetadataRecipe:!(null===(l=this.props.pin)||void 0===l||null===(s=l.rich_metadata)||void 0===s||!s.recipe),hasPinStoryPinData:!(null===(c=this.props.pin)||void 0===c||!c.story_pin_data)}),viewportSize:O};return f&&f.id?(0,g.jsx)(wn,{clientTrackingParams:null!==(w=(0,Zn.Z)({boardUrl:null==f||null===(j=f.board)||void 0===j?void 0:j.url,callToCreateSourcePinId:null==f?void 0:f.call_to_create_source_pin_id,location:y,pinId:f.id,pinnerUserName:null==f||null===(S=f.pinner)||void 0===S?void 0:S.username,storyPinDataId:null==f?void 0:f.story_pin_data_id,trackingParams:null==f?void 0:f.tracking_params,trackingParamsMap:null==f?void 0:f.tracking_params_map}))&&void 0!==w?w:"",contextPinIds:p,pin:k.pin,searchQuery:h,trafficSource:_,relatedResourceOptions:k.relatedResourceOptions,setRelatedPinsHeaderRef:k.setRelatedPinsHeaderRef,viewParameter:k.viewParameter,viewportSize:k.viewportSize}):null}},{key:"renderContent",value:function(e){var t,n,i,o,a,l,s,c,u=this,d=e.ideaPinStelaCategories,p=e.isEligibleForStlFlyout,f=e.inStlPinnerExp,h=e.taggedProducts,m=e.relatedResourceOptions,y=e.storyPinTaggedProducts,v=e.maxWidth,b=this.props,x=b.pin,P=b.pinResource,w=b.topLevelTrafficSource,j=P.error,S=this.state,O=S.didShortClickThrough,k=S.firstLoadComplete,C=S.viewportSize,A=x||{},I=A.image_signature,E=A.story_pin_data_id;if(0!==!Object.keys(x).length&&j)return(0,g.jsx)(kn.Z,{});var T=!!E,D=!x.is_promoted,z=this.state.showRelatedContent&&this.renderRelatedModulesContent({relatedResourceOptions:m}),R=((h||[]).filter((function(e){return(0,Un.Z)(e)}))||[])[0],Z=(0,$t.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!(null===(t=this.props.pin)||void 0===t||!t.rich_metadata),hasPinRichMetadataProducts:!(null===(n=this.props.pin)||void 0===n||null===(i=n.rich_metadata)||void 0===i||!i.products),hasPinRichMetadataArticle:!(null===(o=this.props.pin)||void 0===o||null===(a=o.rich_metadata)||void 0===a||!a.article),hasPinRichMetadataRecipe:!(null===(l=this.props.pin)||void 0===l||null===(s=l.rich_metadata)||void 0===s||!s.recipe),hasPinStoryPinData:!(null===(c=this.props.pin)||void 0===c||!c.story_pin_data)});return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(xr.gD,{children:function(e){return(0,g.jsx)("div",{className:"Closeup Module","data-test-id":k?"closeup-data-loaded":"",onClick:function(t){T||u.onWrapperClick(t),e&&(null==e||e.abort(cr.Bu))},role:"presentation",style:Vr.closeupWrapperStyle,children:(0,g.jsxs)(_.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",width:"100%",children:[u.renderBodyContent({ideaPinStelaCategories:d,isEligibleForStlFlyout:p,inStlPinnerExp:f,taggedProducts:h,relatedResourceOptions:m,storyPinTaggedProducts:y,maxWidth:v}),O&&!D&&(0,g.jsx)(or.C,{})]})},"closeup-content")}}),(0,g.jsxs)(_.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!T&&R&&"story"===R.type&&f&&(0,g.jsx)(On.Z,{data:R,closeupImageSignature:I,pin:x,storyId:R.id,slotIndex:0,storyType:R.story_type,viewParameter:Z,viewportSize:C,topLevelTrafficSource:w}),z]})]})}},{key:"render",value:function(){var e=this.props,t=e.contextPinIds,n=e.ideaPinStelaCategories,r=e.pin,i=e.requestContext,o=e.taggedObjectsResource,a=e.topLevelTrafficSource,l=e.topLevelTrafficSourceDepth,s=e.trafficSource,c=e.searchQuery,u=e.storyPinTaggedProductsResource,d=this.state.viewportSize,p=function(e){var t=e.isWideVideo,n=e.viewportSize;return!["md","sm"].includes(n)&&!t}({isWideVideo:((0,Vn.Z)((0,h.Z)({pin:r}))||{}).isWideVideo,viewportSize:d}),f={name:"RelatedModulesResource",options:{pin_id:r.id,context_pin_ids:t,homefeed_source_sig:r.recommendation_reason&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(r.recommendation_reason.reason)&&r.recommendation_reason.reason_id,page_size:12,search_query:c,source:s,top_level_source:a,top_level_source_depth:l,is_pdp:!1}},m=i.experimentsClient.checkExperiment("web_stl_pinner").anyEnabled,_=(o||{}).data,y=!!_&&_.length>0&&_.some((function(e){return(0,Hn.Z)(e)})),v=m&&y&&!(0,Sr.Gy)(r),b=(u||{}).data,x={pdp:-1,regular:Y.Gg},P={pdp:-1,regular:Y.u6},w=this.renderContent({ideaPinStelaCategories:n,isEligibleForStlFlyout:v,inStlPinnerExp:m,taggedProducts:_,relatedResourceOptions:f,storyPinTaggedProducts:b,maxWidth:P});return(0,g.jsx)(Yr,{classProps:this.props,classState:this.state,showCloseupContentRight:p,showProductDetailPage:!1,updateCloseupBodyContainerHeight:this.updateCloseupBodyContainerHeight,isWideCarousel:!1,paneWidth:x,maxWidth:P,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,setResultScrollContainerRef:this.setResultScrollContainerRef,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:w,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss})}}])&&Dr(t.prototype,n),i&&Dr(t,i),a}(r.Component);function Yr(e){var t,n,r,i=e.classProps,o=e.classState,a=e.showCloseupContentRight,l=e.showProductDetailPage,s=e.updateCloseupBodyContainerHeight,c=e.isWideCarousel,u=e.paneWidth,d=e.maxWidth,p=e.handleCarouselSwipe,f=e.handleFocus,m=e.setResultScrollContainerRef,_=e.handleScroll,y=e.handleBackButtonClick,v=e.closeupContent,b=e.onRelatedInterestsBannerDismiss,x=i.pin,P=i.pinId,w=i.trafficSource,j=i.deepLinkBackGoesToBoard,S=i.isLandingPage,O=o.backButtonLabelFitInScreen,k=o.visualState,C=k.carouselData,A=k.mainImage,I=k.previewImage,E=o.hideBackButton,T=o.isOverRelatedPins,D=o.isRelatedInterestsBannerDismissed,z=o.viewportSize,R=!!x.story_pin_data,Z=(0,at.Z)();return(0,g.jsx)(ke.ZP.Provider,{value:(0,ke.Nb)({showCloseupContentRight:a,showProductDetailPage:l,updateCloseupBodyContainerHeight:s,pdpCarouselSlotToPaneRatio:(0,ke.YO)({showProductDetailPage:l,isLargerPane:c,showCloseupContentRight:a}),viewportSize:z,paneWidth:u,maxWidth:d}),children:(0,g.jsxs)(pr.A,{pin:x,overrideValue:{mainImage:A,previewImage:I,carouselInfo:C&&{carouselData:C,handleCarouselSwipe:p,viewType:3,componentType:85,viewParameter:function(){var e,t,n;return(0,$t.Z)({hasPin:!!x,hasPinRichMetadata:!(null==x||!x.rich_metadata),hasPinRichMetadataProducts:!(null==x||null===(e=x.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null==x||null===(t=x.rich_metadata)||void 0===t||!t.article),hasPinRichMetadataRecipe:!(null==x||null===(n=x.rich_metadata)||void 0===n||!n.recipe),hasPinStoryPinData:!(null==x||!x.story_pin_data)})}}},children:[(0,g.jsx)(Tn.Z,{placementId:12}),(0,g.jsx)(In.Z,{placementId:12}),(0,g.jsx)(An.Z,{placementId:12}),(0,g.jsx)(rt.Z,{view:3,viewParameter:(0,h.Z)(i)?(0,$t.Z)({hasPin:!!x,hasPinRichMetadata:!(null==x||!x.rich_metadata),hasPinRichMetadataProducts:!(null==x||null===(t=x.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null==x||null===(n=x.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null==x||null===(r=x.rich_metadata)||void 0===r||!r.recipe),hasPinStoryPinData:!(null==x||!x.story_pin_data)}):void 0,objectId:P,children:(0,g.jsxs)("div",{className:"reactCloseupScrollContainer",onFocus:f,ref:m,children:[(0,g.jsx)(Cn.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,g.jsx)(ir.Z,{children:(0,g.jsx)(Fr,{placementId:12})})}),(0,g.jsx)(En.default,{placementId:12}),!E&&!R&&(0,g.jsx)(Zt.Z,{deepLinkBackGoesToBoard:j,handleScroll:_,isNewOrRes:(0,qn.Z)(Z.createdAt)||(0,Xn.Z)(null,Z),onClick:function(){y()},showLabel:!(!O||T),showShadow:T,trafficSource:w}),(0,g.jsx)(Qn.Z,{onClose:y}),v,(0,g.jsx)(Dn.Z,{placementId:12}),S&&T&&!D?(0,g.jsx)(Bt.Z,{pinId:P,onDismiss:b}):null]})})]})})}var $r=(0,lr.Z)((function(e){var t,n,o=(0,Le.v)().logContextEvent,a=e.pin,l=e.viewer,s=e.pinResource,c=e.pinId,u=e.showQuickPromote,d=(0,j.ZP)(),p=(0,Rt.F)(),f=p.checkExperiment,h=(0,yr.Z)(),m=(0,_r.f)(),_=m.setMostRecentPinId,y=m.setMostRecentPinImage,v=(0,Tt.hb)({isStoryPin:(0,Tt.hy)(a),isVideoPin:(0,Tt.iR)(a.videos)}),b="pin_closeup_lcp",x=(0,vr.PY)(b),P=(0,mr.Z5)().conversationOpen,w=f("web_m10n_business_access_orbac_www").anyEnabled,S=f("web_m10n_business_access_orbac_www").anyEnabled,O=(0,Ct.Z)(),k=(0,gr.Z)(),C=(0,i.useDispatch)(),A=(0,xr.EV)(),I=(0,Pr.B)(),E=(0,dt.useLocation)(),T=(0,ut.F9)(),D=(0,wr._T)(),z=Cr((0,r.useState)(!1),2),R=z[0],Z=z[1],L=k("quick_promote_on_www"),B="".concat(L,"?pinId=").concat(c);(0,r.useEffect)((function(){s.data&&!R&&u&&Z(!0)}),[s.data,R,u]);var M=S?(0,It.lJ)(l,O):void 0;(0,r.useEffect)((function(){x&&(0,vr.ku)({stopwatchName:b,binaryAnnotationName:"pinType",value:v,annotationType:"STRING"})}),[x,v]);var F=null==a||null===(t=a.sponsorship)||void 0===t||null===(n=t.sponsor)||void 0===n?void 0:n.id,N=!a.is_repin&&!!F,U=(0,Te.Z)(F&&N&&l.isAuth&&"storyPin"===v?{name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(F,"/me/ad_accounts_permissions/")}}:null),H=(0,br.Gv)(l,a,M)&&l.id,V=(0,Te.Z)(H?{name:"ApiResource",options:{url:"/v3/trends/partner/".concat(l.id||"","/trends_for_pin/").concat(a.id,"/"),data:{number_terms_to_return:10}}}:null),W=V.data,G=V.isLoaded;return R?(0,g.jsx)(dt.Redirect,{to:B}):(0,g.jsx)(Xr,Er(Er({},e),{},{conversationOpen:P,dispatch:C,experimentsClient:p,getSterlingURL:k,pwtSurfaceContext:A,requestContext:I,location:E,setMostRecentPinId:_,setMostRecentPinImage:y,toastManager:T,i18n:d,variantData:D,orbacActingAs:w?O:{},logContextEvent:o,userBusinessRoleResource:U,isORBACGA:S,trackInteraction:h,trendsData:{data:W,isLoaded:!H||G}}))}));function Qr(e){var t=(0,Te.Z)({name:"ApiResource",options:{url:"/v3/visual_links/pins/".concat(e.pin.id,"/tagged_objects/"),data:{fields:["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.type","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]","pintag.pins()","pintag.type","pintag.pin_tag_key","pintag.x_percent","pintag.y_percent","pin.rich_summary()","pin.grid_title","pin.image_square_url","pin.images[236x]","pin.id","pin.is_eligible_for_pdp","pin.link_domain()","domain.official_user()","user.is_verified_merchant","user.verified_identity","pin.promoted_lead_form"]}},noCache:!0});return(0,g.jsx)($r,Er(Er({},e),{},{taggedObjectsResource:t}))}function Jr(e){var t=(0,Te.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,g.jsx)($r,Er(Er({},e),{},{storyPinTaggedProductsResource:t}))}function ei(e){var t=(0,Te.Z)({name:"ApiResource",options:{url:"/v3/storypins/".concat(e.pin.id,"/stela/tags/"),data:{fields:(0,Ln.Z)()}}}),n=t.isLoaded,r=t.data;return n?(0,g.jsx)($r,Er(Er({},e),{},{ideaPinStelaCategories:r||[]})):null}var ti=["checkExperiment","currentHistoryStack","history","location","params","pinResource","requestContext","searchPinCloseupViewed","showQuickPromote","showRepin","viewer"];function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ai(e){e.checkExperiment;var t,n=e.currentHistoryStack,i=e.history,u=e.location,d=e.params,f=e.pinResource,h=e.requestContext,m=e.searchPinCloseupViewed,_=e.showQuickPromote,y=e.showRepin,v=e.viewer,b=oi(e,ti),x=f.data,P=f.isLoaded,w=(0,r.useRef)(null),j=P&&x&&x.pinner&&v.isAuth&&v.username===x.pinner.username&&P&&x&&"extension"===x.method,S=(0,l.Z)(n,v.isAuth),O=S.trafficSource,k=S.topLevelTrafficSource,C=S.topLevelTrafficSourceDepth,A=S.contextPinIds;C>1&&"pin"!==O&&c.Z.increment("p2p.traffic_source.client",.1,{trafficSource:O,topLevelTrafficSource:k,topLevelTrafficSourceDepth:C});var I=(0,Et._)(n),E=(0,Dt.mB)(u.search);(0,r.useEffect)((function(){w!==x&&(0,kt.Z)({history:i,isBot:h.isBot,location:u,viewerId:v.id||"",viewerIsAuth:v.isAuth}),w.current=x}),[i,u,w,x,h.isBot,v.id,v.isAuth]),(0,r.useEffect)((function(){return function(){I&&null!=x&&x.id&&m(x.id,I)}}),[null==x?void 0:x.id,I,m]);var T=x||{},D=T.aggregated_pin_data,z=T.ip_eligible_for_stela,R=(D||{}).is_shop_the_look,Z=!!(x||{}).story_pin_data,L=null==x||null===(t=x.story_pin_data)||void 0===t?void 0:t.has_product_pins,B=$r;return R&&!Z?B=Qr:L?B=Jr:Z&&z&&(B=ei),(0,g.jsx)(At.Q,{value:{featuredCommentId:d.comment_id||""},children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(o.Z,{pinId:d.id||"",pinResource:f,children:function(e){var t,o,a=e.isLandingPage,l=e.isLimitedLogin,c=e.didRepin,u=e.openInbox,h=e.pin,m=e.shouldShowInbox,P=e.updateExperienceForPlacement;return(0,g.jsx)(r.Fragment,{children:(0,g.jsx)(B,ri({contextPinIds:A,conversation_id:E.conversation_id,deepLinkBackGoesToBoard:j,didRepin:c,emailId:E.e_t,forceSendFeedback:E.fsf,goBack:(0,s.Z)({boardUrl:null==x||null===(t=x.board)||void 0===t?void 0:t.url,currentHistoryStack:n,history:i,isFromExtension:!!j,hasViewerPartner:!!v.partner}),isLandingPage:a,isLimitedLogin:l,messageId:E.message,onLoginClick:p.Z,openInbox:u,pin:h,pinId:null!==(o=d.id)&&void 0!==o?o:"",pinResource:f,routePush:i.push,searchQuery:I,senderId:E.sender,shouldShowInbox:m,showQuickPromote:_,showRepinOnInitialRender:y,topLevelTrafficSource:k,topLevelTrafficSourceDepth:C,trafficSource:O,updateExperienceForPlacement:P,viewer:v},b))})}})})})}function li(e){var t=(0,i.useDispatch)(),n=(0,at.Z)(),o=(0,dt.useParams)(),a=(0,ct.aX)(),l=ri(ri({},e),{},{history:(0,dt.useHistory)(),location:(0,dt.useLocation)(),params:o,requestContext:(0,Pr.B)(),searchPinCloseupViewed:function(e,n){return t((0,zt.Y4)(e,n))},viewer:n}),s=(0,Rt.F)().checkExperiment;return(0,g.jsx)(d.Z,ri(ri({},{surface:"pin_closeup",constraints:["image","resource","button","video"],customEnabledNavigationTypes:["client_route_push","client_route_replace"]}),{},{children:(0,g.jsx)(u.Z,{pinId:o.id||"",orbacSubjectId:(0,It.lJ)(n,(0,Ct.Z)()),children:function(e){var t=e.pinResource,n=t&&t.data;return n&&(0,Tt._J)(n)?(0,g.jsx)(Ot,ri({pin:n},l)):(0,r.createElement)(ai,ri(ri({},l),{},{checkExperiment:s,currentHistoryStack:a,pinResource:t,key:o.id}))}})}))}},76050:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(506979),i=n(19121),o=n(332611),a=n(826067),l=n(313951),s=n(558068),c=n(609500),u=n(350118),d=n(780280);function p(e){var t=0===(0,s.Hv)().previous.length,n=e.children,p=(0,c.useLocation)(),f=(0,i.Z)(),h=(0,r.useDispatch)(),m=(0,d.B)().isBot,_=(0,l.Z5)().dropdownOpen,g=(0,u.AF)(),y=!!g[e.pinId]&&(g[e.pinId].saved||!!g[e.pinId].savedInfo),v=g[e.pinId]||e.pinResource.data||{},b="inbox"===(0,a.mB)(p.search).tab||!1;return n({isLandingPage:t,isLimitedLogin:!!f.isAuth&&f.isLimitedLogin,didRepin:y,openInbox:_,pin:v,shouldShowInbox:b,updateExperienceForPlacement:function(e){h((0,o.pz)([e],m))}})}},360961:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(898781),i=n(366428),o=n(908390),a=n(515198);function l(e){var t=e.storyId,n=e.slotIndex,l=e.storyType,s=e.title,c=e.viewParameter,u=e.clientTrackingParams,d=(0,r.ZP)(),p=s||d.bt("Mais como esse", "More like this", "closeup.relatedPins.header", undefined, true),f=(0,i.Z)({clientTrackingParams:u,componentType:200,contextLogData:{story_id:t,story_type:l},impressionType:"Story",loggingId:t,slotIndex:n,viewParameter:c,viewType:3});return(0,a.jsxs)(o.xu,{ref:f,justifyContent:"center",alignItems:"center",display:"flex",color:"default",direction:"column",paddingX:8,paddingY:3,marginBottom:1,children:[(0,a.jsx)(o.xu,{column:12,smColumn:8,justifyContent:"center",alignContent:"center",flex:"grow",display:"flex",children:(0,a.jsx)(o.X6,{align:"center",size:"400",children:p})}),(0,a.jsx)(o.xu,{smColumn:2,display:"none",smDisplay:"block"})]})}},438799:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(940589),i=n(66699),o=n(883851),a=n(898781),l=n(796668),s=n(407043),c=n(609500),u=n(908390),d=n(515198);function p(e){var t=e.story,n=(0,s.v)().logContextEvent,p=(0,a.ZP)(),f=t.objects.length>0&&t.objects[0].title.format||"",h=(0,c.useHistory)();return(0,d.jsx)(u.xu,{marginTop:7,marginBottom:7,children:(0,d.jsxs)(u.kC,{alignItems:"center",direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(u.xv,{color:"default",overflow:"normal",weight:"bold",children:(0,i.Z)(p.bt("Explore {{query}} por gama de tons de pele", "Explore {{query}} by skin tone range", "closeuprelatedmodules.skin_tone_filter_message", undefined, true),{query:f.toLowerCase()})}),(0,d.jsx)(u.kC,{flex:"none",gap:{row:1,column:0},children:t.custom_properties.skin_tone_filter_list.options.map((function(e,t){var i=e.term;return(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,d.jsx)(o.Z,{colors:l.W[t],isSelected:!1,onClick:function(){return function(e){n({event_type:101,component:13803,element:10418,view_type:3,aux_data:{entered_query:f,filter_type:"skin_tone",value:e}});var t=(0,r.Z)({query:f,rs:"typed",scope:"pins",filters:e});h.push(t)}(function(e){var t=e.split(",");return t.length>0?t[0]:""}(i))}})},i)}))})]})})}},52722:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(76911),i=n(506979),o=n(96939),a=n(794230),l=n(116303),s=n(564194),c=n(760693),u=n(656226),d=n(954959),p=n(368271),f=n(898781),h=n(717615),m=n(19121),_=n(444445),g=n(763917),y=n(349700),v=n(407043),b=n(558068),x=n(773285),P=n(609500),w=n(231947),j=n(372169),S=n(908390),O=n(515198);function k(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D={sm:{maxPins:2,maxWidth:"488px"},md:{maxPins:3,maxWidth:"741px"},lg:{maxPins:4,maxWidth:"976px"}};function z(e){var t,C,I,T,z=e.closeupImageSignature,R=e.data,Z=e.pin,L=e.slotIndex,B=e.storyId,M=e.storyType,F=e.topLevelTrafficSource,N=e.viewParameter,U=e.viewportSize,H=(0,v.v)().logContextEvent,V=E((0,r.useState)(0),2),W=V[0],G=V[1],K=(0,f.ZP)(),q=(0,m.Z)(),X=(0,h.Z)(),Y=(0,x.F)().checkExperiment,$=(0,w.nl)(q,X)&&Y("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,Q="enabled_full_width_story"===Y("web_pdp_recommenders",{dangerouslySkipActivation:!0}).group;(0,r.useEffect)((function(){var e=function(){G(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}));var J,ee,te=(0,b.aX)(),ne=(0,i.useDispatch)(),re=(0,P.useHistory)(),ie=$&&(null==Z||null===(t=Z.pinner)||void 0===t?void 0:t.username)&&(0,w.Ms)(q,X)===((null===(C=Z.link_domain)||void 0===C||null===(I=C.official_user)||void 0===I?void 0:I.username)||(null===(T=Z.native_creator)||void 0===T?void 0:T.username)),oe=R.action,ae=R.content_ids,le=R.objects,se=R.subtitle,ce=R.title,ue=oe||{},de=ue.user,pe=ue.url,fe=ue.text,he=de||{},me=he.full_name,_e=he.image_large_url,ge=he.username,ye=(se||{}).format,ve=void 0===ye?"":ye,be=D[U].maxPins,xe=!!fe&&!!pe,Pe=pe,we=(0,g._)(te);if(Pe&&(F||we)){var je=A(A({},F?{source:F}:Object.freeze({})),we?{search_query:we}:{});Pe=(0,a.Z)(Pe,je)}if("related_domain_carousel"===M?J=13327:"shop_the_look_non_xy_coordinates"===M&&(J=13474),"related_domain_carousel"===M){var Se=me||(null==ce?void 0:ce.format)||ge||"";ee=(0,O.jsxs)(S.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},children:[_e&&Q&&ge&&(0,O.jsx)(S.zd,{rounding:"circle",wash:!0,children:(0,O.jsx)(S.iP,{role:"link",href:"/".concat(ge,"/"),children:(0,O.jsx)(l.Z,{size:"sm",src:_e,name:Se})})}),(0,y.nk)(K.bt("Mais de {{ merchant }}", "More from {{ merchant }}", "domain.module.header", undefined, true),{merchant:(0,O.jsx)(S.xu,{display:"inlineBlock","data-test-id":"merchant-name",children:(0,O.jsx)(S.X6,{size:"400",children:Se},Se)},Se)})]})}else if("shop_the_look_non_xy_coordinates"===M){ee=(ce||{}).format}var Oe=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,i,o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(13992).then(n.bind(n,513992)),n.e(5782).then(n.bind(n,474394))]);case 2:t=e.sent,r=E(t,2),i=r[0].default,o=r[1],a=o.setCloseupImageSignature,l=o.setPinBuilderEntryPoint,ne(i(Z)),H({event_type:101,element:12080,view_type:3,view_parameter:N,aux_data:A({image_signature:z,entry_point_source:"domain_module"},Z?{pin_id:Z.id}:{})}),re.push({pathname:"/pin-builder/",state:{disableAddPinDraft:!0}}),ne(l("domain_module")),ne(a(z));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,l,"next",e)}function l(e){k(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ke=16+j.jh,Ce=Math.floor(W/ke)||D[U].maxPins,Ae=Q&&le?Ce:be,Ie=le.filter((function(e){return"pin"===(null==e?void 0:e.type)})).length;return(0,O.jsx)(s.Z,{componentType:J,contextLogData:{content_ids:(ae||[]).map((function(e){return"pin:".concat(e)})).join("|"),story_id:B,story_type:M,image_signature:z},impressionType:"Story",loggingId:B,slotIndex:L,viewParameter:N,viewType:3,children:(0,O.jsxs)(S.xu,{"data-test-id":"related-domain-carousel",display:"flex",direction:"column",justifyContent:"center",alignSelf:"center",maxWidth:Q?void 0:D[U].maxWidth,alignItems:"center",children:[ee&&(0,O.jsx)(S.xu,{display:"inlineBlock",marginTop:10,children:(0,O.jsx)(S.X6,{size:"400",children:ee})}),ie&&(0,O.jsx)(S.xu,{display:"flex",flex:"shrink",marginTop:4,children:(0,O.jsx)(p.Z,{entryPoint:"domain_module",imageSignature:z,onClick:function(){Oe()},pinId:null==Z?void 0:Z.id,viewParameter:N})}),!!ve&&(0,O.jsx)(S.xu,{marginTop:2,"data-test-id":"merchant-description",children:(0,O.jsx)(S.xv,{align:"center",children:ve})}),(0,O.jsx)(S.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:!!le&&le.map((function(e,t){if(e&&"pin"===e.type&&t<Ae+("shop_the_look_non_xy_coordinates"===M?0:1)){var n=Q&&t===Math.min(Ie,Ae),r=(0,O.jsx)(u.default,{pin:e,pinId:e.id,authDesktopSurface:n?"ShoppingSquareGridDomainNoMetadata":"ShoppingSquareGridDomain",componentType:J,slotIndex:t,viewData:{story_id:B,story_type:M},viewParameter:N,viewType:3});return(0,O.jsx)(S.xu,{marginEnd:t!==Ae?2:void 0,marginTop:6,margin:j.iO,width:j.jh,children:Q&&n&&pe?(0,O.jsx)(o.Z,{coverImages:e.images,height:_.yF,text:K.bt("Ver mais", "See more", "closeup.domainModule.seeMore", undefined, true),textType:"text",url:pe,width:_.yF},"actionBubble"):r},e.id)}return null}))}),xe&&Pe&&!Q&&(0,O.jsx)(S.xu,{marginTop:3,marginBottom:10,children:(0,O.jsx)(S.iP,{role:"link",href:Pe,tabIndex:-1,children:(0,O.jsx)(S.zx,{fullWidth:!0,onClick:function(){var e,t,n;"related_domain_carousel"===M&&(H({component:13882,element:11829,event_type:101,object_id_str:null==Z?void 0:Z.id,view_type:3,view_parameter:N}),H({aux_data:{commerce_data:JSON.stringify({pin_show_pdp:Z&&(0,d.Z)({isEligibleForPdp:null!==(e=Z.is_eligible_for_pdp)&&void 0!==e&&e,isStaleProduct:null!==(t=Z.is_stale_product)&&void 0!==t&&t,isOutOfStockProduct:null!==(n=Z.is_oos_product)&&void 0!==n&&n})})},component:13680,event_type:101,object_id_str:null==Z?void 0:Z.id,view_type:3,view_parameter:N}),c.Z.DomainModule.trackSeeMoreClick({viewParameter:N},H));"shop_the_look_non_xy_coordinates"===M&&H({event_type:101,component:11967,view_type:3,view_parameter:N,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:!0})}})},text:fe})})})]})})}},326595:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(898781),o=n(908390),a=n(515198);function l(e){var t=e.bold,n=void 0===t||t,l=e.color,s=void 0===l?"darkGray":l,c=e.iconSize,u=void 0===c?16:c,d=e.textSize,p=void 0===d?"200":d,f=e.timeString,h=(0,i.ZP)();return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(o.xu,{marginEnd:1,children:(0,a.jsx)(o.JO,{accessibilityLabel:h.bt("Relógio", "clock", "accessible label for clock icon on recipe rich pin", undefined, true),color:s,icon:"clock",size:u})}),(0,a.jsx)(o.xv,{color:s,size:p,weight:n?"bold":"normal",children:f})]})}},575576:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(515198),i={contentWrapper:{cursor:"auto"},wrapper:{cursor:"zoom-out",display:"flex",width:"100%"}},o=function(e){e.stopPropagation()};function a(e){var t=e.className,n=e.children;return(0,r.jsx)("div",{className:t,onClick:o,role:"presentation",style:i.contentWrapper,children:n})}},849418:function(e,t,n){"use strict";var r=n(76911),i=n(755742),o=n(172071);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,r,a=u(d);function d(){var e;l(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"handleKeyDown",(function(t){var n=e.props,r=n.onClose,a=n.goToNext,l=n.goToPrevious,s=t.keyCode||t.code;if(!t.ctrlKey&&!t.metaKey){var c=((document.activeElement||{}).tagName||"").toLowerCase();["input","select","button","textarea"].includes(c)||document.activeElement&&document.activeElement.isContentEditable||(s===i.Z.LEFT?(t.preventDefault(),t.stopPropagation(),l&&l(),o.Z.increment("web_keydown_left")):s===i.Z.RIGHT?(t.preventDefault(),t.stopPropagation(),a&&a(),o.Z.increment("web_keydown_right")):s===i.Z.ESCAPE&&(t.preventDefault(),t.stopPropagation(),r()))}})),e}return t=d,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return null}}])&&s(t.prototype,n),r&&s(t,r),d}(r.PureComponent);t.Z=m},385646:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(985913),i=n(898781),o=n(908390),a=n(515198),l=function(e){return"".concat(e.substring(0,33)).concat(function(e){return e.length>33?"...":""}(e))};t.Z=function(e){var t=e.domain,n=e.fontSize,s=void 0===n?"200":n,c=e.fullWidth,u=void 0===c||c,d=e.textNode,p=function(e,t){return(0,r.Z)(t.bt("Acessar o site do {{domain}}", "Visit {{domain}}", "Accessible label for clickthrough link button", undefined, true),{domain:e})}(t,(0,i.ZP)());return(0,a.jsx)(o.xu,{"data-test-id":"link-icon-with-domain-styles-wrapper",color:"secondary",width:u?"100%":void 0,rounding:2,padding:2,children:(0,a.jsx)(o.Zb,{children:(0,a.jsxs)(o.xu,{"data-test-id":"link-icon-with-domain-styles",display:"flex",alignItems:"center",justifyContent:"start",padding:1,children:[(0,a.jsx)(o.xu,{paddingX:1,children:(0,a.jsx)(o.JO,{icon:"arrow-up-right",color:"default",inline:!0,accessibilityLabel:p,size:15})}),(0,a.jsx)(o.xu,{paddingX:1,children:d||(0,a.jsx)(o.xv,{inline:!0,size:s,weight:"bold",children:l(t)})})]})})})}},537313:function(e,t,n){"use strict";n.d(t,{Wp:function(){return C},nA:function(){return O},xV:function(){return E}});var r=n(76911),i=n(722767),o=n(701500),a=n(818398),l=n(74155),s=n(802933),c=n(499337),u=n(762615),d=n(432730),p=n(533439),f=n(385646),h=n(287072),m=n(977558),_=n(814197),g=n(898781),y=n(908390),v=n(515198);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){return e.pin?e.pin:{}},O=function(e){var t=S(e),n=(0,s.Z)(e),r=(0,d.Z)(n),i=((0,l.Z)(n)||{}).link,o=void 0===i?null:i,f=((0,u.Z)(r)||{}).recipe,h=((0,c.Z)(r)||{}).products,m=((0,a.Z)(r)||{}).article,_=((0,p.Z)(r)||{}).tutorial,g=(_||{}).description,y=t.link_domain,v=t.domain,b=y?y.official_user||{}:t.origin_pinner||t.pinner||{},x=b.image_key||b.image_medium_url||b.image_small_url,P=b.username||v,O=b.full_name||P,k=function(e){var t=S(e).images,n=Object.keys(t||{}).reduce((function(e,n){var r=t[n],i=r.url,o=r.width,a=r.height;return e&&i&&o&&a?w(w({},e),{},j({},n,{url:i,width:o,height:a})):null}),{});return n&&Object.keys(n).length>0?n:{}}(e),C=k.orig,A=void 0===C?{}:C;return{pin:t,link:o,recipe:f,products:h,article:m,tutorial:_,tutorialDescription:g,images:k,originalImage:A,originalImageUrl:A.url,linkDomain:y,domain:v,user:b,profileImgSrc:x,pinnerName:P,pinnerNameText:O}},k=function(e){var t=e.children,n=e.isPulsarDisplayed,i=e.onCompleteClick,a=e.zIndex,l=e.onClick,s=e.to,c=e.pin,u=(0,r.useRef)(null),d=(0,h.Z)({href:null!=s?s:"",target:"blank",externalData:{pin:c}});return(0,v.jsx)(o.Z,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:u.current,isHidden:!n,onCompleteClick:i,zIndex:a,children:(0,v.jsx)(y.iP,{fullWidth:!1,href:null!=s?s:"",onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),null==l||l(t),d({event:t})},ref:u,rel:"nofollow",role:"link",children:(0,v.jsx)("div",{className:"linkModuleActionButton",children:t})})})},C=function(e){var t=e.carousel_data,n="",r=O({pin:e}).domain;if(t){var i=t.carousel_slots,o=void 0===i?[]:i,a=t.index;o[a]&&(n=o[a].link||"",r=o[a].domain||r)}return{carouselLink:n,currentDomain:r}},A=function(e){var t=e.actionBarHeight,n=e.children,r=e.setPulsarVisibility;return(0,v.jsx)(i.Z,{onVisibilityChange:function(e){var t=e.slice(-1)[0];r(t.isIntersecting)},options:{rootMargin:"-".concat(t+m.hu,"px 0px 0px 0px"),threshold:.75},children:n})},I=function(e){var t=(0,g.ZP)(),n=e.children,r=e.isPulsarDisplayed,i=e.onClickThrough,o=e.pin,a=e.showDomainInLink,l=e.zIndex;if(!(!!o.link&&!o.link.startsWith("https://i.pinimg.com")))return null;var s=O(e),c=function(e,t){var n=t.bt("Visitar", "Visit", "Default pin link button text", undefined, true);return!e.linkDomain||(e.recipe||{}).fromAggregatedData?n=e.link&&!e.link.startsWith("https://i.pinimg.com")?t.bt("Visitar", "Visit", "Generalized pin link button text", undefined, true):t.bt("Abrir", "Open", "Button text for pin without link to view media", undefined, true):e.products?n=t.bt("Visitar", "Visit", "Buyable pin link button text", undefined, true):e.tutorial?n=t.bt("Visitar", "Visit", "Make pin link button text", undefined, true):e.recipe?n=t.bt("Fazer", "Make it", "Recipe pin link button text", undefined, true):e.article?n=t.bt("Ler", "Read it", "Article pin link button text", undefined, true):e.link&&e.link.startsWith("https://i.pinimg.com")&&(n=t.bt("Abrir", "Open", "Button text for pin without link to view media", undefined, true)),n}(s,t),u=C(o),d=u.carouselLink,p=u.currentDomain;return(0,v.jsx)(k,{onClick:i,to:d||s.link||s.originalImageUrl,onCompleteClick:i,isPulsarDisplayed:r,zIndex:l,pin:o,children:n||(a?(0,v.jsx)(f.Z,{domain:p}):(0,v.jsx)(y.zx,{fullWidth:!0,text:c,size:"md"}))})},E=function(e){return(0,v.jsx)(y.xu,{width:"100%",children:(0,v.jsx)(I,w({},e))})},T=function(e){var t=e.actionBarHeight,n=b((0,r.useState)(!0),2),i=n[0],o=n[1];return(0,v.jsx)(y.xu,{width:"100%",children:(0,v.jsx)(A,{actionBarHeight:t||0,setPulsarVisibility:o,children:(0,v.jsx)(y.xu,{display:"inlineBlock",children:(0,v.jsx)(I,w({isPulsarDisplayed:i,zIndex:_.qW},e))})})})};t.ZP=function(e){return(0,v.jsx)(y.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)("div",{className:"actionButton",children:(0,v.jsx)(T,w({},e))})})}},82314:function(e,t,n){"use strict";n.d(t,{Bu:function(){return i},Mg:function(){return o},_z:function(){return a},pM:function(){return l},zc:function(){return r}});var r="story_pin",i="closefakemodal",o="button",a="video",l="image"},386360:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(668627),o=n(692627),a=n(35495);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=e.pin;return t({event_type:7408,view_parameter:e.viewParameter,object_id_str:n.id,view_type:3,view_data:{pin_id:n.id,closeup_rich_types:n.shopping_flags||[]},aux_data:s({},(0,a.Kl)(n)||{})})},d=function(e,t){var n=e.pin;return t({event_type:7579,view_parameter:e.viewParameter,object_id_str:n.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:n.aggregated_pin_data.is_shop_the_look,pin_is_stela:n.aggregated_pin_data.is_stela})}})},p=n(784590),f=n(407043),h=n(276602),m=n(82314);function _(e){var t=(0,f.v)().logContextEvent,n=(0,h.EV)(),a=(0,p.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId)}),l=a.data;return(0,r.useEffect)((function(){if(l){var e,r,i,a=(0,o.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!(null===(e=l.rich_metadata)||void 0===e||!e.products),hasPinRichMetadataArticle:!(null===(r=l.rich_metadata)||void 0===r||!r.article),hasPinRichMetadataRecipe:!(null===(i=l.rich_metadata)||void 0===i||!i.recipe),hasPinStoryPinData:!!l.story_pin_data});if(u({pin:l,viewParameter:a},t),l&&l.aggregated_pin_data&&(l.aggregated_pin_data.is_shop_the_look||l.aggregated_pin_data.is_stela)&&d({pin:l,viewParameter:a},t),n)n.markConstraintComplete("resource"),!!l.story_pin_data_id?(n.setSegment(m.zc),n.removeConstraint(m.Mg)):n.removeConstraint(m._z)}}),[a.data]),e.children({pinResource:a})}},319247:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){switch(t.type){case"gallerySelect":return{shopping:t.select};case"pinLoaded":var n=e.myTry?{}:{myTry:{isDoneByMe:t.pin.done_by_me}};return i(i({pin:t.pin},n),{},{firstLoadComplete:!0});case"tryChange":return{myTry:{isDoneByMe:t.isDoneByMe}};default:throw"impossible"}}n.d(t,{Z:function(){return a}})},642513:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(76911),i=n(121093),o=n(814197),a=n(898781),l=n(908390),s=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,a,c=m(u);function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return v(g(e=c.call.apply(c,[this].concat(n))),"state",{showExperience:!1}),v(g(e),"anchorRef",(0,r.createRef)()),e}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this;this.state.showExperience||setTimeout((function(){e.setState({showExperience:!0})}),2e3)}},{key:"render",value:function(){var e=this;return this.state.showExperience?(0,s.jsx)(i.Z,{eligibleIds:[501120],placementId:12,children:function(){return(0,s.jsxs)(l.xu,{position:"fixed",left:!0,marginStart:"auto",marginEnd:"auto",right:!0,zIndex:o.j1,dangerouslySetInlineStyle:{__style:{bottom:28}},children:[(0,s.jsx)(l.xu,{position:"relative",ref:e.anchorRef}),(0,s.jsx)(l.xu,{position:"relative",children:(0,s.jsx)(l.J2,{anchor:e.anchorRef.current,idealDirection:"up",color:"blue",shouldFocus:!1,size:"xs",onDismiss:function(){},positionRelativeToAnchor:!0,children:(0,s.jsx)(l.xu,{paddingX:6,paddingY:3,children:(0,s.jsx)(l.xv,{color:"inverse",weight:"bold",children:e.props.i18n.bt("Mais ideias abaixo", "More ideas below", "Shows in a flyout message to upsell related pins to users", undefined, true)})})})})]})}}):null}}])&&f(t.prototype,n),a&&f(t,a),u}(r.Component);function x(e){var t=(0,a.ZP)();return(0,s.jsx)(b,d(d({},e),{},{i18n:t}))}},71052:function(e,t,n){"use strict";var r=n(76911),i=n(92261),o=n(977558),a=n(814197),l=n(898781),s=n(908390),c=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=o.hu+i.Ie+76,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=m(n);function n(){var e;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return v(g(e=t.call.apply(t,[this].concat(i))),"state",{showRelatedPinsUpsellFlyout:!1}),v(g(e),"componentDidMount",(function(){e.handleDidShortClickThrough(),window.addEventListener("scroll",e.hideFlyout)})),v(g(e),"componentWillUnmount",(function(){window.removeEventListener("scroll",e.hideFlyout)})),v(g(e),"hideFlyout",(function(){e.setState({showRelatedPinsUpsellFlyout:!1})})),v(g(e),"handleDidShortClickThrough",(function(){e.scrollToAnchor(),window.setTimeout((function(){e.setState({showRelatedPinsUpsellFlyout:!0})}),100)})),v(g(e),"scrollToAnchor",(function(){e.anchorRef&&(e.anchorRef.scrollIntoView(!0),window.scrollBy(0,-b))})),v(g(e),"setAnchorRef",(function(t){e.anchorRef=t})),v(g(e),"handleFlyoutClick",(function(t){t.event.stopPropagation(),e.hideFlyout()})),v(g(e),"renderFlyout",(function(){return(0,c.jsx)(s.mh,{children:(0,c.jsx)(s.xu,{zIndex:new s.Ry(a.lJ),position:"absolute",top:!0,column:12,children:(0,c.jsx)(s.J2,{anchor:e.anchorRef,idealDirection:"up",color:"blue",shouldFocus:!1,size:"md",onDismiss:e.hideFlyout,positionRelativeToAnchor:!1,children:(0,c.jsx)(s.iP,{fullHeight:!0,mouseCursor:"pointer",onTap:e.handleFlyoutClick,children:(0,c.jsx)(s.xu,{padding:3,children:(0,c.jsx)(s.xv,{color:"inverse",weight:"bold",children:e.props.i18n.bt("Não gostou deste Pin? Veja mais ideias abaixo", "Not into this Pin? See more ideas below", "Shows in a flyout message to upsell related pins to users", undefined, true)})})})})})})})),v(g(e),"render",(function(){return(0,c.jsx)(s.xu,{ref:e.setAnchorRef,children:e.state.showRelatedPinsUpsellFlyout?e.renderFlyout():null})})),e}return n}(r.Component);t.C=function(e){var t=(0,l.ZP)();return(0,c.jsx)(x,p(p({},e),{},{i18n:t}))}},756138:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(441253),i=n(76911),o=n(182750),a=n(506979),l=n(357787),s=n(898781),c=n(287072),u=n(350118),d=n(908390),p=n(515198),f=(0,l.Z)((function(e){var t=(0,s.ZP)(),n=e.sourceUrl,r=e.linkText,i=e.displayUrl,o=e.image,a=e.pageId,l=e.canonicalUrl,f=e.pinId,h=e.storyPinDataId,m=e.onTouch,_=e.onClickThrough,g=e.isLoading,y={story_pin_page_id:a,story_pin_data_id:h,src_url:n,canonical_url:l},v=(0,p.jsxs)(d.xu,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm",children:[(0,p.jsx)(d.xu,{minWidth:80,width:80,height:80,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",color:g||o&&o.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},children:g?(0,p.jsx)(d.$j,{accessibilityLabel:t.bt("Carregando o site", "Loading website", "a11y for loading spinner", undefined, true),show:!0}):function(e){var n,r;return o&&o.url?(0,p.jsx)(d.Ee,{fit:"cover",src:o.url,alt:e,naturalHeight:null!==(n=o.height)&&void 0!==n?n:1,naturalWidth:null!==(r=o.width)&&void 0!==r?r:1}):(0,p.jsx)(d.JO,{dangerouslySetSvgPath:{__path:"M21.001,7.241 L16.948,11.293 L15.888,10.233 L16.56,9.561 C17.146,8.976 17.146,8.026 16.56,7.44 C15.974,6.855 15.024,6.855 14.439,7.44 L13.768,8.112 L12.707,7.052 L16.759,3 L21.001,7.241 Z M11.293,16.949 L7.241,21.001 L2.999,16.76 L7.052,12.707 L8.111,13.767 L7.44,14.439 C6.855,15.025 6.855,15.974 7.44,16.56 C8.025,17.146 8.976,17.145 9.561,16.56 L10.232,15.888 L11.293,16.949 Z M14.639,0.879 L10.586,4.931 C9.415,6.102 9.415,8.001 10.586,9.173 L11.647,10.233 L10.232,11.647 L9.172,10.586 C8.001,9.415 6.102,9.415 4.931,10.586 L0.879,14.638 C-0.293,15.81 -0.293,17.709 0.879,18.88 L5.12,23.122 C6.291,24.293 8.19,24.293 9.361,23.122 L13.414,19.07 C14.585,17.898 14.585,15.999 13.414,14.828 L12.354,13.767 L13.768,12.354 L14.828,13.414 C15.999,14.585 17.898,14.585 19.069,13.414 L23.121,9.362 C24.293,8.191 24.293,6.292 23.121,5.12 L18.88,0.879 C17.709,-0.293 15.81,-0.293 14.639,0.879 Z"},accessibilityLabel:t.bt("Ícone de bloqueio de link padrão", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",size:35})}(r)}),(0,p.jsxs)(d.xu,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:[(0,p.jsx)(d.xv,{lineClamp:1,weight:"bold",children:r}),(0,p.jsx)(d.xv,{size:"200",color:"shopping",children:i})]})]}),b=(0,u.S6)()(f),x=(0,c.Z)({href:n,target:"blank",externalData:b?{pin:b}:void 0});return m?(0,p.jsx)(d.iP,{onTap:m,rounding:2,children:v}):(0,p.jsx)(d.iP,{href:n,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),_&&_({auxData:y}),x({event:t})},rel:"nofollow",rounding:2,role:"link",target:"blank",children:v})})),h=(0,a.connect)((function(e,t){var n=e.pins,r=t.pinId;return{storyPinDataId:r&&n&&n[r]&&n[r].story_pin_data_id}}))(f),m=n(224496),_=n(407043),g=function(e){var t,n=e.block,r=e.pageId,i=e.pinId,a=e.onClickThrough,l=(0,_.v)().logContextEvent;switch(n.type){case m.h8.LINK:var s=n.canonical_url,c=n.image,u=n.normalized_url,f=n.src_url,g=n.text,y=void 0===g?"":g,v=null==c||null===(t=c.images)||void 0===t?void 0:t["345x"];return c&&f&&u&&s?(0,p.jsx)(d.xu,{marginTop:5,children:(0,p.jsx)(h,{canonicalUrl:s,displayUrl:u,image:v,linkText:y,onClickThrough:a,onVisibilityChanged:function(e){e&&l({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:i,aux_data:{story_pin_page_id:r,srcUrl:f,canonicalUrl:s}})},pageId:r,pinId:i,sourceUrl:f})}):null;case m.h8.HEADING:var b=n.text,x=void 0===b?"":b;return(0,p.jsx)(d.xu,{marginBottom:4,paddingX:2,children:(0,p.jsx)(d.X6,{size:"500",overflow:"normal",accessibilityLevel:2,children:x})});case m.h8.PARAGRAPH:var P=n.text,w=void 0===P?"":P;return(0,p.jsx)(d.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,p.jsx)(d.xv,{children:(0,p.jsxs)(o.Z,{children:[" ",w," "]})})});default:return null}},y=function(e){var t=e.blocks,n=e.pageId,r=e.pinId,i=e.onClickThrough;return(0,p.jsx)("div",{className:"StoryPinText",children:t.filter((function(e){return e})).map((function(e,t){return(0,p.jsx)(g,{block:e,pageId:n,pinId:r,onClickThrough:i},t)}))})},v=n(280348);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=375*m.ap;function w(e){var t,n,r,i="",o=b(null!==(n=e.blocks)&&void 0!==n?n:[]);try{for(o.s();!(r=o.n()).done;){var a=r.value;[1,0].includes(a.block_type)&&(i=a.text?a.text:"")}}catch(l){o.e(l)}finally{o.f()}return null!==(t=i)&&void 0!==t?t:""}function j(e){var t,n,r,o=(0,s.ZP)(),a=e.activePageIndex,l=e.hideText,c=e.isActive,u=e.isCoverPage,f=e.muteVideos,h=e.onClickThrough,m=e.page,_=m.image_adjusted,g=m.image,b=m.blocks,x=m.video,j=m.id,S=e.pageIndex,O=e.pageWidth,k=e.pinId,C=(_||g||{}).images,A=(void 0===C?{}:C)["750x"],I=(x||{}).video_list,E=void 0===I?{}:I,T=E.V_HLSV3_MOBILE||E.V_720P;if(!A&&!T)return null;var D=O/375;return(0,p.jsxs)(i.Fragment,{children:[!!x&&!!T&&(0,p.jsx)(v.Z,{activePageIndex:a,blockHeight:P*D,blockPosition:{left:0,top:0},blockWidth:375*D,isPlaying:c,muted:f,pageIndex:S,pinId:k,video:x}),A&&!T&&(0,p.jsx)(d.Ee,{alt:w(e.page)||o.bt("Imagem do Pin de História", "Story pin image", "Alt text for story pin image", undefined, true),fit:u?"cover":"contain",naturalHeight:null!==(t=A.height)&&void 0!==t?t:1,naturalWidth:null!==(n=A.width)&&void 0!==n?n:1,src:null!==(r=A.url)&&void 0!==r?r:""}),b&&b.length>0&&!l&&(0,p.jsx)("div",{className:"StoryPinTextDrawer",children:(0,p.jsx)(y,{blocks:b,onClickThrough:h,pageId:j,pinId:k})})]})}var S=n(595202),O=n(430323);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=[m.h8.COMMENT_REPLY_STICKER,m.h8.GENERIC_STICKER,m.h8.HEADING,m.h8.IMAGE,m.h8.MENTION_STICKER,m.h8.PARAGRAPH,m.h8.PRODUCT_STICKER,m.h8.VIDEO,m.h8.VTO_MAKEUP_STICKER];function I(e){var t,n=e.activePageIndex,r=e.closeupStoryPinViewability,o=e.customEndCard,a=e.fontsLoaded,l=e.hideMute,c=e.isActive,u=e.isPreview,f=e.muteVideos,h=e.onChangeMuteVideo,_=e.onEnded,g=e.onFlyoutOpen,y=e.onUpdateVideoInfo,v=e.ownerId,b=e.page,x=e.pageAspectRatio,P=e.pageHeight,w=e.pageIndex,j=e.pageWidth,C=e.pinId,I=e.productPins,E=e.shouldLogTimeSpent,T=void 0===E||E,D=e.stillLoading,z=void 0!==D&&D,R=e.videoPinProgress,Z=e.viewParameter,L=e.viewType,B=(0,s.ZP)(),M=k((0,i.useState)(!1),2),F=M[0],N=M[1],U=(b.style||{}).background_color,H=[],V=[],W=[];(null!==(t=b.blocks)&&void 0!==t?t:[]).forEach((function(e){A.includes(e.type)?e.type===m.h8.PARAGRAPH||e.type===m.h8.HEADING?V.push(e):W.push(e):H.push(e)})),W.push.apply(W,V);var G=!!W.find((function(e){return e.type===m.h8.VIDEO})),K=!!W.find((function(e){return!!e.video&&e.type===m.h8.VIDEO&&e.video_signature})),q=H.find((function(e){return e.type===m.h8.MUSIC})),X="story_pin_music_block"===(null==q?void 0:q.type)?q.provider_recording_id:void 0,Y=function(){return(0,p.jsx)(d.iP,{fullHeight:!0,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},children:(0,p.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{background:U||"#fff"}},height:"100%",children:[!u&&W.filter((function(e){return!G||K||e.type===m.h8.VIDEO})).map((function(e,t){var i,l;return(0,p.jsx)(S.ZP,{activePageIndex:n,customEndCard:o,block:e,closeupStoryPinViewability:r,fontsLoaded:a,isActive:c,isSplitLayout:3===b.layout,musicRecordingId:X,muteVideos:f,ownerId:v,onEnded:_,onFlyoutOpen:g,videoPinProgress:R,onUpdateVideoInfo:y,pageAspectRatio:x,pageIndex:w,pageHeight:P,pageWidth:j,pinId:C,productPins:I,stillLoading:z},"".concat(null!==(i=b.id)&&void 0!==i?i:"","-").concat(null!==(l=e.type)&&void 0!==l?l:"","-").concat(t))})),l||u||!K||!F&&!f?null:(0,p.jsx)(d.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:f?(0,p.jsx)(d.hU,{accessibilityLabel:B.bt("Clique para ativar o som", "Click to unmute", "closeup.storyPin.storyPinVideo.volume", undefined, true),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:function(){h(!1)},size:"md"}):(0,p.jsx)(d.hU,{accessibilityLabel:B.bt("Clique para desativar o som", "Click to mute", "closeup.storyPin.storyPinVideo.volume", undefined, true),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:function(){return h(!0)},size:"md"})})]})})};return T?(0,p.jsx)(O.Z,{view:L,viewParameter:Z,component:0===w?227:228,auxData:{story_pin_page_id:w},shouldUseGrandparentId:!0,children:Y()}):Y()}function E(e){return(null!=e?e:[]).map((function(e){return e.text||""})).join()}var T=function(e){var t,n=e.page,r=n.image_adjusted,o=n.blocks,a=(r||{}).images,l=(void 0===a?{}:a)["750x"];if(!l)return null;var s=l.width,c=l.height;return(0,p.jsx)(i.Fragment,{children:l&&(0,p.jsx)(d.Ee,{src:null!==(t=l.url)&&void 0!==t?t:"",alt:E(o),naturalWidth:null!=s?s:1,naturalHeight:null!=c?c:1,fit:"contain"})})},D=n(784590),z=n(92261),R=n(488789),Z=n(697335),L=n(558068);function B(e){var t=e.children,n=e.closeupStoryPinViewability,i=e.productPins,o=e.viewParameter,a=e.viewType,l=(0,L.Hv)(),s=l.previous,c=l.forward,u=0===s.length&&0===c.length,d=(0,Z.t)();return(0,p.jsx)(R.o,{closeupPaneWidth:z.Gg,headerHeight:d,isLandingPage:u,loadFonts:r.Z,renderStoryPinMediaLayout:function(e){var t=e.activePageIndex,n=e.hideText,r=e.isActive,i=e.isCoverPage,o=e.muteVideos,a=e.onClickThrough,l=e.page,s=e.pageIndex,c=e.pageWidth,u=e.pinId;return(0,p.jsx)(j,{activePageIndex:t,hideText:n,isActive:r,isCoverPage:i,muteVideos:o,onClickThrough:a,page:l,pageIndex:s,pageWidth:c,pinId:u})},renderStoryPinSplitLayout:function(e){var t=e.page;return(0,p.jsx)(T,{page:t})},renderStoryPinText:function(e){var t=e.blocks,n=e.onClickThrough,r=e.pageId,i=e.pinId;return(0,p.jsx)(y,{blocks:t,onClickThrough:n,pageId:r,pinId:i})},renderStoryPinPage:function(e){var t,r,i=e.activePageIndex,l=e.customEndCard,s=e.fontsLoaded,c=e.isActive,u=e.muteVideos,d=e.onChangeMuteVideo,f=e.onEnded,h=e.onFlyoutOpen,m=e.onUpdateVideoInfo,_=e.page,g=e.pageAspectRatio,y=e.pageHeight,v=e.pageWidth,b=e.pin,x=e.pinId,P=e.productPins,w=e.shouldLogTimeSpent,j=e.stillLoading,S=e.videoPinProgress;return(0,p.jsx)(I,{activePageIndex:i,closeupStoryPinViewability:n,fontsLoaded:s,isActive:c,customEndCard:l,muteVideos:u,onChangeMuteVideo:d,onEnded:f,onFlyoutOpen:h,videoPinProgress:S,onUpdateVideoInfo:m,ownerId:null!==(t=null==b||null===(r=b.native_creator)||void 0===r?void 0:r.id)&&void 0!==t?t:"",page:_,pageAspectRatio:g,pageIndex:i,pageHeight:y,pageWidth:v,productPins:P,pinId:x,shouldLogTimeSpent:w,stillLoading:j,hideMute:!0,viewType:a,viewParameter:o})},productPins:i,children:t})}function M(e){var t=e.children,n=e.isInStream,r=e.viewType,i=e.viewParameter;return n?t:(0,p.jsx)(O.Z,{view:r,viewParameter:i,component:85,children:t})}function F(e){var t=e.children,n=e.pin;return t({productPins:(0,D.Z)({name:"StoryPinTaggedProductsResource",options:{id:n.id},noCache:!0}).data||[]})}function N(e){var t,n=e.children,r=e.closeupStoryPinViewability,i=e.pin,o=e.isInStream,a=void 0!==o&&o,l=e.viewType,s=e.viewParameter,c=!(null===(t=i.story_pin_data)||void 0===t||!t.has_product_pins),u=function(e){var t=e.productPins;return(0,p.jsx)(B,{closeupStoryPinViewability:r,viewType:l,viewParameter:s,productPins:t,children:n})};return(0,p.jsx)(M,{isInStream:a,viewType:l,viewParameter:s,children:c?(0,p.jsx)(F,{pin:i,children:u}):u({productPins:[]})})}},280348:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(76911),i=n(238464),o=n(428258),a=n(407043),l=n(898781),s=n(908390),c=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,r,a=_(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=a.call.apply(a,[this].concat(n))),"startAudiblePlayTime",e.props.muted?null:new Date),e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.musicRecordingId,n=e.muted,r=e.pinId,i=e.video;if(t&&!n&&this.startAudiblePlayTime&&new Date-this.startAudiblePlayTime>=2e3){var a=(0,o.Z)(i)||{},l=a.hlsv3,s=a.mp4||l,c=(null==s?void 0:s.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:t,aux_data:{pin_id:r,story_pin_music_duration:c}})}}},{key:"render",value:function(){var e=this.props,t=e.activePageIndex,n=e.blockHeight,r=e.blockPosition,a=e.blockWidth,l=e.closeupStoryPinViewability,u=e.customEndCard,d=e.isPlaying,p=e.muted,f=e.onEnded,h=e.onUpdateVideoInfo,m=e.pageIndex,_=e.pinId,g=e.roundCorners,y=void 0===g||g,v=e.video,b=(0,o.Z)(v)||{},x=b.hlsv3,P=b.mp4,w=P||x;if(!w)return null;var j=w.height,S=w.thumbnail,O=w.width,k=(null!=O?O:1)/(null!=j?j:1),C={height:"100%",left:"0",top:"0",width:"100%"},A=a/n;if(Math.abs(A-k)>.01)if(A<k){var I=100*k/A;C.width="".concat(I,"%"),C.left="-".concat((I-100)/2,"%")}else if(A>k){var E=100*A/k;C.height="".concat(E,"%"),C.top="-".concat((E-100)/2,"%")}var T="number"==typeof t&&m<=t+3;return(0,c.jsx)(s.xu,{height:n,overflow:"hidden",position:"relative",width:a,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{left:r.left<0?r.left:0,top:r.top<0?r.top:0}},height:"100%",position:"absolute",width:"100%",children:T||d?(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:C},position:"absolute",children:(0,c.jsx)(i.Z,{loop:!1,autoplay:d,closeupStoryPinViewability:l,contextLogData:{component:0===m?227:228,element:10957,objectId:_,story_pin_page_id:m,view:3,viewParameter:157},customThumbnail:S,customEndCard:u,isPromoted:!1,muted:p,pinId:_,showControls:"never",variant:"storyPin",preferMp4:!!P,objectFit:P?"cover":void 0,roundingOverride:y?null:0,video:{id:v.id,hlsv3:x,mp4:P},onTimeChange:function(e){var t=e.time;if(h&&"number"==typeof w.duration&&w.duration>0){var n=w.duration/1e3;h(t,n)}},onEnded:function(){f&&f(m)}})}):(0,c.jsx)(s.Ee,{alt:this.props.i18n.bt("Imagem de capa do vídeo", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:null!=j?j:1,naturalWidth:null!=O?O:1,src:null!=S?S:""})})})}}])&&h(t.prototype,n),r&&h(t,r),l}(r.PureComponent);function P(e){var t=(0,a.v)().logContextEvent,n=(0,l.ZP)();return(0,c.jsx)(x,p(p({},e),{},{i18n:n,logContextEvent:t}))}},595202:function(e,t,n){"use strict";n.d(t,{_B:function(){return H},Xw:function(){return W},tD:function(){return G},B5:function(){return V},ZP:function(){return X}});var r=n(784590),i=n(407043),o=n(609500),a=n(908390),l=n(515198),s=function(e){var t=e.block,n=t.block_style,s=(n=void 0===n?{}:n).height,c=void 0===s?0:s,u=n.width,d=void 0===u?0:u,p=n.x_coord,f=void 0===p?0:p,h=n.y_coord,m=void 0===h?0:h,_=n.rotation,g=void 0===_?0:_,y=t.original_comment_id,v=e.pageAspectRatio,b=e.scaleFactor,x=(0,i.v)().logContextEvent,P=H/v,w=d*H*b/100,j=c*P*b/100,S=f*H*b/100,O=m*P*b/100,k=(0,o.useHistory)(),C=(0,r.Z)({name:"AggregatedCommentResource",options:{commentId:y,field_set_key:"comment_reply_sticker"}}).data;return(0,l.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:S,top:O,transform:"rotate(".concat(g,"deg)")}},height:j,position:"absolute",width:w,rounding:2,zIndex:V,padding:1,margin:-1,children:(0,l.jsx)(a.iP,{onTap:function(){x({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:y}}),null!=C&&C.pin_id&&k.push("/pin/".concat(C.pin_id,"/comments/").concat(y||""))},rounding:"pill"})})},c=n(523657),u=n(76911),d=n(116303),p=n(148028),f=n(121151),h=n(964569),m=n(898781),_=n(664569);function g(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.aggregatedCommentId,n=e.onDismiss,r=(0,m.ZP)(),i=(0,h.Z)(),o=y((0,u.useState)(""),2),s=o[0],c=o[1],d=(0,l.jsx)(a.kC,{justifyContent:"end",children:(0,l.jsx)(a.zx,{color:"red",disabled:!s,onClick:function(){var e;(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({fromUnifiedComment:!0,objectType:_.o.aggregatedComment,objectId:t,tags:"[]",text:s});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,l,"next",e)}function l(e){g(o,r,i,a,l,"throw",e)}a(void 0)}))})(),n()},text:r.bt("Publicar", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,l.jsx)(f.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:d,heading:r.bt("Responder", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:n,children:(0,l.jsx)(a.xu,{paddingX:8,paddingY:1,children:(0,l.jsx)(a.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:function(e){var t=e.value;c(t)},placeholder:r.bt("Sua resposta aparecerá como um comentário público nesse Idea Pin.", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:s})})})},x=n(224496),P=n(349700),w=n(773285);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n=e.block,s=e.elementType,c=e.onFlyoutOpen,f=e.pageAspectRatio,h=e.pageIndex,_=e.productPins,g=e.scaleFactor,y=e.tooltipElementType,v=e.videoPinProgress,S=(0,i.v)().logContextEvent,O=j((0,u.useState)(!1),2),k=O[0],C=O[1],A=j((0,u.useState)(!1),2),I=A[0],E=A[1],T=(0,u.useRef)(),D=(0,o.useHistory)(),z=(0,m.ZP)(),R=(0,w.F)().checkExperiment,Z=n.block_style,L=(Z=void 0===Z?{}:Z).height,B=void 0===L?0:L,M=Z.width,F=void 0===M?0:M,N=Z.x_coord,U=void 0===N?0:N,K=Z.y_coord,q=void 0===K?0:K,X=Z.rotation,Y=void 0===X?0:X,$=n.end_time,Q=n.error_message,J=n.interactive_sticker_type,ee=void 0===J?null:J,te=n.is_removed,ne=n.is_valid,re=n.start_time,ie=n.sticker_data,oe=n.type,ae=n.pin_id,le=(_||[]).find((function(e){return[e.id,e.cacheable_id].includes(ae)}))||{},se=ie||{},ce=se.board_id,ue=se.question_comment_id,de=null!==(t=n.user)&&void 0!==t?t:{},pe=de.image_small_url,fe=de.full_name,he=de.username,me=void 0===he?"":he,_e=null,ge=ne&&5===ee&&!!ce,ye=ne&&7===ee&&!!ue,ve=(0,r.Z)(ce&&ge?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:ce}}:null),be=ve.data||{},xe=be.is_collaborative,Pe=be.pin_count,we=be.url;oe===x.h8.PRODUCT_STICKER?_e=ae?"/pin/".concat(ae,"/"):"/":oe===x.h8.MENTION_STICKER?_e="/".concat(me,"/"):ge&&(_e=ve.isLoaded?"".concat(we):null);var je=H/f,Se=F*H*g/100,Oe=B*je*g/100,ke=U*H*g/100,Ce=q*je*g/100,Ae=(v||{}).currentTime,Ie=!(0,p.Z)({currentTime:Ae,endTime:$,startTime:re}),Ee=function(){S({event_type:123,component:228,element:y,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:h}}),C(!1)};(0,u.useEffect)((function(){return document.addEventListener("scroll",(function(){C(!1)})),function(){return document.removeEventListener("scroll",(function(){C(!1)}))}}),[]);var Te=function(){var e=null;switch(oe){case x.h8.PRODUCT_STICKER:var t=le||{},n=t.grid_title,r=t.images,i=t.rich_summary,o=t.description,s=(r||{})["236x"]||{},c=i||{},p=c.display_name,f=((c.products||[])[0]||{}).offer_summary||{},h=f||{},m=h.price,_=h.max_price,g=!(!f||!m&&!_),y=p||n||o;e=(0,l.jsxs)(u.Fragment,{children:[(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(a.zd,{wash:!0,height:40,width:40,rounding:3,children:(0,l.jsx)(a.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:s.url||""})})}),(0,l.jsx)(a.xu,{flex:"grow",paddingX:2,children:g?(0,l.jsxs)(a.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(a.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:m}),(0,l.jsx)(a.xv,{size:"100",lineClamp:1,children:y})]}):(0,l.jsx)(a.xv,{size:"100",lineClamp:1,children:y})}),(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case x.h8.MENTION_STICKER:e=(0,l.jsxs)(u.Fragment,{children:[(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(d.Z,{size:"sm",name:null!=fe?fe:"",src:null!=pe?pe:void 0})}),(0,l.jsx)(a.xu,{flex:"grow",paddingX:2,children:(0,l.jsx)(a.xv,{weight:"bold",size:"200",lineClamp:1,children:fe})}),(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case x.h8.GENERIC_STICKER:e=[5].includes(ee)?ne?ve.isLoaded?(0,l.jsxs)(u.Fragment,{children:[(0,l.jsxs)(a.xu,{flex:"grow",paddingX:2,children:[(0,l.jsx)(a.xv,{weight:"bold",size:"100",lineClamp:1,children:xe?z.bt("Explore esta pasta compartilhada", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):z.bt("Explorar esta pasta", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,l.jsx)(a.xv,{size:"100",children:(!!Pe||0===Pe)&&(0,P.nk)(z.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], Pe, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:Pe})})]}),(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,l.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,l.jsx)(a.xu,{marginEnd:1,paddingX:2,children:(0,l.jsx)(a.xv,{color:"subtle",size:"100",lineClamp:1,children:z.bt("Carregando a pasta...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,l.jsx)(a.$j,{accessibilityLabel:z.bt("A pasta está sendo carregada", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),size:"sm",show:!0})]}):(0,l.jsx)(a.xu,{paddingX:2,paddingY:2,children:(0,l.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:Q})}):(0,l.jsx)(a.xu,{paddingX:2,paddingY:2,children:(0,l.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:z.bt("Ainda não é possível usar esse adesivo", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})});break;case x.h8.VTO_MAKEUP_STICKER:e=(0,l.jsx)(a.xv,{weight:"bold",size:"300",children:z.bt("Experimente este adesivo no seu telefone!", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,l.jsx)(a.xu,{alignItems:"center","data-test-id":oe,display:"flex",justifyContent:"center",padding:oe===x.h8.PRODUCT_STICKER?1:3,width:"100%",children:te?(0,l.jsx)(a.xv,{color:"subtle",weight:"bold",size:"200",children:z.bt("A tag foi removida.", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,l.jsx)(u.Fragment,{children:Ie?null:(0,l.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{left:ke,top:Ce,transform:"rotate(".concat(Y,"deg)")}},"data-test-id":(oe||"")+"_container",display:"flex",height:Oe+2*W,margin:-1,padding:1,position:"absolute",ref:T,rounding:2,width:Se+2*W,zIndex:V,children:[(0,l.jsx)(a.iP,{onTap:k?Ee:function(e){var t=e.event;Ie||(S({event_type:101,component:228,element:s,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:h}}),ye?R("web_question_sticker_display").anyEnabled&&E(!0):function(e){var t=e.event;S({event_type:120,component:228,element:y,view_type:3,view_parameter:157,aux_data:{error_message:!ne&&Q?Q:null,story_pin_page_id:h}}),C(!0),c&&(t.stopPropagation(),c())}({event:t}))},rounding:"pill",disabled:Ie}),k&&(0,l.jsx)(a.mh,{zIndex:G,children:(0,l.jsx)(a.J2,{anchor:T.current,idealDirection:"up",onDismiss:Ee,positionRelativeToAnchor:!1,showCaret:!0,size:te?"flexible":"sm",children:te?Te():(0,l.jsx)(a.iP,{onTap:function(e){e.event.preventDefault(),te||(S({event_type:101,component:228,element:y,object_id_str:ae,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:h}}),_e?D.push(_e):Ee())},fullWidth:!0,children:Te()})})}),!!ue&&I&&(0,l.jsx)(b,{aggregatedCommentId:ue,onDismiss:function(){E(!1)}})]})})}var k=n(829084),C=n(854907),A=n(296342),I=n(775151);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){var t=e.block,n=e.fontsLoaded,r=e.pageAspectRatio,i=e.scaleFactor,o=t.block_style,s=t.style,c=void 0===s?x.Cc:s,d=t.text,p=c.alignment,f=c.font,h=c.font_size,m=c.highlight_color,_=c.vertical_alignment,g=void 0===_?x.Cc.vertical_alignment:_,y=(null!=c?c:{}).hex_color,v=void 0===y?x.Cc.hex_color:y,b=E((0,u.useState)(0),2),P=b[0],w=b[1],j=E((0,u.useState)([]),2),S=j[0],O=j[1],T=f||x.Cc.font,D=T.name,z=T.default_size,R=T.letter_spacing,Z=T.line_height,L=(0,k.Z)(T),B=Math.round(100*((null==o?void 0:o.width)||100))/1e4,M=Math.round(100*((null==o?void 0:o.height)||100))/1e4,F=Math.round(100*((null==o?void 0:o.x_coord)||0))/1e4,N=Math.round(100*((null==o?void 0:o.y_coord)||0))/1e4;(0,u.useEffect)((function(){if(n){var e=(0,C.K)({text:d,boxHeight:A.U*M,boxWidth:A.q8*B,font:L,startFontSize:Math.floor(h||z||24)});O(e.lines),w(e.fontSize)}}),[n]);var U=P*i,H=m?(0,x.pE)(U,Z):{x:0,y:0},V=B*A.q8*i+2*H.x,W=M*A.U*i+2*H.y,G=F*A.q8*i-H.x,K=N*(A.q8/r)*i-H.y;return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:K}},display:"flex",height:W,position:"absolute",width:V,children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,I.RK)({alignment:p,verticalAlignment:g})},children:(0,l.jsx)(a.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,l.jsx)("p",{style:(0,I.BN)({fontSize:U,hexColor:v,letterSpacing:R,lineHeight:Z,name:D}),children:S.map((function(e,t){return(0,l.jsx)("span",{style:(0,I.xm)({fontSize:U,hasText:e.text.length>0,highlightColor:m||null,lineHeight:Z}),children:t===S.length-1?e.text:(0,l.jsxs)(u.Fragment,{children:[e.text," ",(0,l.jsx)("br",{})]})},"paragraphLine-".concat(t,"-").concat((null!=d?d:"").substr(0,9)))}))})})})})}var z=n(280348),R=n(19121);function Z(e){var t=e.ownerId,n=(0,m.ZP)(),r=(0,R.Z)(),i=r.isAuth&&r.id===t;return(0,l.jsxs)(a.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,l.jsx)(a.xv,{color:"inverse",children:i?n.bt("Seu vídeo está sendo processado.", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):n.bt("Esse vídeo ainda está sendo processado.", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,l.jsx)(a.xv,{color:"inverse",children:n.bt("Volte a conferir em alguns minutos.", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var L=n(276602),B=n(47168),M=n(82314);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=375,V=new a.Ry(1),W=4,G=new a.Ry(3);function K(e){var t,n,r,i,o,a=e.block,s=e.isActive,u=e.pwtTrackImageLoad,d=(0,m.ZP)();if(!a.image)return null;var p=(null===(t=a.image.images)||void 0===t?void 0:t["750x"])||(null===(n=a.image.images)||void 0===n?void 0:n["474x"]);return(0,l.jsx)(c.Z,{alt:d.bt("Imagem do Pin de história", "Story pin image", "closeup.storypin.renderer", undefined, true),isActive:s,naturalHeight:null!==(r=null==p?void 0:p.height)&&void 0!==r?r:1,naturalWidth:null!==(i=null==p?void 0:p.width)&&void 0!==i?i:1,src:null!==(o=null==p?void 0:p.url)&&void 0!==o?o:"",onLoad:u})}function q(e){var t,n,r=e.activePageIndex,i=e.block,o=e.closeupStoryPinViewability,s=e.customEndCard,c=e.isActive,u=e.isSplitLayout,d=void 0!==u&&u,p=e.musicRecordingId,f=e.muted,h=e.onEnded,m=e.onUpdateVideoInfo,_=e.ownerId,g=e.pageAspectRatio,y=e.pageDimensions,v=e.pageIndex,b=e.pinId,x=e.scaleFactor,P=e.stillLoading,w=i.block_style,j=(w=void 0===w?{}:w).height,S=void 0===j?100:j,O=w.width,k=void 0===O?100:O,C=w.x_coord,A=void 0===C?0:C,I=w.y_coord,E=void 0===I?0:I,T=i.video,D=H/g,R=y.height,L=y.width,B=k*H*x/100,M=S*D*x/100,F=A*H*x/100,N=E*D*x/100,U=k<100?Math.min(Math.max(100,k)-Math.abs(A),k):Math.min(Math.max(k-Math.abs(A),0),100),V=(S<100?Math.min(Math.max(100,S)-Math.abs(E),S):Math.min(Math.max(S-Math.abs(E),0),100))*D*x/100,W=U*H*x/100,G=Math.max(E,0)*D*x/100,K=Math.max(A,0)*H*x/100;return P?null:T?!!((null===(t=T.video_list)||void 0===t?void 0:t.V_HLSV3_MOBILE)||(null===(n=T.video_list)||void 0===n?void 0:n.V_720P))&&(0,l.jsx)(a.xu,{height:d?"50%":"100%",overflow:"hidden",position:"relative",children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:G}},height:V,overflow:"hidden",position:"absolute",width:W,children:(0,l.jsx)(z.Z,{activePageIndex:r,blockHeight:M,blockPosition:{left:F,top:N},blockWidth:B,closeupStoryPinViewability:o,customEndCard:s,isPlaying:c,musicRecordingId:p,muted:f,onEnded:h,onUpdateVideoInfo:m,pageIndex:v,pinId:b,roundCorners:M>=R&&B>=L,video:T})})}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:G}},height:V,position:"absolute",width:W,children:(0,l.jsx)(Z,{ownerId:_})})}function X(e){var t=e.activePageIndex,n=e.block,r=e.closeupStoryPinViewability,i=e.customEndCard,o=e.fontsLoaded,c=e.isActive,u=e.isSplitLayout,d=void 0!==u&&u,p=e.musicRecordingId,f=e.muteVideos,h=e.onEnded,m=e.onFlyoutOpen,_=e.onUpdateVideoInfo,g=e.ownerId,y=e.pageAspectRatio,v=e.pageHeight,b=e.pageIndex,P=e.pageWidth,w=e.pinId,j=e.previewOnly,S=e.productPins,k=e.stillLoading,C=void 0!==k&&k,A=e.videoPinProgress,I=n.block_style,E=(I=void 0===I?{}:I).height,T=void 0===E?100:E,z=I.width,R=void 0===z?100:z,Z=I.x_coord,F=void 0===Z?0:Z,U=I.y_coord,V=void 0===U?0:U,W=n.interactive_sticker_type,G=void 0===W?null:W,X=(0,B.g)(),Y=(0,L.EV)();if(0===T||0===R)return null;var $=P/H;switch(n.type){case x.h8.PARAGRAPH:case x.h8.HEADING:return(0,l.jsx)(D,{block:n,fontsLoaded:o,scaleFactor:$,pageAspectRatio:y});case x.h8.VIDEO:return(0,l.jsx)(q,{activePageIndex:t,block:n,closeupStoryPinViewability:r,customEndCard:i,isActive:c,isSplitLayout:d,musicRecordingId:p,muted:f,onEnded:h,onUpdateVideoInfo:_,ownerId:g,pageAspectRatio:y,pageDimensions:{height:v,width:P},pageIndex:b,pinId:w,scaleFactor:$,stillLoading:C});case x.h8.IMAGE:return(0,l.jsx)(a.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:"".concat(T,"%"),left:"".concat(F,"%"),top:"".concat(V,"%"),width:"".concat(R,"%")}},children:(0,l.jsx)(K,{block:n,isActive:c,pwtTrackImageLoad:function(){X&&c&&(X.addBinaryAnnotation("pin.id",w,"STRING"),X.addBinaryAnnotation("video",!1,"BOOL"),X.stop()),Y&&c&&(Y.addBinaryAnnotation("pin.id",w,"STRING"),Y.addBinaryAnnotation("video",!1,"BOOL"),Y.removeConstraint(M._z),Y.markConstraintComplete(M.pM))}})});case x.h8.MENTION_STICKER:return!j&&(0,l.jsx)(O,{block:N({},n),elementType:12120,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:b,scaleFactor:$,tooltipElementType:12121,videoPinProgress:A});case x.h8.GENERIC_STICKER:return!j&&function(e){var t=5===G,n=t?12827:12858,r=t?12828:12859;return(0,l.jsx)(O,{block:N({},e),elementType:n,onFlyoutOpen:m,pageIndex:b,pageAspectRatio:y,scaleFactor:$,tooltipElementType:r,videoPinProgress:A})}(n);case x.h8.PRODUCT_STICKER:return!j&&(0,l.jsx)(O,{block:N({},n),elementType:12223,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:b,productPins:S,scaleFactor:$,tooltipElementType:12224,videoPinProgress:A});case x.h8.VTO_MAKEUP_STICKER:return!j&&(0,l.jsx)(O,{block:N({},n),elementType:12561,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:b,scaleFactor:$,tooltipElementType:12561,videoPinProgress:A});case x.h8.COMMENT_REPLY_STICKER:return n.type===x.h8.COMMENT_REPLY_STICKER&&!j&&(0,l.jsx)(s,{block:n,scaleFactor:$,pageAspectRatio:y});default:return null}}},801827:function(e,t,n){"use strict";n.d(t,{A:function(){return m},r:function(){return y}});var r=n(76911),i=n(743217),o=n(627387),a=n(445868),l=n(802933),s=n(674915),c=n(623568),u=n(425288),d=n(515198);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n=e.children,u=e.pin,p=e.overrideValue,h=void 0===p?{}:p,m=(0,l.Z)({pin:u}),_=((0,s.Z)(m)||{}).video,y=((0,a.Z)(m)||{}).embed,v=y&&y.src,b=y&&"pinstory"===y.subtype,x=(0,c.sY)(null===(t=u.embed)||void 0===t?void 0:t.type),P=(0,r.useMemo)((function(){var e=f({mainImage:(0,i.Z)(u),previewImage:(0,o.Z)(u)},h);return f({embed:y,isEmbeddedVideo:!!v&&!x&&!b,video:_,imgSrc:x?y.src:e.mainImage.url,isGif:x},e)}),[y,x,v,b,h,u,_]);return(0,d.jsx)(g,{value:P,children:n})},_=(0,u.Z)("PageHeader"),g=_.Provider,y=_.useHook},165733:function(e,t,n){"use strict";var r=n(834911),i=n(743217),o=n(627387),a=n(343591),l=n(954959);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t,n=c(c({},e.pin),e.pinResource.data),s=(0,r.Z)({additionalImages:null===(t=e.variantData)||void 0===t?void 0:t.images,carouselData:n.carousel_data,images:n.images,richMetadata:n.rich_metadata,richSummary:n.rich_summary});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,hideBackButton:!1,isCommentSectionOpen:!0,isCloseupMaximized:!1,isInFocus:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:n,pinId:e.pinId,quickPromoteModalTriggered:!1,relatedPins:[],relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:(0,l.Z)({isEligibleForPdp:n.is_eligible_for_pdp,isStaleProduct:n.is_stale_product,isOutOfStockProduct:n.is_oos_product}),showRelatedContent:!(0,a.Z)(e.pin),showRelatedFeedUpsell:!0,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",viewability:0,visualState:{carouselData:s&&c(c({},s),{},{index:e.pin.carousel_data&&e.pin.carousel_data.index||0}),mainImage:(0,i.Z)(n),previewImage:(0,o.Z)(n)},v1DeprecationModalDismissed:!1}}},385937:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=/^\/pin\/(.*[^\/])\/$/,i={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/pin/:id/related-products":"shop_feed","/story_feed":"shop_feed"};function o(e,t){var n;if(t<=0)return"unknown";var r=e[t-1],o=(null==r||null===(n=r.match)||void 0===n?void 0:n.path)||"";return o?i[o]||"unknown":"feed_home"}function a(e,t){for(var n,i,a=["pin"],l=[],s=1,c="unknown",u="unknown",d=!0,p=e.length-1;p>0;p-=1){var f=o(e,p);a.splice(0,0,f),d&&("pin"===(c=f)?s+=1:d=!1)}for(var h=e.length-2;h>=0;h-=1){var m,_,g=((null===(m=e[h])||void 0===m||null===(_=m.location)||void 0===_?void 0:_.pathname)||"").match(r);if(!g||2!==g.length)break;l.splice(0,0,g[1].split("/")[0])}(1===a.length?(u="deep_linking",c="deep_linking"):(u=a[a.length-2],"pin"===c&&(c="deep_linking"),2===a.length&&"pin"===u&&(u="deep_linking")),"seo_auth"!==u||t||(u="seo_unauth"),"seo_auth"!==c||t||(c="seo_unauth"),"search"===u||"search"===c)&&(e.length>=s+1&&"/search/buyable_pins/"===((null===(n=e[e.length-s-1])||void 0===n||null===(i=n.location)||void 0===i?void 0:i.pathname)||"")&&(c="shop_feed","search"===u&&(u="shop_feed")));return{trafficSource:u,topLevelTrafficSource:c,topLevelTrafficSourceDepth:s,contextPinIds:l}}},668627:function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({id:e,field_set_key:"auth_web_main_pin",client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},128503:function(e,t,n){"use strict";var r=n(126098),i=n(784450),o=n(558329);t.Z=(0,i.ZP)(12,(function(e,t){var n,i;return{pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:t.didLongClickThrough||!1,did_pin_clickthrough:t.didPinClickThrough||!1,did_repin:t.didRepin||!1,is_own_or_group_pin:t.is_own_or_group_pin||!1,login_page_type:t.loginPageType||"unknown",scroll_to_threshold:t.scrollToThreshold,pin_image_signature:t.pin_image_signature,chrome_push_subscription:(0,r.Z)(),is_creator_card_shown:!!(0,o.nU)(e.pin),creator_username:null===(n=e.pin)||void 0===n||null===(i=n.closeup_attribution)||void 0===i?void 0:i.full_name}}))},748373:function(e,t,n){"use strict";var r=n(76911),i=n(407043),o=n(908390),a=n(515198),l=function(e){var t=e.mention,n=e.tag,r=(0,i.v)().logContextEvent;return(0,a.jsx)(o.rU,{underline:"none",href:"/".concat(t.substr(1)),display:"inlineBlock",onClick:function(e){e.event.stopPropagation(),r({event_type:101,element:11915,aux_data:{tag_id:n.object_id,tag_type:n.tag_type}})},children:(0,a.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",overflow:"normal",children:t})},n.object_id)};t.Z=function(e){var t=e.description,n=e.userMentionTags;if(0===n.length)return(0,a.jsx)(r.Fragment,{children:t});var i=0,s=[];return n.concat().sort((function(e,t){var n,r;return(null!==(n=e.offset)&&void 0!==n?n:0)-(null!==(r=t.offset)&&void 0!==r?r:0)})).forEach((function(e){var n=e.offset,r=void 0===n?0:n,o=e.length,c=void 0===o?0:o,u=t.substr(i,r-i),d=t.substr(r,c);s.push(u),s.push((0,a.jsx)(l,{mention:d,tag:e})),i=r+c})),s.push(t.substr(i)),s.reduce((function(e,t){return(0,a.jsxs)(o.xv,{inline:!0,children:[e,t]})}),null)}},394215:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(76911),i=n(506979),o=n(391254),a=n(275445),l=n(908390),s=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="SelectInterest",p={__style:{animationName:"".concat(d,"_AnimateIn, ").concat(d,"_CircleAnimateOut"),animationDuration:"0.3s, 0.3s",animationDelay:"0.3s, 1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(196, 196, 196, 0.1)"}},f={__style:{animationName:"".concat(d,"_AnimateIn, ").concat(d,"_AnimateOut"),animationDuration:"0.3s, 0.5s",animationDelay:"0.3s, 1.1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};var h=function(e){var t,n=e.anchor,i=e.endAnimation,a=e.interest,u=c((0,r.useState)(!1),2),h=u[0],m=u[1],_=a.images["400x"],g=_.width,y=_.height,v=_.url,b=function(){i(a.id)},x=function(){m(!0),t=setTimeout(b,2e3)};(0,r.useEffect)((function(){var e;return(e=new Image).src=null!=v?v:"",e.onload=x,function(){t&&clearTimeout(t)}}),[]);var P=(null==n?void 0:n.getBoundingClientRect())||{},w=P.top,j=void 0===w?0:w,S=P.left,O=void 0===S?0:S,k=P.bottom,C=void 0===k?0:k,A=P.right,I=(j+C)/2+100,E=(O+(void 0===A?0:A))/2-75;return!!n&&h&&(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes ".concat(d,"_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ").concat(d,"_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(d,"_AnimateOut {\n  from {\n    transform: translateX(0) translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateX(-25px) translateY(-200px) scale(0.1);\n    opacity: 0;\n  }\n}\n")}),(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{top:I,left:E}},display:"flex",justifyContent:"center",position:"fixed",width:200,height:200,children:[(0,s.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:p,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,s.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:f,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",rounding:3,right:!0,top:!0,width:100,children:(0,s.jsx)(l.zd,{height:"100%",rounding:4,width:"100%",wash:!0,children:(0,s.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalHeight:null!=g?g:1,naturalWidth:null!=y?y:1,src:null!=v?v:""})})})]})]})},m=n(898781),_=n(784590),g=n(833991),y=n(622096),v=n(965900),b=n(407043),x=n(550448),P=n(609500),w=n(957161),j=n(578248);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="cubic-bezier(0.66, 0.025, 0.33, 0.975)",E="RelatedInterestsBanner_SlideIn ".concat(250,"ms forwards ").concat(I),T=function(e){return{view_type:e,view_parameter:136,component:13489}};function D(e){var t,n=e.onDismiss,c=e.relatedInterests,u=e.viewType,d=(0,b.v)().logContextEvent,p=(0,m.ZP)(),f=C((0,r.useState)(!0),2),_=f[0],S=f[1],A=C((0,r.useState)(!1),2),D=A[0],z=A[1],R=C((0,r.useState)([]),2),Z=R[0],L=R[1],B=C((0,r.useState)(Z.reduce((function(e,t){return e[t.id]=!1,e}),{})),2),M=B[0],F=B[1],N=C((0,r.useState)(),2),U=N[0],H=N[1],V=C((0,r.useState)(),2),W=V[0],G=V[1],K=C((0,r.useState)(),2),q=K[0],X=K[1],Y=(0,v.I)().appUI.viewportSize,$=(0,P.useHistory)(),Q=(0,i.useDispatch)();(0,r.useEffect)((function(){var e;c&&c.length>=5&&(L(c.slice(0,6)),S(!1),d({event_type:9025,view_type:u}),z(!!((e=(0,w.qn)("lastViewedMiniRenux"))&&Date.now()-Number(e)<2592e5)),(0,y.Nh)("viewedMiniRenux",!0),(0,w.Nh)("lastViewedMiniRenux",Date.now()))}),[c]),(0,r.useEffect)((function(){return function(){clearTimeout(U),clearTimeout(W),clearTimeout(t)}}),[]);var J,ee=(0,x.p)(),te=ee.isTooltipOnLogoButtonShown,ne=ee.logoButtonRef,re=ee.toggleTooltipOnLogoButton,ie=function(){return re(!1)},oe=function(){return re(!0)},ae=function(e){S(!_);var n=e?Object.freeze({}):{element:179};X(!0),t=setTimeout((function(){return X(!1)}),125),d(O(O({event_type:e&&(_?107:106)||101},T(u)),n))},le=function(e){var t=Z.findIndex((function(t){return t.id===e.id})),n=!e.is_followed,r=Z.slice();r[t]=O(O({},e),{},{is_followed:n}),L(r),n&&F(O(O({},M),{},k({},e.id,!0))),Promise.resolve(Q((0,j.bJ)(k({},e.id,n),"mini_renux"))).then((function(){n&&(te?(U&&clearTimeout(U),H(setTimeout(ie,7e3))):(W&&clearTimeout(W),U&&clearTimeout(U),G(setTimeout(oe,3e3)),H(setTimeout(ie,1e4)))),Q((0,j.H5)(!0))})),d(O(O({event_type:101},T(u)),{},{element:n?1030:1151})),(0,y.Nh)("completedMiniRenux",!0)},se=function(e){return F(O(O({},M),{},k({},e,!1)))},ce=p.bt("Bem-vindo(a) de volta!", "Welcome back!", "relatedInterestsBanner.header", undefined, true),ue=p.bt("Diga pelo que mais você se interessa", "Tell us what else you're interested in", "relatedInterestsBanner.subheader", undefined, true),de=(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l.xu,{display:"flex",marginStart:-2,children:Z.slice(0,3).map((function(e){var t,n,r,i=e.images["400x"];return i?(0,s.jsx)(l.xu,{marginStart:2,rounding:2,children:(0,s.jsx)(l.zd,{height:64,rounding:4,width:64,children:(0,s.jsx)(l.Ee,{alt:p.bt("Miniatura da imagem do interesse relacionado", "Related interest image thumbnail", "relatedInterestsBanner.image.thumbnail", undefined, true),color:e.background_color,fit:"cover",naturalHeight:null!==(t=i.height)&&void 0!==t?t:1,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,src:null!==(r=i.url)&&void 0!==r?r:""})})},i.url):null}))}),(0,s.jsxs)(l.xu,{direction:"column",display:"flex",marginEnd:6,paddingX:6,children:[(0,s.jsx)(l.xv,{children:ce}),(0,s.jsx)(l.X6,{size:"400",children:ue})]}),(0,s.jsx)(l.zx,{onClick:function(){return ae(!1)},text:p.bt("Escolher interesses", "Choose topics", "relatedInterestsBanner.button.chooseTopics", undefined, true)})]}),pe=(0,s.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,s.jsx)(l.xv,{align:"center",children:ce}),(0,s.jsx)(l.X6,{align:"center",size:"400",children:ue}),(0,s.jsx)(l.xu,{display:"flex",marginStart:-2,paddingY:4,children:Z.map((function(e){return(0,s.jsx)(l.xu,{marginStart:2,display:"flex",direction:"column",justifyContent:"start",children:(0,s.jsx)(a.Z,{clickHandler:function(){return le(e)},interest:e,isSelected:e.is_followed,size:"md_120"})},e.id)}))}),(0,s.jsx)(l.zx,{color:"red",disabled:0===Z.filter((function(e){return e.is_followed})).length,onClick:function(){$.push("/"),d(O(O({event_type:101},T(u)),{},{element:76}))},text:p.bt("Veja o seu novo feed inicial", "See your new home feed", "relatedInterestsBanner.button.seeHomefeed", undefined, true)})]}),fe=new l.H3([new l.Ry(g.HW)]);return Z.length>=5&&!D?(0,s.jsxs)(l.mh,{children:[(0,s.jsx)(o.Z,{unsafeCSS:(J=128,"\n@keyframes RelatedInterestsBanner_SlideIn {\n  from { transform: translateY(".concat(J,"px); }\n  to { transform: translateY(0); }\n}\n"))}),(0,s.jsx)(l.iP,{onTap:_?function(){}:function(){return ae(!1)},children:(0,s.jsxs)(l.xu,{alignItems:"center",bottom:!0,borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{animation:E,WebkitAnimation:E,cursor:_?"default":"pointer",transition:"min-height ".concat(250,"ms ").concat(I)}},display:"flex",minHeight:_?328:128,justifyContent:"center",left:!0,padding:8,position:"fixed",right:!0,zIndex:fe,children:[!q&&(_?pe:de),(0,s.jsx)(l.xu,{padding:"lg"===Y||_?8:4,position:"lg"===Y||_?"absolute":"static",right:!0,top:_,children:(0,s.jsx)(l.hU,{accessibilityLabel:p.bt("Botão do ícone Ignorar", "Dismiss icon button", "relatedInterestsBanner.button.dismiss", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]})}),Z.map((function(e){return M[e.id]?(0,s.jsx)(h,{anchor:ne,interest:e,endAnimation:se},e.id):null}))]}):null}function z(e){var t=e.onDismiss,n=e.pinId,r=(0,_.Z)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:6,pinId:n}}).data;return(0,s.jsx)(D,{onDismiss:t,relatedInterests:r,viewType:3})}},799405:function(e,t,n){"use strict";n.d(t,{F:function(){return o},L:function(){return i}});var r=(0,n(425288).Z)("IdeaPinCategoriesContext"),i=r.Provider,o=r.useHook},341866:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(229428);function i(e){var t=(e.pin||{}).visual_objects;return(0,r.k)(t||[])}},453451:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(807592),i=n(908390),o=n(515198);function a(e){var t=e.colorOverride,n=e.productDetails,a=e.showSalesPrice,l=e.type,s=e.weight,c=void 0===s?"bold":s,u=n.max_price,d=n.min_price,p=n.price,f=n.standard_price,h=!!p&&!!f&&p!==f,m=function(e){var t=e.children,n=e.color,r=e.textDecoration,a=void 0===r?"none":r;return(0,o.jsx)(i.xv,{color:n||"default",size:"text"===l?"100":"500",weight:c,children:(0,o.jsx)("span",{style:{textDecoration:a},children:t})})};return(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(!!p||!!d||!!u)&&(0,o.jsx)(m,{color:t||(h?"shopping":"default"),children:(0,r.Z)(n)}),h&&!a&&(0,o.jsx)(i.xu,{marginStart:1,children:(0,o.jsx)(m,{color:"subtle",textDecoration:"line-through",children:f})})]})}},296005:function(e,t,n){"use strict";n.d(t,{_T:function(){return g},eL:function(){return _}});var r=n(76911),i=n(835209),o=n(954959),a=n(112690),l=n(533655),s=n(515198);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,r.createContext)(undefined),m=function(e){var t=e.children,n=e.dimensionMetadata,i=e.primaryDimName,o=e.variants,c=e.primaryDimensionThumbnailImages,f=(0,r.useCallback)((function(e){var t=e.selectedMap,r=(0,l.B)({dimensionMetadata:n,primaryDimName:i,primaryDimensionThumbnailImages:c,defaultStatus:"invalid"});return(0,l.U0)({variantMap:r,selectedMap:t,variants:o}),r}),[n,i,c,o]),m=(0,a.Z)(),_=p((0,r.useState)((0,l.O5)(o)),2),g=_[0],y=_[1],v=p((0,r.useState)((0,l.x1)({selectedMap:g,variants:o})),2),b=v[0],x=v[1],P=p((0,r.useState)(f({selectedMap:g})),2),w=P[0],j=P[1],S=p((0,r.useState)(),2),O=S[0],k=S[1],C=p((0,r.useState)(!1),2),A=C[0],I=C[1],E=(0,r.useCallback)((function(e){var t=(0,l.x1)({selectedMap:e,variants:o});y(e),x(t)}),[o]),T=(0,r.useCallback)((function(){var e=(0,l.O5)(o),t=f({selectedMap:e});j(t),E(e)}),[f,E,o]),D=(0,r.useCallback)((function(e){var t,n=e.dimensionName,r=e.variant,i=e.isAutoSelection,a=null===(t=w[n])||void 0===t?void 0:t.find((function(e){return e.value===r}));try{if(!a)throw new Error("Unable to find the selected variant ".concat(n,": ").concat(r));if(i||I(!0),g&&g[n]===r)return;var s=u(u({},"invalid"!==a.status?g:{}),{},d({},n,r)),c=(0,l.i8)({variantMap:w,status:"invalid"});if((0,l.U0)({variantMap:c,selectedMap:s,variants:o}),!i){var p,f,h,_,y,v,b=null!==(p=null===(f=w[n])||void 0===f?void 0:f.filter((function(e){return"invalid"!==e.status})).length)&&void 0!==p?p:0,x=null!==(h=null===(_=w[n])||void 0===_?void 0:_.length)&&void 0!==h?h:0,P=!(null===(y=w[n])||void 0===y||null===(v=y.find((function(e){var t=e.value;return r===t})))||void 0===v||!v.image);m({event_type:101,view_type:3,view_parameter:144,component:13879,element:12513,aux_data:{commerce_data:JSON.stringify({dimension_name:n,dimension_value:r,has_variant_image_thumbnail:P?1:0,valid_dimension_option_count:b,total_dimension_option_count:x})}})}E(s),j(c)}catch(S){throw T(),S}}),[w,g,o,m,T,E]);(0,r.useEffect)((function(){T()}),[T]),(0,r.useEffect)((function(){var e=(0,l.A6)(b.flatMap((function(e){return e.additional_images||[]})));O&&(0,l.xD)(O,e)||e&&e.length>0&&k(e)}),[O,b]),(0,r.useEffect)((function(){for(var e in w){var t,n=null===(t=w[e])||void 0===t?void 0:t.filter((function(e){return"invalid"!==e.status}));1===(null==n?void 0:n.length)&&D({dimensionName:e,variant:n[0].value,isAutoSelection:!0})}}),[D,w]),(0,r.useEffect)((function(){if(Object.keys(g).length===n.length&&1===b.length){var e=b[0],t=e.item_id,r=e.item_set_id,i=e.offer_summary;m({event_type:101,view_type:3,view_parameter:144,component:143,aux_data:{commerce_data:JSON.stringify({item_id:t,item_set_id:r,is_variant_oos:!(null!=i&&i.in_stock)})}})}}),[n,m,g,b]);var z=(0,l.$b)(b),R=1!==b.length?null:b[0],Z=R||{},L=Z.title,B=Z.links,M=void 0===B?[]:B,F=(0,r.useMemo)((function(){var e=w[i]||[],t=Object.entries(w).filter((function(e){return p(e,1)[0]!==i}))||[];return{dimensionMetadata:n,images:O,isSelectedByUser:A,link:M[0],offerSummary:z,primaryDimName:i,primarySelectedVariant:R,primaryVariants:e,secondaryVariantTuples:t,selectedMap:g,selectVariant:D,title:L,variants:o}}),[n,O,A,M,z,i,g,R,D,L,w,o]);return(0,s.jsx)(h.Provider,{value:F,children:t})},_=function(e){var t=e.children,n=e.pin,r=((0,i.Z)({richPinData:n.rich_metadata})||{}).variant_set||{},a=r.dimension_metadata,l=r.primary_dimension,c=r.primary_dimension_thumbnail_images,u=r.variants,d=(0,o.Z)({isEligibleForPdp:n.is_eligible_for_pdp,isStaleProduct:n.is_stale_product,isOutOfStockProduct:n.is_oos_product});return a&&l&&u&&d?(0,s.jsx)(m,{dimensionMetadata:a,primaryDimName:l,primaryDimensionThumbnailImages:c,variants:u,children:t}):(0,s.jsxs)(h.Provider,{value:void 0,children:[t," "]})},g=function(){return(0,r.useContext)(h)}},368271:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(76911),i=n(908390),o=n(515198);function a(e){var t=e.buttonText,n=e.icon,r=e.onClick;return(0,o.jsx)(i.iP,{onTap:r,rounding:"pill",accessibilityLabel:t,children:(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:"secondary",rounding:"pill",minHeight:48,children:(0,o.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:48,paddingX:4,children:[(0,o.jsx)(i.xu,{marginEnd:3,children:(0,o.jsx)(i.JO,{accessibilityLabel:"",icon:n,color:"default"})}),(0,o.jsx)(i.xv,{align:"center",color:"default",weight:"bold",children:t})]})})})}var l=n(898781),s=n(407043);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.entryPoint,n=e.imageSignature,i=e.onClick,c=e.pinId,d=e.viewParameter,p=(0,s.v)().logContextEvent,f=(0,l.ZP)();return(0,r.useEffect)((function(){p({event_type:120,element:12080,view_type:3,view_parameter:d,aux_data:u({image_signature:n,entry_point_source:t},c?{pin_id:c}:{})})}),[]),(0,o.jsx)(a,{buttonText:f.bt("Marcar produtos", "Tag products", "closeup.shopTheLook.tagProducts", undefined, true),icon:"tag",onClick:i})}},186986:function(e,t,n){"use strict";function r(e){return"story"===e.type}n.d(t,{Z:function(){return r}})},206663:function(e,t,n){"use strict";function r(e){if("pin_tag"===e.type){var t=e.x_percent,n=e.y_percent;if(t>0&&t<=100&&n>0&&n<=100)return!0}return!1}n.d(t,{Z:function(){return r}})},167137:function(e,t,n){"use strict";function r(){return["ideapinproductcategorytag.id","ideapinproductcategorytag.type","ideapinproductcategorytag.category_id","ideapinproductcategorytag.label","ideapinproductcategorytag.page_index","ideapinproductcategorytag.pins()","pin.id","pin.type","pin.images[236x,orig]"]}n.d(t,{Z:function(){return r}})},963e3:function(e,t,n){"use strict";n.d(t,{K:function(){return c},Z:function(){return u}});var r=n(96939),i=n(116303),o=n(149230),a=n(444445),l=n(908390),s=n(515198),c=[81];function u(e){var t=e.data||{},n=t.action,c=void 0===n?{}:n,u=t.container_type,d=t.objects,p=t.title,f=(void 0===p?{}:p).format,h=c.text,m=c.url,_=c.user,g=void 0===_?{}:_,y=g.image_large_url,v=g.full_name,b=(d.find((function(e){return"pin"===e.type}))||{}).images,x=null,P=(0,o.Z)({url:m})?"nofollow":"none";switch(u){case 81:x=(0,s.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsxs)(l.xu,{position:"relative",children:[(0,s.jsx)(r.Z,{coverImages:b,height:a.yF,text:f,textType:"text",url:m}),g.imageUrl&&(0,s.jsx)(l.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,s.jsx)(i.Z,{outline:!0,size:"md",src:y,name:v||""})})]}),(0,s.jsx)(l.zx,{role:"link",rel:P,fullWidth:!0,size:"lg",text:h,href:m})]});break;default:return x}return x}},247371:function(e,t,n){"use strict";n.r(t),n.d(t,{SendButton:function(){return g},default:function(){return y}});var r=n(790904),i=n(215292),o=n(908390),a=n(515198);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function d(e){var t=e.accessibilityLabel,n=e.buttonColor,r=e.buttonText,l=e.handleClick,c=e.icon;return(0,a.jsx)(i.q,{children:function(e){var i=e.active,d=e.focused,p=e.hovered,f=e.onBlur,h=e.onFocus,m=e.onMouseDown,_=e.onMouseEnter,g=e.onMouseLeave,y=e.onMouseUp,v={borderRadius:24};if(p){var b="primary"===n?"rgb(216,0,33)":"rgb(226, 226, 226)";v=s(s({},v),{},{backgroundColor:b})}if(i){var x="primary"===n?"rgb(207,0,31)":"rgb(218, 218, 218)";v=s(s({},v),{},{backgroundColor:x})}return d&&(v=s(s({},v),u)),(0,a.jsx)("button",{"aria-label":t,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:f,onFocus:h,onMouseDown:m,onMouseEnter:_,onMouseLeave:g,onMouseUp:y,onClick:l,children:(0,a.jsx)(o.xu,{color:n,rounding:2,dangerouslySetInlineStyle:{__style:v},children:(0,a.jsxs)(o.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===c&&(0,a.jsxs)(o.xu,{children:[(0,a.jsx)(o.JO,{accessibilityLabel:"",icon:"share",color:"default",size:18}),(0,a.jsx)(o.xu,{paddingX:3})]}),(0,a.jsx)(o.xv,{align:"center",color:"primary"===n?"light":"default",weight:"bold",children:r})]})})})}})}var p=n(2396),f=n(898781);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t=e.buttonType,n=e.iconColor,i=e.handleSendShareFlyoutButtonClick,o=e.iconOnly,l=e.buttonText,s=(0,f.ZP)(),c="icon"===t,u={accessibilityLabel:s.bt("Enviar", "Send", "Accessible label for button to send this pin", undefined, true),handleClick:i};return c?(0,a.jsx)(r.Z,m(m({},u),{},{testId:"closeup-share-button",icon:"share",iconOnly:o,iconColor:n,buttonText:l})):(0,a.jsx)(d,m(m({},u),{},{icon:"share",buttonColor:"secondary",buttonText:s.bt("Enviar", "Send", "Text for button to send this pin", undefined, true)}))},y=(0,p.Z)(g)},155582:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(76911),i=n(6637);var o=n(512465),a=n(898781),l=n(19121),s=n(349700),c=n(129274),u=n(966113),d=n(908390),p=n(515198),f=u.K_+"?source=block_dialogue";function h(e){return e.map((function(e){return e.full_name}))}var m=function(e){var t=e.users,n=e.onClose,r=e.onSubmit,i=(0,a.ZP)(),l=(0,p.jsx)("strong",{children:(0,o.Z)(h(t),i)},"userlist");return(0,p.jsxs)("form",{method:"post",children:[(0,p.jsxs)(d.xu,{padding:8,children:[(0,p.jsx)(d.xv,{children:(0,s.nk)(i.bt("Se bloquear {{ users }}, vocês não poderão seguir um ao outro ou interagir com Pins um do outro.", "If you block {{ users }}, you won’t be able to follow each other or interact with each other’s Pins.", "description of blocking users", undefined, true),{users:l})}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(d.xv,{children:(0,p.jsx)(d.rU,{display:"inlineBlock",href:f,underline:"hover",children:i.bt("Saiba mais", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,p.jsx)(d.xu,{padding:2,children:(0,p.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,p.jsx)(d.zx,{fullWidth:!0,onClick:n,text:i.bt("Cancelar", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,p.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:function(){r()},text:i.bt("Bloquear", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})},_=n(174798);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.flagReason,n=e.flagType,f=e.onClose,g=e.selectedReason,x=e.status,P=e.users,w=(0,a.ZP)(),j=b((0,r.useState)({}),2),S=j[0],O=j[1],k=(0,c.d)(),C=k.setModalTitle,A=k.setStatus,I=(0,l.Z)(),E=(I.isAuth?I:{}).id,T=P.filter((function(e){var t=e.id;return S[t]})),D=T.length>0;(0,r.useEffect)((function(){var e;[_.qb.SUBMITTED,_.qb.PROCESSING].includes(x)?e=w.nbt(["Bloquear essa pessoa?", "Bloquear essas pessoas?"], T.length, "BlockAndUnfollow", true):n===_.Vm.CONVERSATION&&(e=x===_.qb.COMPLETED?(0,s.nk)(w.bt("Você bloqueou {{usernames}}", "You’ve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,o.Z)(h(T),w).join("")}).join(""):w.bt("Agradecemos a denúncia", "Thanks for your report", "BlockAndUnfollow", undefined, true)),C(e)}),[x]),(0,r.useEffect)((function(){A(D?_.qb.SELECTED:_.qb.STARTED)}),[S]);var z=P.filter((function(e){return e.id!==E})),R=[_.qb.STARTED,_.qb.COMPLETED].includes(x);return(0,p.jsx)("form",{method:"post",children:[_.qb.SUBMITTED,_.qb.PROCESSING].includes(x)?(0,p.jsx)(m,{onClose:function(){A(_.qb.SELECTED)},onSubmit:function(){return A(_.qb.PROCESSING),Promise.all(Object.keys(S).filter((function(e){return S[e]})).map((function(e){return function(e){return i.Z.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((function(){}),(function(){}))}(e)}))).finally((function(){A(_.qb.COMPLETED)}))},users:T}):(0,p.jsxs)(d.xu,{padding:8,children:[(0,p.jsx)(d.xu,{children:x!==_.qb.COMPLETED?function(){var e;"harassingOther"===g?e=(0,s.nk)(w.bt("Removemos conteúdo que identifica e ataca pessoas comuns porque consideramos que é bullying. Também não permitimos conteúdo que revele informações de identificação pessoal. Saiba mais sobre as nossas {{ communityGuidelines }}.", "We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,p.jsx)(d.rU,{display:"inlineBlock",href:u.Ms,underline:"hover",children:w.bt("Diretrizes da Comunidade", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===g?e=w.bt("Observe que nem sempre removemos itens que ataquem pessoas conhecidas do público.", "Please note that we won’t necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===g?e=w.bt("Antes de podermos rever este Pin, precisamos ouvir o lado da pessoa que está sendo importunada. Peça que seu amigo denuncie este Pin para nós.", "Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(t)&&(e=w.bt("Analisaremos e excluiremos este Pin caso viole nossas políticas.", "We’ll take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));var n=w.nbt(["Você também pode bloquear essa pessoa.", "Você também pode bloquear essas pessoas."], z.length, "description to block people", true);return(0,p.jsxs)(r.Fragment,{children:[e&&(0,p.jsx)(d.xu,{marginBottom:8,children:(0,p.jsx)(d.xv,{children:e})}),(0,p.jsx)(d.xu,{marginBottom:8,children:(0,p.jsx)(d.xv,{children:n})}),(0,p.jsx)(d.xu,{marginBottom:8,children:z.map((function(e){var t=e.id,n=e.full_name;return(0,p.jsx)(d.XZ,{id:"blockPinner"+t,checked:Boolean(S[t]),label:(0,s.nk)(w.bt("Bloquear {{ pinnerName }}", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:n}).join(""),onChange:function(e){var n=e.checked;O(y(y({},S),{},v({},t,n)))},helperText:w.bt("Vocês não poderão enviar mensagens um ao outro ou interagir com os Pins um do outro.", "You won’t be able to send each other messages or interact with each other’s Pins.", "BlockAndUnfollow", undefined, true)},t)}))})]})}():D&&(0,p.jsx)(d.xu,{marginBottom:8,children:(0,p.jsx)(d.xv,{children:w.bt("Vocês não poderão seguir um ao outro ou interagir com os Pins um do outro.", "You won’t be able to follow each other or interact with each other’s pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,p.jsxs)(d.xu,{children:[x!==_.qb.COMPLETED&&(0,p.jsx)(d.xu,{marginBottom:8,children:(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(w.bt("Saiba mais sobre {{ linkToTopic }}", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{display:"inlineBlock",href:u.K_,underline:"hover",children:w.bt("bloqueio", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,p.jsx)(d.xu,{children:(0,p.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:R?f:function(){O(S),A(_.qb.SUBMITTED)},text:R?w.bt("Feito", "Done", "Block.Complete", undefined, true):w.bt("Bloquear", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function w(e){var t=e.flagOptions,n=e.flow,r=e.handleClose,i=e.handleNext,o=e.selectedReason,l=e.showPrimaryAction,s=e.submitButton,c=(0,a.ZP)();if(n===_.Zw.REPORT){var u;if(_.qb.PROCESSING===status||null!==(u=t.getFlagOption(o))&&void 0!==u&&u.isTerminalReason)return s;if(l)return(0,p.jsx)(d.zx,{fullWidth:!0,color:"red",disabled:void 0===o,onClick:i,text:c.bt("Avançar", "Next", "go to the next view in the report flow", undefined, true)})}else if(n===_.Zw.END)return(0,p.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:r,text:c.bt("Entendi", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}var j=n(121151);function S(e){var t=e.flow,n=e.flagReason,r=(0,a.ZP)();if(t===_.Zw.REPORT){if("attacks"===n)return(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(r.bt("Saiba mais sobre as nossas {{ linkToTopic }}", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(d.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:r.bt("Diretrizes da Comunidade", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===n)return(0,p.jsxs)("p",{children:[(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(r.bt("Saiba mais sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{target:"blank",href:u.Ms+"#sub-section-adult-content",children:(0,p.jsx)(d.xv,{inline:!0,color:"error",size:"100",children:r.bt("nossas políticas sobre nudez", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(r.bt("Saiba mais sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{target:"blank",href:u.Ms+"#sub-section-dangerous-goods-and-activities",children:(0,p.jsx)(d.xv,{inline:!0,color:"error",size:"100",children:r.bt("nossas políticas sobre conteúdo prejudicial", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(r.bt("Saiba mais sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{target:"blank",href:u.Ms+"#sub-section-violence",children:(0,p.jsx)(d.xv,{inline:!0,color:"error",size:"100",children:r.bt("nossas políticas sobre violência explícita", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===n||void 0===n)return(0,p.jsx)(d.xv,{size:"100",children:(0,s.nk)(r.bt("Saiba mais sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(d.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(d.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===n?r.bt("nossas políticas de spam", "our spam policies", "name of footer link to policy", undefined, true):r.bt("nossas políticas", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=e.arrayOfData,n=e.handleSelectReason,r=e.selectedReason,i=(0,a.ZP)();return(0,p.jsx)(d.xu,{padding:2,children:(0,p.jsx)(d.FX,{id:"flag-option-radio-group",legend:i.bt("Sinalizar legendas", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:t.map((function(e,t){var i=e.condition;return void 0===i||i?function(e,t,n,r){var i=e.text,o=e.value,a=e.category;return(0,p.jsx)(d.xu,{paddingY:2,children:(0,p.jsx)(d.FX.RadioButton,{checked:n===o,id:o,onChange:function(e){var n=e.checked;return t(n,o,a)},name:"flagReason",value:o,label:i})},r)}(e,n,r,t):null}))})})}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.configMap=function(e){var t={},n=function(n){e[n].forEach((function(e){var r=e.value;if(Object.prototype.hasOwnProperty.call(t,r))throw new Error("Duplicate key in FlagOptions config: "+r);t[r]=C(C({},e),{},{parentOption:n})}))};for(var r in e)n(r);return t}(t)}var t,n,r;return t=e,(n=[{key:"getFlagOption",value:function(e){return e?this.configMap[e]:null}},{key:"renderFlagLabels",value:function(e){var t=e.flagReason,n=e.onSelectReason,r=e.selectedReason;return(0,p.jsx)(I,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:r})}}])&&O(t.prototype,n),r&&O(t,r),e}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,e);var t,n,r,i=B(o);function o(){var e;R(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(F(e=i.call.apply(i,[this].concat(n))),"flagOptions",new E(e.props.flagOptionsConfig)),U(F(e),"renderContent",(function(){var t=e.props,n=t.content,r=t.flow,i=t.onSelectReason,o=t.selectedReason;return n||(r===_.Zw.REPORT?e.flagOptions.renderFlagLabels({flagReason:e.props.flagReason||"__default",onSelectReason:i,selectedReason:o}):r===_.Zw.END?(0,p.jsx)(d.xv,{children:e.props.i18n.bt("Usaremos seu comentário para melhorar a experiência do Pinterest.", "We’ll use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)})),e}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=e.flow,n=e.onCompletedReport,r=e.onCompletedBlock;if(this.props.flow!==t)switch(t){case _.Zw.REPORT:n&&n();break;case _.Zw.BLOCK:r&&r()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityModalLabel,r=t.flagType,i=t.flow,o=t.status,a=t.modalTitle,l=t.onClose,s=t.selectedReason,c=t.submitButton,u=t.flagReason,f=t.showPrimaryAction,h=t.users;return(0,p.jsx)(j.ZP,{accessibilityModalLabel:n,heading:a,onDismiss:l,size:"md",footer:i!==_.Zw.BLOCK?(0,p.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(d.xu,{flex:"grow",children:(0,p.jsx)(S,{flagReason:u,flow:i})}),(0,p.jsx)(d.xu,{padding:1,children:i===_.Zw.REPORT?(0,p.jsx)(d.zx,{fullWidth:!0,onClick:void 0===u?this.props.onClose:function(){var t,n;null===(t=(n=e.props).onRevert)||void 0===t||t.call(n)},text:void 0===u?this.props.i18n.bt("Cancelar", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("Voltar", "Back", "previous step in a form", undefined, true)}):null}),(0,p.jsx)(d.xu,{padding:1,children:(0,p.jsx)(w,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:function(){var t,n;null===(t=(n=e.props).onNext)||void 0===t||t.call(n)},selectedReason:s,showPrimaryAction:!!f,submitButton:c})})]}):void 0,children:(0,p.jsx)(d.xu,{children:i===_.Zw.BLOCK?(0,p.jsx)(P,{flagReason:u,flagType:r,onClose:l,selectedReason:s,status:o,users:h}):this.renderContent()})})}}])&&Z(t.prototype,n),r&&Z(t,r),o}(r.Component);function V(e){var t=(0,a.ZP)();return(0,p.jsx)(H,z(z({},e),{},{i18n:t}))}},129274:function(e,t,n){"use strict";n.d(t,{N:function(){return p},d:function(){return d}});var r=n(76911),i=n(425288),o=n(174798),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,i.Z)("Flag"),u=c.Provider,d=c.useHook,p=function(e){var t=e.children,n=l((0,r.useState)(),2),i=n[0],s=n[1],c=l((0,r.useState)(o.Zw.REPORT),2),d=c[0],p=c[1],f=l((0,r.useState)(o.qb.STARTED),2),h=f[0],m=f[1],_=l((0,r.useState)(),2),g=_[0],y=_[1],v=l((0,r.useState)(),2),b=v[0],x=v[1],P=(0,r.useMemo)((function(){return{flagReason:b,flow:d,status:h,selectedReason:g,modalTitle:i,setFlagReason:x,setFlow:p,setModalTitle:s,setStatus:m,setSelectedReason:y}}),[i,d,h,g,b]);return(0,a.jsx)(u,{value:P,children:t})}},428837:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),i=n(506979),o=n(794230),a=n(155582),l=n(898781),s=n(966113),c=n(600147),u=n(129274),d=n(908390),p=n(174798),f=n(515198);function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="policies";function v(e){var t=e.aggregatedPinDataId,n=e.didItDataId,_=e.onClose,g=e.pinId,v=e.username,b=e.users,x=(0,l.ZP)(),P=m((0,r.useState)([]),2),w=P[0],j=P[1],S=m((0,r.useState)(),2),O=S[0],k=S[1],C=m((0,r.useState)(),2),A=C[0],I=C[1],E=(0,i.useDispatch)(),T=(0,u.d)(),D=T.flow,z=T.modalTitle,R=T.selectedReason,Z=T.setFlow,L=T.setModalTitle,B=T.setSelectedReason,M=T.setStatus,F=T.status;(0,r.useEffect)((function(){L(function(){if(D===p.Zw.REPORT)switch(A){case"attacks":return x.bt("O que está acontecendo?", "What's going on?", "title for report content flow", undefined, true);case y:return x.bt("O que há de errado com essa experiência?", "What's wrong with this Try?", "title for report content flow", undefined, true);case"IP":return x.bt("Propriedade intelectual", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return x.bt("O que há de errado com essa experiência?", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(D===p.Zw.END&&w.includes("notUseful"))return x.bt("Obrigado por nos avisar!", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""}())}),[w,D,A]);var N=(0,f.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:function(){if(M(p.qb.PROCESSING),"ignoreThisPin"===R)Z(p.Zw.BLOCK),M(p.qb.STARTED);else{var e=[].concat(h(w),[R]);j(e),function(e,t,n,r,i){E((0,c.Th)(e,t,n,r,i))}(t,e,n,O,v),w.includes("notUseful")?(Z(p.Zw.END),M(p.qb.STARTED)):(Z(p.Zw.BLOCK),M(p.qb.STARTED))}},text:x.bt("Denunciar conteúdo", "Report content", "button to report content", undefined, true)});return(0,f.jsx)(a.Z,{accessibilityModalLabel:x.bt("Denunciar conversa", "Report conversation", "Pin.DidIt.Report", undefined, true),content:"IP"===A?(0,f.jsx)(d.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,f.jsxs)(d.xu,{mdColumn:9,children:[(0,f.jsx)(d.xu,{padding:2,marginStart:2,children:(0,f.jsx)(d.xv,{align:"center",color:"default",weight:"bold",children:x.bt("Se você encontrou um conteúdo que acredita estar violando sua propriedade intelectual, pode preencher nosso formulário de reclamação relacionada a direitos autorais.", "If you’ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,f.jsx)(d.xu,{padding:2,children:(0,f.jsx)(d.zx,{role:"link",href:(0,o.Z)(s.GE,{pin_id:g,user_did_it_id:n}),color:"red",text:x.bt("Envie uma reclamação", "File a report", "link to DMCA form", undefined, true),target:"blank"})})]})}):null,flagType:p.Vm.DID_IT,flow:D,modalTitle:z,onClose:_(!0),onNext:function(){I(R),j([].concat(h(w),[R])),B()},onRevert:function(){var e=w[w.length-1],t=w.slice(0,-1);B(e),I(t[t.length-1]),j(t),k(),M(void 0===e?p.qb.STARTED:p.qb.SELECTED)},onSelectReason:function(e,t,n){e&&(B(t),M(p.qb.SELECTED),k(n))},showPrimaryAction:"IP"!==A,submitButton:N,status:F,selectedReason:R,flagReason:A,users:b,flagOptionsConfig:{__default:[{text:x.bt("Não é útil ou relevante", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:x.bt("Não deveria estar no Pinterest", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:y,isTerminalReason:!1},{text:x.bt("É spam", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:x.bt("É minha propriedade intelectual", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:x.bt("Apresenta conteúdo sexualmente explícito", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:x.bt("Apresenta conteúdo de autoagressão", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:x.bt("Apresenta discurso de ódio", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:x.bt("Faz assédio ou bullying", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:x.bt("Apresenta conteúdo de violência explícita", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:x.bt("É uma foto de mim ou do meu filho", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:x.bt("Identifica e ataca a mim ou alguém que conheço", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:x.bt("Outro", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},174798:function(e,t,n){"use strict";n.d(t,{Vm:function(){return o},Zw:function(){return r},qb:function(){return i}});var r={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},o={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},238464:function(e,t,n){"use strict";n.d(t,{Z:function(){return te}});var r=n(76911),i=n(704115),o=n(926749),a=n(985271),l=n(944546),s=n(366284),c=n(224496),u=n(965900),d=n(226347),p=n(172071),f=n(247371),h=n(407043),m=n(773285),_=n(898781),g=n(946984),y=n(908390),v=n(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={overlay:{__style:{backgroundColor:"#000"}}},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,i=O(o);function o(){var e;w(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(C(e=i.call.apply(i,[this].concat(n))),"handleRestartVideo",(function(t){var n=t.event;n&&n.stopPropagation&&n.stopPropagation();var r=e.props.onRestartVideo;r&&r({event:n}),p.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),I(C(e),"handleShareVideo",(function(){var t=e.props,n=t.onToggleFlyout,r=t.isFlyoutOpen,i=t.pinId,o=t.requireAuth,a=t.logContextEvent;r&&p.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),a({event_type:101,component:179,object_id_str:i,view_type:3,view_parameter:156,element:11731}),o?o():n&&n()})),I(C(e),"handleExternalSend",(function(){p.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),I(C(e),"renderReplayButton",(function(){return(0,v.jsx)(y.iP,{onTap:e.handleRestartVideo,rounding:2,children:(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,v.jsx)(y.hU,{accessibilityLabel:e.props.i18n.bt("Assistir novamente", "Watch again", "Button when pressed restarts the video", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,v.jsx)(y.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n.bt("Assistir novamente", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})})),I(C(e),"renderShareButton",(function(){var t=e.props,n=t.gridDescription,r=t.imageSrc,i=t.isFlyoutOpen,o=t.onFlyoutDismiss,a=t.pinId;return(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,v.jsx)(f.default,{buttonType:"icon",gridDescription:n,imageSrc:r,isFlyoutOpen:i,onExternalSend:e.handleExternalSend,onFlyoutDismiss:o,onToggleFlyout:e.handleShareVideo,pinId:a,sendType:"pin",shownWithinMasonry:!0,iconOnly:!0,iconColor:"white",element:72,component:179,viewType:3}),(0,v.jsx)(y.xu,{children:(0,v.jsx)(y.iP,{onTap:e.handleShareVideo,rounding:2,children:(0,v.jsx)(y.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n.bt("Enviar", "Send", "end.video.send.icon.label", undefined, true)})})})]})})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.pinId,n=e.logContextEvent;p.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),n({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731})}},{key:"render",value:function(){var e=this.props,t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,i=e.pinTitle;return(0,v.jsx)(y.xu,{children:(0,v.jsxs)(y.Ee,{alt:i||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,v.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:E.overlay}),(0,v.jsx)(y.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,v.jsxs)(y.xu,{position:"absolute",children:[(0,v.jsx)(y.xu,{children:this.renderShareButton()}),(0,v.jsx)(y.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}])&&j(t.prototype,n),r&&j(t,r),o}(r.PureComponent);function D(e){var t=(0,h.v)().logContextEvent,n=(0,_.ZP)(),r=(0,g.Z)();return(0,v.jsx)(T,P(P({},e),{},{i18n:n,requireAuth:r,logContextEvent:t}))}var z=function(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,i=e.onRestartVideo,o=e.pinTitle,a=(0,_.ZP)(),l=(0,(0,m.F)().checkExperiment)("closeup_video_scrubber_dweb").anyEnabled,s=a.bt("Repetir", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),c=a.bt("Repetir", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true);return(0,v.jsx)(y.xu,{children:(0,v.jsxs)(y.Ee,{alt:o||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,v.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:E.overlay}),(0,v.jsx)(y.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,v.jsx)(y.xu,{children:(0,v.jsx)(y.iP,{onTap:i,rounding:2,children:(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,v.jsx)(y.hU,{accessibilityLabel:l?s:a.bt("Assistir novamente", "Watch again", "Button when pressed restarts the video", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,v.jsx)(y.X6,{color:"light",overflow:"normal",size:"400",children:l?c:a.bt("Assistir novamente", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})})})]})})},R=n(82314),Z=n(276602),L=n(780280),B=n(47168);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var i=Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){return!!e&&e.endsWith(".gif")},J=function(e){return e&&document.querySelector('video[poster="'.concat(e,'"]'))||null},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(u,e);var t,n,r,i=K(u);function u(){var e;V(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(X(e=i.call.apply(i,[this].concat(n))),"state",{controls:"always"===e.props.showControls&&!e.props.disabled,fullscreen:!1,playing:!(0,s.G6)(e.props.requestContext.userAgent.browserName)&&(!!e.props.autoplay&&!e.props.disabled),ready:!1,seeking:!1,showEndCard:!1,volume:e.props.muted?0:1,videoStartTime:e.props.videoStartTime||0}),$(X(e),"setVideoPwtLoadingStop",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.Z){var n=e.props,r=n.storyPinStepStopwatch,i=n.pinId,o=n.pwtSurfaceContext;r&&(t||r.addAnnotation("video.startup.end"),r.addBinaryAnnotation("pin.id",i,"STRING"),r.addBinaryAnnotation("video",!0,"BOOL"),r.addBinaryAnnotation("preload",t,"BOOL"),r.addSubspan({name:"perceived_video_load",endTime:a.Z.now()}),r.stop()),o&&(t||o.addAnnotation("video.startup.end"),o.addBinaryAnnotation("pin.id",i,"STRING"),o.addBinaryAnnotation("video",!0,"BOOL"),o.markConstraintComplete(R._z),o.addSubspan("perceived_video_load",null,a.Z.now()),o.metricId.segment===R.zc&&o.removeConstraint(R.pM))}})),$(X(e),"componentDidMount",(function(){var t=e.props,n=t.customThumbnail,r=t.video,i=t.preferMp4,o=r.mp4,a=r.hlsv3||r.hls||null,l=(i&&o||a||{}).thumbnail,s=J(n||l);4===(null==s?void 0:s.ready)&&(e.setState({ready:!0}),e.props.autoplay&&e.setVideoPwtLoadingStop(!0))})),$(X(e),"componentDidUpdate",(function(t,n){e.props.videoStartTime&&e.props.videoStartTime!==t.videoStartTime&&e.setState({videoStartTime:e.props.videoStartTime}),!1===t.isPlaying&&e.props.isPlaying&&e.setState({playing:!0,controls:"never"!==e.props.showControls}),t.isPlaying&&!1===e.props.isPlaying&&e.setState({playing:!1}),t.autoplay!==e.props.autoplay&&(e.setState({playing:!!e.props.autoplay}),e.props.autoplay&&e.state.ready&&e.setVideoPwtLoadingStop(!0)),t.muted!==e.props.muted&&e.setState({volume:e.props.muted?0:1}),"never"===e.props.showControls&&n.controls&&e.setState({controls:!1}),(n.controls||n.playing)&&e.props.disabled&&e.setState({playing:!1,controls:!1}),!n.playing&&e.state.playing&&e.props.onPlay&&e.props.onPlay()})),$(X(e),"handleTouch",(function(){var t=e.state.seeking,n=e.props.disabled;t||n||e.setState((function(e){return{playing:!e.playing}}))})),$(X(e),"handleShowControls",(function(){return e.setState({controls:!0})})),$(X(e),"handleHideControls",(function(){return e.setState({controls:!1})})),$(X(e),"handleReady",(function(){var t=e.state,n=t.ready,r=t.playing,i=e.props,o=i.autoplay,a=i.disabled;o&&!n&&e.setVideoPwtLoadingStop(),e.setState({ready:!0}),(0,s.G6)(e.props.requestContext.userAgent.browserName)&&!r&&o&&!a&&e.setState({playing:!0})})),$(X(e),"handleEnded",(function(t){var n=t.event,r=e.props,i=r.customThumbnail,o=r.customEndCard,a=r.pinId,l=r.setCurrentVideo,s=r.loop,c=r.onEnded;n.stopPropagation(),s||(e.setState({playing:!1}),Q(i)||o||(e.setState({showEndCard:!0,videoStartTime:0}),l({pinId:a,isPromoted:!1,currentTime:0})),e.state.fullscreen&&e.exitFullscreen()),c&&c()})),$(X(e),"handlePause",(function(t){t.event.stopPropagation(),e.setState({playing:!1})})),$(X(e),"handlePlay",(function(t){t.event.stopPropagation(),e.setState({playing:!0})})),$(X(e),"handleFullscreenChange",(function(t){var n=t.event,r=t.fullscreen;n.stopPropagation(),e.setState({fullscreen:r})})),$(X(e),"handlePlayheadDown",(function(t){t.event;e.setState({seeking:!0})})),$(X(e),"handlePlayheadUp",(function(t){t.event;setTimeout((function(){e.setState({seeking:!1})}),500)})),$(X(e),"handleRestartVideo",(function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})})),$(X(e),"handleShareRestartVideo",(function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})})),$(X(e),"handleVolumeChange",(function(t){var n=t.event,r=t.volume;n.stopPropagation(),e.setState({volume:r})})),$(X(e),"exitFullscreen",(function(){var e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),$(X(e),"renderCloseupVideoEndCard",(function(t,n,r,i){var o={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleShareRestartVideo},a={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleRestartVideo},l=e.props.flyoutShareProps,s={gridDescription:l?l.gridDescription:"",imageSrc:l?l.imageSrc:"",isFlyoutOpen:!!l&&l.isFlyoutOpen,onFlyoutDismiss:l?l.onFlyoutDismiss:function(){},onToggleFlyout:l?l.onToggleFlyout:function(){},pinId:l?l.pinId:""};return i?(0,v.jsx)(z,H({},a)):(0,v.jsx)(D,H(H({},s),o))})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.autoplay,n=e.closeupStoryPinViewability,r=e.contextLogData,i=void 0===r?{component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156}:r,a=e.customThumbnail,u=e.isPromoted,d=e.loop,p=e.onTimeChange,f=e.objectFit,h=e.preferMp4,m=e.preload,_=e.requestContext,g=e.roundingOverride,b=e.showControls,x=e.variant,P=e.video;i.is_closeup_video=!0;var w=this.state,j=w.controls,S=w.fullscreen,O=w.playing,k=w.showEndCard,C=w.volume,A=w.videoStartTime,I=P.hlsv3||P.hls||null;if(!I&&!P.mp4)return null;var E,T=P.mp4,D=h&&T&&T.url||I&&[{type:"video/m3u8",src:I.url}]||void 0,z=h&&T||I||{},R=z.height,Z=z.thumbnail,L=z.width,B=a||Z;return E=null!=g?g:"default"===x?0:"storyPin"===x?c.yR:2,(0,v.jsx)(y.zd,{willChangeTransform:!((0,s.G6)(_.userAgent.browserName)&&S),rounding:E,wash:!0,children:k?this.renderCloseupVideoEndCard(null!=B?B:"",null!=R?R:1,null!=L?L:1,u):(0,v.jsx)(y.iP,{accessibilityLabel:this.props.i18n.bt("Pausar ou reproduzir o vídeo", "Pause or play video", "pin.closeup.video.tap", undefined, true),onMouseEnter:"hover"===b?this.handleShowControls:void 0,onMouseLeave:"hover"===b?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,v.jsx)(o.ZP,{contextLogData:H(H({},i),{},{video_id:this.props.video.id}),accessibilityMaximizeLabel:this.props.i18n.bt("Maximizar", "Maximize", "Maximize button on video", undefined, true),accessibilityMinimizeLabel:this.props.i18n.bt("Minimizar", "Minimize", "Minimize button on video", undefined, true),accessibilityMuteLabel:this.props.i18n.bt("Silenciar", "Mute", "Mute button on video", undefined, true),accessibilityPauseLabel:this.props.i18n.bt("Pausar", "Pause", "Pause button on video", undefined, true),accessibilityPlayLabel:this.props.i18n.bt("Reproduzir", "Play", "Play button on video", undefined, true),accessibilityProgressBarLabel:this.props.i18n.bt("Barra de progresso", "Progress bar", "CloseupVideo.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:this.props.i18n.bt("Reativar", "Unmute", "Unmute button on video", undefined, true),aspectRatio:(null!=L?L:1)/(null!=R?R:1),closeupStoryPinViewability:n,captions:"",controls:j,hlsConfig:{startLevel:l.VS},isAutoPlay:!!t,objectFit:f,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:p,onVolumeChange:this.handleVolumeChange,preferMp4:h,playing:O,onPlay:function(){},onPlayError:function(){},preload:m,poster:B,src:D,videoStartTime:A,volume:C,loop:d})})})}}])&&W(t.prototype,n),r&&W(t,r),u}(r.Component);function te(e){var t=(0,_.ZP)(),n=(0,L.B)(),o=(0,B.g)(),a=(0,Z.EV)(),l=(0,d.Hx)().seekTime,s=e.pinId,c=e.isPromoted,p=(0,u.I)(),f=p.appUI,h=p.setCurrentVideo,m=f.videosAutoplaying,g=m.organicVideosAutoplaying,y=m.promotedVideosAutoplaying,b=c?y[s]:g[s],x=(0,i.Z)(),P=parseInt(x.t||0,10),w=F((0,r.useState)((null==b?void 0:b.currentTime)||0),2),j=w[0],S=w[1];return(0,r.useEffect)((function(){var e=j;P>0&&(e=P),l&&l>=0&&(e=l),S(e)}),[l,P,j]),(0,v.jsx)(ee,H(H({},e),{},{i18n:t,isPlaying:!b||!b.paused,pwtSurfaceContext:a,requestContext:n,setCurrentVideo:h,storyPinStepStopwatch:o,videoStartTime:j}))}$(ee,"defaultProps",{loop:!1,showControls:"hover"})},483205:function(e,t,n){"use strict";n.d(t,{Nv:function(){return i},RZ:function(){return o},b9:function(){return r}});var r=36,i=44,o=446},77601:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function i(e){var t=e.window,n=e.duration,i=e.run,o=r(),a=0,l=null,s=function e(){var s=r()-o,c=s-a;if(n===1/0)i(0,s,c);else{var u=s/n;if(u>=1)return void i(1,s,c);i(u,s,c)}a=s,l=t.requestAnimationFrame(e)};return{start:function(){l=t.requestAnimationFrame(s)},cancel:function(){l&&(t.cancelAnimationFrame(l),l=null)}}}},100183:function(e,t,n){"use strict";n.d(t,{CC:function(){return r},Ll:function(){return o},XF:function(){return i}});var r=function(e,t){return function(e,t,n){return{x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}}(t/2,e/2,2*Math.random()*Math.PI)},i=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},o=function(e){return["@-webkit-keyframes","@keyframes"].map((function(t){return e.map((function(e){return t+" "+e})).join("\n")})).join("\n")}},326884:function(e,t,n){"use strict";n.d(t,{Hg:function(){return g},Hl:function(){return f},IR:function(){return d},Q6:function(){return s},QE:function(){return r},UG:function(){return l},V3:function(){return _},Z4:function(){return u},c7:function(){return p},cU:function(){return a},cg:function(){return i},dZ:function(){return o},gO:function(){return h},j$:function(){return m},tP:function(){return y},uE:function(){return c},we:function(){return v}});var r=3e3,i=342,o=500,a=1e4,l=500,s={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PEOPLE_INVITES:"PEOPLE_INVITES",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PARTNERS_REQUEST_PAGE:"PARTNERS_REQUEST_PAGE",PARTNERS_INVITE_PAGE:"PARTNERS_INVITE_PAGE",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",SUPPORT_TOOL:"SUPPORT_TOOL",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT"},c={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},u={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},d={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},p={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER"},f={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},h={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},m=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],_={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},g=["PROFILE_PUBLISHER"],y={AD_ACCOUNT:0,PROFILE:2},v={id:"0",is_pin_support_user:!0,biz_roles:[_.BIZ_ADMIN],business_roles:[_.BIZ_ADMIN],user:{username:"psupport",full_name:"Pinterest support",image_small_url:"https://i.pinimg.com/60x60_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",image_medium_url:"https://i.pinimg.com/150x150_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg"}}},306775:function(e,t,n){"use strict";n.d(t,{Fl:function(){return u},GG:function(){return d},Pw:function(){return f},dl:function(){return s},k3:function(){return h},su:function(){return m},tW:function(){return p}});var r=n(954571),i=n(411938),o=n(826067),a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],l=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],s=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],c=["US","CA","JP","AR","CL","CO"],u=function(e,t){return l.includes(e.toUpperCase())?t.experimentsClient.checkExperiment("advertiser_growth_qp_expansion").anyEnabled:a.includes(e.toUpperCase())},d=function(e){return!!e&&c.includes(e.toUpperCase())},p=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),f=function(e){e.requestContext;!function(e,t){var n=(0,o.ru)("/business/convert",{next:t});e.push(n)}(e.history,function(e){return e?"/business/ad_create?pinId=".concat(e):"/business/ad_create"}(e.pinId))},h=function(e){var t=e.trim().split(" ").filter((function(e){return!!e}));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},m=function(e){return e.isAuth&&!e.isPartner&&!(0,i.Z)(null,e)&&!(0,r.Z)(e.createdAt)}},37620:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(898781),i=n(908390),o=n(515198),a=function(e){var t=e.size,n=void 0===t?24:t,a=(0,r.ZP)();return(0,o.jsx)(i.JO,{color:"inverse",accessibilityLabel:a.bt("Ícone de chamada para a criação de versões", "Call To Create Takes icon", "calltocreate.icon.takes_arrow", undefined, true),icon:void 0,size:n,dangerouslySetSvgPath:{__path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM16.995 16.9999C17.55 16.9999 18 16.555 18 16C18 12.82 15.41 10.235 12.225 10.235H9.86L11.39 8.70996C11.78 8.31996 11.78 7.68497 11.39 7.29497C10.995 6.90497 10.36 6.90497 9.97 7.29497L6 11.26L9.975 15.225C10.37 15.615 11.005 15.615 11.395 15.225C11.785 14.835 11.785 14.2 11.395 13.81L9.825 12.2449H12.225C14.3 12.2449 15.99 13.93 15.99 16C15.99 16.5499 16.44 16.9999 16.995 16.9999Z"}})};function l(e){var t=e.images,n=e.height,r=void 0===n?48:n,l=e.gap,s=void 0===l?4:l,c=e.responseCount,u=e.isResponse,d=t.slice(0,3).reverse(),p=d.length;if(p<1)return null;var f=Math.round(.55*r),h=f+(p-1)*s;return(0,o.jsxs)(i.xu,{width:"".concat(h,"px"),children:[(0,o.jsxs)(i.xu,{position:"relative",height:r,width:f,marginBottom:1,children:[d.map((function(e,t){return(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,height:r,width:f,dangerouslySetInlineStyle:{__style:{marginLeft:"".concat((p-1-t)*s,"px")}},children:(0,o.jsx)(i.zd,{rounding:2,height:r,width:f,children:(0,o.jsx)(i.Ee,{alt:"",fit:"cover",src:e,naturalHeight:1,naturalWidth:1})})},t)})),u&&(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,marginStart:-1,marginTop:-1,color:"selected",rounding:"circle",children:(0,o.jsx)(a,{size:16})})]}),!u&&!!c&&(0,o.jsx)(i.xv,{color:"inverse",size:"200",align:"center",children:c})]})}},852782:function(e,t,n){"use strict";n.d(t,{Z:function(){return ke}});var r=n(76911),i=n(506979),o=n(737849),a=n(116303),l=n(898781),s=n(908390),c=n(515198),u=function(e){var t=e.isQuestion,n=e.name,r=e.size,i=e.src,o=(0,l.ZP)();return(0,c.jsxs)(s.xu,{position:"relative",children:[(0,c.jsx)(a.Z,{size:r,src:i,name:n}),t&&(0,c.jsxs)(s.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(s.xu,{position:"absolute",children:(0,c.jsx)(s.JO,{icon:"speech",color:"dark",accessibilityLabel:o.bt("Comentário sobre perguntas e respostas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})}),(0,c.jsx)(s.xu,{position:"absolute",children:(0,c.jsx)(s.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:o.bt("Comentário sobre perguntas e respostas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})})]})]})},d=function(e){var t=e.color,n=e.isMarkedHelpful,r=(0,l.ZP)();return(0,c.jsx)(s.JO,{color:n?"brandPrimary":t,accessibilityLabel:r.bt("Útil", "Helpful", "comment.button.helpful", undefined, true),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})},p=n(223815),f=n(499128),h=n(28754),m=n(717615),_=n(845772),g=n(19121),y=n(541776),v=n(550393),b=n(600147),x=n(422946),P=n(139405),w=n(407043),j=n(773285),S=n(116674),O=n(343341),k=n(231947);function C(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.aggregatedPinDataId,n=e.anchor,o=e.closeupAttributionId,a=e.comment,u=e.dismiss,d=e.isOpen,I=e.isReply,E=e.onEdit,T=e.onReportTry,D=e.onShowBlockUserModal,z=e.parentId,R=e.pinnerId,Z=e.pinId,L=(0,l.ZP)(),B=(0,i.useDispatch)(),M=(0,w.v)().logContextEvent,F=(0,O.F9)().showToast,N=(0,j.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,U=(0,P.nf)().toggleAggregatedCommentHighlight,H=(0,h.Z)(),V=A((0,r.useState)(!1),2),W=V[0],G=V[1];(0,r.useEffect)((function(){G(d)}),[d,G]);var K=(0,g.Z)(),q=(0,m.Z)(),X=(0,_.Z)(),Y=(0,S.f)().reportComment,$=null!=o?o:"",Q=a.user.id,J=K.isAuth&&$===K.id,ee=(0,k.q6)(K,null!=R?R:"",N?q:{}),te=(0,k.D3)(K,Q,N?q:{}),ne=(0,k.D3)(K,$,N?q:{}),re=K.isAuth&&(a.tagged_users||[]).filter((function(e){return e.id===K.id})).length>0,ie=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U({aggregatedCommentId:a.id,pinId:Z,isHighlighted:t});case 3:M({event_type:101,component:13712,element:t?12475:12474,view_type:220,aux_data:{creator_id:Q}}),F((function(e){var n=e.hideToast;return(0,c.jsx)(f.ZP,{primaryAction:{accessibilityLabel:L.bt("Desfazer destaque do comentário ou remoção de destaque do comentário", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:L.bt("Desfazer", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:function(){U({aggregatedCommentId:a.id,pinId:Z,isHighlighted:!t})}},onHide:n,text:t?L.bt("Destaque removido", "Highlight removed", "unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast", undefined, true):L.bt("Comentário destacado", "Comment highlighted", "unifiedComment.unifiedCommentContainer.commentHighlightToast", undefined, true)})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message&&F((function(t){var n=t.hideToast;return(0,c.jsx)(f.ZP,{onHide:n,text:e.t0.message,variant:"error"})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,l,"next",e)}function l(e){C(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),oe=function(e){return function(){ie(e)}},ae=function(e){return function(){e(),u()}};if(!d)return null;var le={highlight:L.bt("Destacar", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:L.bt("Remover destaque", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:L.bt("Editar", "Edit", "Edit a community post or comment", undefined, true),delete:L.bt("Excluir", "Delete", "Delete a community post or comment", undefined, true),reportContent:L.bt("Denunciar este conteúdo", "Report this content", "Report a community post or comment", undefined, true),removeMention:L.bt("Remover @menção", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),blockUser:L.bt("Bloquear usuário", "Block user", "closeup.activityItem.blockUser", undefined, true)},se=new s.Ry(1);return(0,c.jsx)(r.Fragment,{children:W&&(0,c.jsx)(p.Z,{children:(0,c.jsxs)(s.Lt,{id:"comment-overflow-popover",anchor:n,idealDirection:"down",onDismiss:u,isWithinFixedContainer:!1,zIndex:se,children:[!I&&J&&!a.highlighted_by_pin_owner&&(0,c.jsx)(s.Lt.Item,{onSelect:ae(oe(!1)),option:{label:le.highlight,value:le.highlight},dataTestId:"dropdown-item-highlight"}),!I&&J&&a.highlighted_by_pin_owner&&(0,c.jsx)(s.Lt.Item,{onSelect:ae(oe(!0)),option:{label:le.removeHighlight,value:le.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),te&&(0,c.jsx)(s.Lt.Item,{onSelect:ae(E),option:{label:le.edit,value:le.edit},dataTestId:"dropdown-item-edit"}),(te||ne)&&(0,c.jsx)(s.Lt.Item,{onSelect:ae((function(){"aggregatedcomment"===a.type?H({aggregatedCommentId:a.id,aggregatedPinId:null!=t?t:"",feedType:I?"aggregatedComments":x.DV.UNIFIED_COMMENTS,orbacSubjectId:X,parentId:z,type:I?y.Rv.REPLY_TO_AGGREGATED:y.Rv.TOP,updateParentCommentCount:!0}):B((0,b.lg)({aggregatedPinDataId:null!=t?t:"",feedType:x.DV.UNIFIED_COMMENTS,id:a.id,isOwnedByMe:!0,pinId:null!=Z?Z:"",username:a.user.username,updateParentDidItCount:!0}))})),option:{label:le.delete,value:le.delete},dataTestId:"dropdown-item-delete"}),!te&&!ee&&(0,c.jsx)(s.Lt.Item,{onSelect:ae((function(){"aggregatedcomment"===a.type?Y(a.id,null,null):"userdiditdata"===a.type&&T()})),option:{label:le.reportContent,value:le.reportContent},dataTestId:"dropdown-item-report"}),re&&(0,c.jsx)(s.Lt.Item,{onSelect:ae((function(){B((0,v.Q)(a.id)),F((function(e){var t=e.hideToast;return(0,c.jsx)(f.ZP,{onHide:t,text:L.bt("A @menção foi removida.", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)})}))})),option:{label:le.removeMention,value:le.removeMention},dataTestId:"dropdown-item-remove-mention"}),!te&&(0,c.jsx)(s.Lt.Item,{onSelect:ae((function(){G(!1),D()})),option:{label:le.blockUser,value:le.blockUser},dataTestId:"dropdown-item-block-user"})]})})})},T=n(852544),D=n.n(T),z=n(240291),R=n.n(z);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:"url(".concat(D(),")")},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:"url(".concat(R(),")")}},M=function(e){var t=e.setHelpful,n=e.setLoved,i=(0,l.ZP)(),o=Z((0,r.useState)(!1),2),a=o[0],u=o[1],d=Z((0,r.useState)(!1),2),p=d[0],f=d[1],h=function(e){return function(){u(e)}},m=function(e){return function(){f(e)}};return(0,c.jsxs)(s.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:B.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,c.jsx)(s.iP,{fullHeight:!0,onMouseDown:n,onMouseEnter:m(!0),onMouseLeave:m(!1),children:(0,c.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:B.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:p?3:1,position:"absolute",width:18,children:p&&(0,c.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:B.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,c.jsx)(s.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:i.bt("Amei", "Love", "comment.button.loved", undefined, true)})})})}),(0,c.jsx)(s.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:h(!0),onMouseLeave:h(!1),children:(0,c.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:B.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:a?3:1,position:"absolute",width:18,children:a&&(0,c.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:B.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,c.jsx)(s.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:i.bt("Útil", "Helpful", "comment.button.helpful", undefined, true)})})})})]})},F=n(347702),N=n.n(F),U=n(430467),H=n.n(U),V={helpfulStyle:{backgroundImage:"url(".concat(N(),")")},lovedStyle:{backgroundImage:"url(".concat(H(),")")}},W=function(e){var t=e.response,n=14===t.reaction_type,r=1===t.reaction_type;return(0,c.jsxs)(s.kC,{alignItems:"center",children:[(0,c.jsx)(s.iP,{role:"link",href:"/".concat(t.user.username,"/"),children:(0,c.jsxs)(s.kC,{alignItems:"center",children:[(0,c.jsx)(s.xu,{maxWidth:40,children:(0,c.jsx)(a.Z,{outline:!0,accessibilityLabel:"",name:t.user.full_name,size:"sm",src:t.user.image_medium_url})}),(0,c.jsx)(s.xu,{marginStart:2,maxWidth:80,children:(0,c.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:t.user.full_name})})]})}),(0,c.jsxs)(s.xu,{alignContent:"end",display:"flex",padding:2,children:[r&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:V.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),n&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:V.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})},G=n(784590);function K(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.full_name","user.id","user.image_medium_url","user.username"],Y=function(e){var t,n,i=e.commentId,o=e.isMarkedHelpfulByMe,a=e.isLovedByMe,l=(0,g.Z)(),u=(0,G.Z)({name:"ApiResource",options:{url:"/v3/aggregated_comments/".concat(i,"/reacted_by/"),field_sets:X}}),d=null===(t=u.data)||void 0===t?void 0:t.filter((function(e){return e.user.id!==l.id}));(a||o)&&d&&(d=[{id:i,reaction_type:a?1:14,user:{full_name:l.isAuth?l.fullName:"",id:l.isAuth?l.id:"",image_medium_url:l.isAuth?l.imageMediumUrl:"",username:l.isAuth?l.username:""}}].concat(K(d)));var p=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=p.current,t=function t(){u.isFetching||(u.isAtEnd?null==e||e.removeEventListener("scroll",t):u.fetchMore())};return null==e||e.addEventListener("scroll",t),function(){null==e||e.removeEventListener("scroll",t)}}),[u]),(0,c.jsx)(s.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:p,rounding:2,width:180,children:null===(n=d)||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(s.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,c.jsx)(W,{response:e})},e.id)}))})};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t=e.commentId,n=e.dismissReactionList,i=e.helpfulCount,o=e.isMarkedHelpfulByMe,a=e.isLovedByMe,u=e.isReactionListOpen,d=e.lovedCount,p=e.onReactionCountHover,f=e.onToggleHelpful,h=e.onToggleLove,m=(0,l.ZP)(),_=(0,r.useRef)(),g=$((0,r.useState)(!1),2),y=g[0],v=g[1],b=(d||0)+(i||0);o&&a&&(b-=1);var x=function(e){return function(){v(e)}},P=y?(0,c.jsx)(s.iP,{onMouseLeave:x(!1),onMouseDown:x(!1),children:(0,c.jsx)(M,{setHelpful:f(!0),setLoved:h(!0)})}):(0,c.jsx)(s.iP,{onMouseEnter:x(!0),children:(0,c.jsx)(s.JO,{accessibilityLabel:m.bt("Reagir", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})});return(0,c.jsxs)(s.kC,{alignItems:"center",gap:{row:1,column:0},children:[o||a?(0,c.jsx)(s.iP,{onMouseDown:function(){f(!1)(),h(!1)()},children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(a?H():N(),")")}},"data-test-id":a?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):P,b>0&&(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(s.iP,{onMouseEnter:p,children:(0,c.jsx)(s.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:_,children:(0,c.jsx)(s.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:b})})}),u&&(0,c.jsx)(s.mh,{children:(0,c.jsx)(s.J2,{anchor:_.current,idealDirection:"down",onDismiss:n,positionRelativeToAnchor:!1,children:(0,c.jsx)(Y,{commentId:t,isMarkedHelpfulByMe:o,isLovedByMe:a})})})]})]})},ee=n(428837),te=n(486553),ne=n(349700);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e){var t=e.featuredCommentId,n=e.parentId,o=e.parentType,a=e.isDesktop,u=e.isLoading,d=e.isReadOnly,p=e.openOverflowMenu,f=e.replyingToCommentId,h=e.toggleHelpful,m=e.toggleLike,_=e.toggleReplyComposer,g=e.isORBACProfileManager,y=e.isVideo,v=e.storyPinDataId,b=e.pinId,w=e.closeupAttributionId,j=e.aggregatedPinDataId,S=e.closeupAttributionUsername,O=e.pinnerId,k=e.reactionListCommentId,C=e.showReactionListForComment,A=(0,l.ZP)(),I=(0,P.lV)(),E=(0,i.useSelector)((function(e){return(e.feeds["".concat(x.DV.AGGREGATED_COMMENT_REPLIES,":").concat(n)]||[]).reduce((function(e,t){var n=t.id,r=I[n];return r&&e.push(r),e}),[])})),T=re((0,r.useState)(1),2),D=T[0],z=T[1],R=D===E.length;return(0,c.jsxs)(r.Fragment,{children:[E.length>1&&(0,c.jsx)(s.iP,{onTap:function(){z(R?0:E.length)},children:(0,c.jsxs)(s.xu,{marginBottom:4,children:[(0,c.jsx)(s.xu,{display:"inlineBlock",marginEnd:2,children:(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}),(0,c.jsx)(s.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:R?A.bt("Ocultar respostas", "Hide replies", "comment.button.hideReplies", undefined, true):(0,ne.nk)(A.nbt(["Ver {{ commentCount }} resposta", "Ver {{ commentCount }} respostas"], E.length, "comment.button.showReplies", true),{commentCount:E.length})})]})}),(0,c.jsx)(ke,{comments:E.slice(0,D),featuredCommentId:t,gapSize:2,isDesktop:a,isLoading:u,isReadOnly:d,openOverflowMenu:p,toggleReplyComposer:_,parentId:n,parentType:o,replyingToCommentId:f,toggleHelpful:h,toggleLike:m,userAvatarSize:"sm",isORBACProfileManager:g,isVideo:y,storyPinDataId:v,pinId:b,closeupAttributionId:w,aggregatedPinDataId:j,closeupAttributionUsername:S,pinnerId:O,showReactionListForComment:C,reactionListCommentId:k})]})}var ae=function(e){var t=e.tags,n=e.taggedUsers,r=e.text,i=function(e,t){return(0,c.jsx)(s.xv,{inline:!0,overflow:"normal",children:e},t)};return(0,c.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:function(){if(!t.length||!n||t.length!==n.length)return i(r,"1");var e=0,o=[];return t.forEach((function(t,a){var l=r.substring(e,t.offset);e=t.offset+t.length;var u=r.substring(t.offset,e);o=o.concat(i(l,"".concat(a,"a"))).concat(function(e,t,r,i){return(0,c.jsx)(s.xv,{color:e,inline:!0,weight:"bold",overflow:"normal",children:(0,c.jsx)(s.rU,{href:"/".concat(n[r].username),display:"inlineBlock",underline:"hover",children:t})},i)}(t.color,u,a,"".concat(a,"b")))})),o=o.concat(i(r.substring(e),"2")),(0,c.jsx)(s.xv,{inline:!0,overflow:"normal",children:o})}()})},le=n(964569),se=n(90326),ce=n(664569),ue=n(129274),de=n(379725),pe=n(550398),fe=n(94089),he=n(162379),me=n(584595);function _e(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_e(o,r,i,a,l,"next",e)}function l(e){_e(o,r,i,a,l,"throw",e)}a(void 0)}))}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e){var t,n,a,p,h,_=e.aggregatedPinDataId,y=e.closeupAttributionId,v=e.closeupAttributionUsername,b=e.comment,x=e.featuredCommentId,S=e.isDesktop,C=e.isReadOnly,A=e.isVideo,I=e.openOverflowMenu,T=e.toggleReplyComposer,D=e.parentId,z=e.parentType,R=void 0===z?ce.o.pin:z,Z=e.pinId,L=e.storyPinDataId,B=e.replyingToCommentId,M=e.showReactionListForComment,F=e.toggleHelpful,N=e.toggleLike,U=e.userAvatarSize,H=e.isORBACProfileManager,V=e.pinnerId,W=e.reactionListCommentId,G=b.user,K=G.id,q=G.first_name,X=G.id,Y=G.image_medium_url,$=G.username,Q=b.id,re=b.comment_count,ie=b.helpful_count,_e=b.tags,ve=!1,xe=0,we=!1,je=!!b.marked_helpful_by_me,Se=!C,Oe=[b.user],ke="",Ce=0;"aggregatedcomment"===b.type?(ve=b.highlighted_by_pin_owner,xe=b.reaction_counts[1],we=b.reaction_by_me>0,Oe.push.apply(Oe,Pe(b.tagged_users)),ke="".concat($," ").concat(b.text),Ce=new Date-new Date(b.created_at)):(h=(b.images[0]||{})["150x150"],ke="".concat($," ").concat(b.details),Ce=new Date-new Date(b.done_at));var Ae=(0,l.ZP)(),Ie=(0,w.v)().logContextEvent,Ee=(0,j.F)().checkExperiment,Te=(0,O.F9)().showToast,De=(0,i.useDispatch)(),ze=(0,r.useRef)(),Re=Ee("web_m10n_business_access_orbac_ga").anyEnabled,Ze=1===b.comment_tag,Le=(0,g.Z)(),Be=(0,m.Z)(),Me=Re?(0,k.lJ)(Le,Be):"",Fe=(0,fe.G)().nativeEngagementsHiddenForUser,Ne=(0,P.nf)(),Ue=Ne.aggregatedCommentsHiddenForUser,He=Ne.updateAggregatedComment,Ve=(0,le.Z)(),We="userdiditdata"===b.type,Ge=[{offset:0,length:$.length,color:"darkGray"}].concat(Pe(_e.map((function(e){return be(be({},e),{},{offset:(e.offset||0)+$.length+1,color:"blue"})})))),Ke=ye((0,r.useState)(!1),2),qe=Ke[0],Xe=Ke[1],Ye=ye((0,r.useState)(!1),2),$e=Ye[0],Qe=Ye[1],Je=ye((0,r.useState)(!1),2),et=Je[0],tt=Je[1],nt=ye((0,r.useState)(!1),2),rt=nt[0],it=nt[1],ot=ye((0,r.useState)(!1),2),at=ot[0],lt=ot[1],st=ye((0,r.useState)(!1),2),ct=st[0],ut=st[1],dt=ye((0,r.useState)(he.A.NONE),2),pt=dt[0],ft=dt[1],ht=function(e){return function(){Qe(e)}};(0,r.useEffect)((function(){re>0&&De((0,de.U)("aggregatedcomment"===b.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:Q,redux_normalize_feed:!0}}))}),[b.type,Q]);var mt=R.toLowerCase()===ce.o.aggregatedComment.toLowerCase(),_t=function(){var e=ge(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentMarkdown,r=t.force,i=t.tags,it(!0),a=b.id,mt&&(a=D,o=b.id),!a){e.next=16;break}return e.prev=5,e.next=8,Ve({force:r,fromUnifiedComment:!0,objectType:ce.o.aggregatedComment,objectId:a,orbacSubjectId:Me,tags:i,text:n,replyToCommentId:o});case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(5),![me.ky,me.LJ].includes(e.t0.code)||!S){e.next=16;break}return ft(e.t0.code===me.ky?he.A.WARNING:he.A.BLOCK),it(!1),e.abrupt("return",!1);case 16:return T(void 0),it(!1),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=ge(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contentMarkdown,r=t.force,i=t.tags,tt(!0),e.prev=2,e.next=5,He({commentId:b.id,force:r,orbacSubjectId:Me,tags:i,text:n});case 5:e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(2),![me.ky,me.LJ].includes(e.t0.code)||!S){e.next=13;break}return ft(e.t0.code===me.ky?he.A.WARNING:he.A.BLOCK),tt(!1),e.abrupt("return",!1);case 13:return Qe(!1),tt(!1),e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),yt=function(e){return function(){Xe(e),ut(e)}},vt=function(e){return function(){lt(!e)}},bt=function(){ft(he.A.NONE)};return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(s.$j,{show:et,accessibilityLabel:"Loading comment"}),!$e&&!et&&(0,c.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(s.xu,{marginEnd:2,children:(0,c.jsx)(pe.rU,{to:"/".concat($,"/"),children:(0,c.jsx)(u,{isQuestion:Ze,name:q||$||"",size:U,src:null!=Y?Y:""})})}),(0,c.jsxs)(s.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,c.jsxs)(s.kC,{justifyContent:"between",children:[(0,c.jsx)(s.kC.Item,{minWidth:0,children:(0,c.jsxs)(s.kC,{direction:"column",children:[h&&(0,c.jsx)(s.xu,{marginTop:1,marginBottom:4,children:(0,c.jsx)(s.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,c.jsx)(s.Ee,{alt:null!==(t=h.url)&&void 0!==t?t:"",src:null!==(n=h.url)&&void 0!==n?n:"",color:"#efefef",naturalWidth:null!==(a=h.width)&&void 0!==a?a:1,naturalHeight:null!==(p=h.height)&&void 0!==p?p:1},h.url)})}),(0,c.jsx)(ae,{taggedUsers:Oe,tags:Ge,text:ke})]})}),x===Q&&(0,c.jsx)(s.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),ve&&(0,c.jsx)(s.xu,{marginTop:4,marginBottom:3,children:(0,c.jsx)(s.xv,{size:"100",children:(0,ne.nk)(Ae.bt("Destacado por @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:v})})}),Se&&(0,c.jsxs)(s.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,c.jsxs)(s.kC,{alignItems:"center",gap:{row:5,column:0},children:[(0,c.jsx)(s.xv,{color:"subtle",size:"200",children:(0,te.Z)(Ce)}),!We&&(!H||Re)&&(0,c.jsx)(s.iP,{onTap:function(){T(b,D,R)},children:(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:Ae.bt("Responder", "Reply", "comment.button.reply", undefined, true)})}),!We&&!H&&(S?(0,c.jsx)(J,{commentId:Q,dismissReactionList:function(){M(void 0)},helpfulCount:ie,isMarkedHelpfulByMe:je,isLovedByMe:we,lovedCount:xe,onReactionCountHover:function(){M(Q)},onToggleHelpful:function(e){return function(){F(Q,!e)()}},onToggleLove:function(e){return function(){N(Q,!e)()}},isReactionListOpen:W===Q}):(0,c.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,c.jsx)(s.hU,{accessibilityLabel:Ae.bt("Gostei", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:we?"red":"gray",size:"xs",onClick:N(Q,we)}),xe>0&&(0,c.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:xe})]})),!(Le.id===X&&Ze)&&(!H||Re)&&(0,c.jsx)(s.xu,{ref:ze,children:(0,c.jsx)(s.hU,{accessibilityLabel:Ae.bt("Mais", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:function(){S?Xe(!qe):I&&I(b)}})})]}),!We&&!H&&!S&&(0,c.jsx)(s.xu,{children:(0,c.jsx)(s.iP,{fullWidth:!1,onTap:F(Q,je),children:(0,c.jsxs)(s.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},children:[(0,c.jsx)(d,{color:"subtle",isMarkedHelpful:je}),(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:Ae.bt("Útil", "Helpful", "comment.button.helpful", undefined, true)}),ie>0&&(0,c.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:ie})]})})})]})]})]}),S&&(0,c.jsxs)(r.Fragment,{children:[$e&&(0,c.jsx)(s.xu,{marginTop:3,children:(0,c.jsx)(he.Z,{commentWarningModalState:pt,dismissCommentWarningModal:bt,initialText:"aggregatedcomment"===b.type?b.text:b.details,initialTags:b.tags,onAddItem:gt,onCancelItem:ht(!1),objectType:ce.o.aggregatedComment,shouldShowEmojiTrayEntryPoint:!0,statusType:"textInFlightEdit"})}),B===Q&&(0,c.jsx)(s.xu,{marginTop:3,marginStart:mt?0:12,children:(0,c.jsx)(he.Z,{commentWarningModalState:pt,dismissCommentWarningModal:bt,initialText:mt?"@".concat(b.user.username," "):"",initialTags:mt?[{offset:0,object_id:K,length:b.user.username.length+1,tag_type:1}]:[],onAddItem:_t,onCancelItem:function(){T()},objectType:ce.o.aggregatedComment,shouldShowEmojiTrayEntryPoint:!0,statusType:"textInflightCreation"})})]}),(re>0||rt)&&(0,c.jsx)(s.xu,{marginStart:12,marginTop:4,children:(0,c.jsx)(oe,{featuredCommentId:x,isDesktop:S,isLoading:rt,isReadOnly:C,parentId:Q,parentType:b.type,replyingToCommentId:B,toggleReplyComposer:T,openOverflowMenu:I,toggleHelpful:F,toggleLike:N,isORBACProfileManager:H,pinId:Z,closeupAttributionId:y,isVideo:A,storyPinDataId:L,aggregatedPinDataId:_,closeupAttributionUsername:v,pinnerId:V,showReactionListForComment:M,reactionListCommentId:W})}),S&&!C&&(0,c.jsx)(E,{anchor:ze.current,comment:b,dismiss:function(){Xe(!1)},isOpen:qe,isReply:mt,onEdit:ht(!0),onReportTry:vt(!1),onShowBlockUserModal:yt(!0),parentId:D,closeupAttributionId:y,pinnerId:V,pinId:Z,aggregatedPinDataId:_}),at&&(0,c.jsx)(ue.N,{children:(0,c.jsx)(ee.Z,{aggregatedPinDataId:_,didItDataId:Q,onClose:vt,pinId:null!=Z?Z:"",username:$,users:[b.user]})}),ct&&(0,c.jsx)(o.Z,{firstName:null!=q?q:"",onBlockUser:function(){De((0,se.Ge)(K,Me)),Ue(K),Fe(K),Ie({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:Le.isAuth?Le.id:null}}),ut(!1),Te((function(e){var t=e.hideToast;return(0,c.jsx)(f.ZP,{onHide:t,text:(0,ne.nk)(Ae.bt("Você bloqueou {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:$}).join("")})}))},onClearModal:yt(!1)})]})}var Oe=n(366428);function ke(e){var t,n=e.aggregatedPinDataId,r=e.comments,i=e.displayShowMoreButton,o=e.featuredCommentId,a=e.gapSize,u=void 0===a?6:a,d=e.isDesktop,p=e.isLoading,f=void 0!==p&&p,h=e.isReadOnly,m=e.loadMore,_=e.openOverflowMenu,g=e.toggleReplyComposer,y=e.parentId,v=e.parentType,b=e.replyingToCommentId,x=e.toggleHelpful,P=e.toggleLike,w=e.userAvatarSize,j=e.isORBACProfileManager,S=e.isVideo,O=e.storyPinDataId,k=e.pinId,C=e.closeupAttributionId,A=e.closeupAttributionUsername,I=e.pinnerId,E=e.showReactionListForComment,T=e.reactionListCommentId,D=(0,l.ZP)();return t=O?"story":S?"video":"pin",(0,c.jsxs)(s.kC,{dataTestId:"aggregated-comment-list",direction:"column",children:[(0,c.jsxs)(s.kC,{direction:"column",gap:{row:0,column:u},children:[r.map((function(e,r){return(0,c.jsx)(Oe.F,{impressionAuxFields:{commentId:e.id,pinId:k,pinOwnerUserId:C,pinType:t,parentId:y,parentType:v,commentType:"aggregatedComment"},componentType:"pin"===v?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:r,viewType:3,children:function(t){var r=t.impressionTrackerRef;return(0,c.jsx)(s.xu,{ref:r,"data-test-id":"commentThread-comment",children:(0,c.jsx)(Se,{comment:e,isDesktop:d,featuredCommentId:o,isReadOnly:h,parentId:y,parentType:v,openOverflowMenu:_,replyingToCommentId:b,toggleReplyComposer:g,toggleHelpful:x,toggleLike:P,userAvatarSize:w,isORBACProfileManager:j,aggregatedPinDataId:n,closeupAttributionUsername:A,closeupAttributionId:C,pinId:k,storyPinDataId:O,isVideo:S,pinnerId:I,showReactionListForComment:E,reactionListCommentId:T})})}},e.id)})),(0,c.jsx)(s.$j,{accessibilityLabel:D.bt("Carregando comentários", "Comments loading", " - ", undefined, true),show:f})]}),i&&(0,c.jsx)(s.xu,{alignSelf:"center",marginTop:d?4:6,children:(0,c.jsx)(s.zx,{fullWidth:!d,text:D.bt("Ver mais", "See more", "commentThread.button.seeMore", undefined, true),onClick:m})})]})}},735397:function(e,t,n){"use strict";var r=n(121151),i=n(50286),o=n(898781),a=n(349700),l=n(966113),s=n(908390),c=n(515198);t.Z=function(e){var t=e.isBlock,n=e.isOpen,u=e.onDismiss,d=e.onIgnore,p=(0,o.ZP)(),f="desktop"===(0,i.ZP)();return(0,c.jsx)(r.ZP,{accessibilityModalLabel:p.bt("Modal de aviso de comentário", "Comment warning modal", "commentCreate.warningModal.accessibilityLabel", undefined, true),isOpen:n,onDismiss:u,children:(0,c.jsxs)(s.xu,{direction:"column",display:"flex",paddingX:4,paddingY:8,children:[(0,c.jsx)(s.X6,{align:"center",size:"500",children:p.bt("Mantenha um clima positivo", "Keep things positive", "commentCreate.warningModal.heading", undefined, true)}),(0,c.jsx)(s.xu,{marginTop:f?4:2,marginBottom:8,children:(0,c.jsx)(s.xv,{align:"center",children:(0,a.nk)(t?p.bt("Parece que seu comentário viola as {{communityGuidelinesLink}}. Edite-o antes de publicar para seguir as diretrizes.", "It looks like your comment violates the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.", "commentCreate.warningModal.description", undefined, true):p.bt("É possível que seu comentário esteja violando as {{communityGuidelinesLink}}. Edite-o antes de publicar para seguir as diretrizes.", "It looks like your comment might violate the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.", "commentCreate.blockModal.description", undefined, true),{communityGuidelinesLink:(0,c.jsx)(s.rU,{href:l.Ms,display:"inlineBlock",children:p.bt("Diretrizes da Comunidade", "Community Guidelines", "commentCreate.warningBlockModal.link.communityGuidelines", undefined, true)})})})}),(0,c.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[!t&&(0,c.jsx)(s.zx,{onClick:d,text:p.bt("Publicar mesmo assim", "Post anyway", "commentCreate.warningModal.button.postAnyway", undefined, true)}),(0,c.jsx)(s.zx,{color:"red",onClick:u,text:p.bt("Editar comentário", "Edit comment", "commentCreate.warningModal.button.editComment", undefined, true)})]})]})})}},367216:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(391254),o=n(898781),a=n(908390),l=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.entryPointRef,n=e.isEmojiTrayOpen,c=e.onClick,u=s((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,a.JZ)(),h=(0,o.ZP)(),m=d&&!f?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,l.jsx)(a.xu,{display:"flex",justifyContent:"center",color:n?"secondary":"transparent",rounding:"circle",children:(0,l.jsxs)(a.iP,{accessibilityLabel:h.bt("Selecione um emoji", "Select an emoji", "emojitray.button.accessibilityLabel", undefined, true),rounding:"circle",onTap:function(){null==c||c()},fullWidth:!1,onMouseEnter:function(){p(!0)},onMouseLeave:function(){p(!1)},children:[(0,l.jsx)(i.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,l.jsx)(a.xu,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:m},height:40,justifyContent:"center",ref:t,width:40,children:"😃"})]})})}},162379:function(e,t,n){"use strict";n.d(t,{A:function(){return O},Z:function(){return C}});var r=n(76911),i=n(116303),o=n(121151),a=n(941646),l=n(908390),s=n(515198),c=function(e){var t=e.accessibilityModalLabel,n=e.cancelButtonText,r=e.confirmButtonText,i=e.detail,c=e.heading,u=e.onConfirm,d=e.onDismiss;return(0,s.jsx)(o.ZP,{accessibilityModalLabel:t,heading:c,onDismiss:d,size:"md",children:(0,s.jsxs)(l.xu,{children:[(0,s.jsx)(l.xu,{padding:4,children:(0,s.jsx)(l.xv,{children:i})}),(0,s.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,s.jsx)(l.xu,{margin:2,children:(0,s.jsx)(a.Z,{id:"confirm-modal-cancel",children:(0,s.jsx)(l.zx,{fullWidth:!0,onClick:d,text:n})})}),(0,s.jsx)(l.xu,{margin:2,children:(0,s.jsx)(a.Z,{id:"confirm-modal-confirm",children:(0,s.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:function(){u(),d()},text:r})})})]})]})})},u=n(735397),d=n(199324),p=n(367216),f=n(857752),h=n(898781),m=n(717615),_=n(19121),g=n(664569),y=n(235872),v=n(407043),b=n(773285),x=n(947729),P=n(231947);function w(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={NONE:"none",WARNING:"warning",BLOCK:"block"},k=function(e){var t,n=e.dismissCommentWarningModal,o=e.initialTags,a=e.initialText,S=e.objectType,k=e.onAddItem,C=e.onCancelItem,A=e.onEnter,I=e.privatePin,E=e.shouldShowEmojiTrayEntryPoint,T=e.commentWarningModalState,D=e.isUiUpdated,z=e.statusType,R=(0,h.ZP)(),Z=(0,_.Z)(),L=(0,m.Z)(),B=(0,(0,b.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled?(0,P.lJ)(Z,L):"",M=(0,v.v)().logContextEvent,F=j((0,r.useState)(!1),2),N=F[0],U=F[1],H=j((0,r.useState)(!1),2),V=H[0],W=H[1],G=j((0,r.useState)(!1),2),K=G[0],q=G[1],X=j((0,r.useState)(o||[]),2),Y=X[0],$=X[1],Q=j((0,r.useState)(a),2),J=Q[0],ee=Q[1],te=j((0,r.useState)(!1),2),ne=te[0],re=te[1],ie=Z.isAuth?{image_medium_url:B?null===(t=L.user)||void 0===t?void 0:t.imgUrl:Z.imageMediumUrl,username:B?(0,P.Ms)(Z,L):Z.username}:{},oe=Y.length>y.b7,ae=J!==a,le=[g.o.pin,g.o.didIt].includes(S),se={background:"transparent",border:"0",display:ae?"inline-block":"block",fontFamily:d.Z,minHeight:"textStaticDisplay"===z?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},ce=R.bt("Responder", "Reply", "Adding text to a community comment", undefined, true);le&&(ce=I?R.bt("Adicionar um comentário público", "Add a public comment", "Add a comment", undefined, true):R.bt("Adicionar comentário", "Add a comment", "Prompt to add a comment", undefined, true));var ue=le?R.bt("Feito", "Done", "Post a top level comment on a pin or tried it", undefined, true):R.bt("Responder", "Reply", "Posting a reply to a post or comment", undefined, true),de=ne?"darkWash":"secondary";"textStaticDisplay"!==z&&(de="default");var pe=D&&"textInFlightEdit"!==z,fe=function(){A()},he=function(){W(!1),q(!1),U(!1),ee("")},me=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={contentMarkdown:J,force:t,imageSignatures:"",objectIds:[],tags:JSON.stringify(Y)},e.t0=!!k,!e.t0){e.next=6;break}return e.next=5,k(n);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=11;break}return he(),e.abrupt("return",!0);case 11:return q(!1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,l,"next",e)}function l(e){w(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),_e=function(){return oe?Promise.resolve(!1):(q(!0),U(!1),me(!1))},ge=function(){he(),C&&C()},ye=function(){W(!V),U(!1)};return(0,s.jsxs)(r.Fragment,{children:[["textInflightCreation","textInFlightEdit"].includes(z)||pe?(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:pe?{__style:{borderTop:"1px solid #EFEFEF",borderBottomRightRadius:32,borderBottomLeftRadius:32}}:void 0,color:"default",paddingX:pe?8:void 0,paddingY:6,width:"100%",children:[(0,s.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[Z.isAuth&&("textInflightCreation"===z||pe)&&(0,s.jsx)(l.xu,{alignItems:"end",display:"flex",marginEnd:2,children:(0,s.jsx)(i.Z,{src:ie.image_medium_url,name:ie.username,size:"md"})}),(0,s.jsx)(l.xu,{borderStyle:"textStaticDisplay"===z&&pe?void 0:"sm",color:pe?de:void 0,flex:"grow",paddingY:pe?0:3,rounding:pe?6:4,children:(0,s.jsx)(l.iP,{onMouseEnter:function(){re(!0)},onMouseLeave:function(){re(!1)},fullHeight:!0,children:(0,s.jsx)(f.Z,{cursor:"textStaticDisplay"!==z&&pe?"auto":void 0,focusOnMount:!pe,initialMentions:o,initialText:a,isUiUpdated:pe,onAddMention:function(){M({event_type:8905,aux_data:{tag_type:1}})},onChange:function(e){var t=e.text,n=e.mentions;n.length<Y.length&&M({event_type:8906,aux_data:{tag_type:1}}),ee(t),$(n)},onBlur:pe?C:void 0,onFocus:fe,onPost:_e,onSearchMentionCancel:function(){M({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){M({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:N,placeholder:ce,statusType:z})})})]}),oe&&(0,s.jsx)(l.xv,{color:"error",size:"100",align:"end",children:(0,x.bl)(!1,R)}),!pe&&(0,s.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,s.jsx)(l.zx,{color:"gray",onClick:ae?ye:ge,text:R.bt("Cancelar", "Cancel", "Cancel making post or comment", undefined, true)}),(0,s.jsx)(l.xu,{marginStart:2,"data-test-id":"activity-item-create-submit",children:(0,s.jsx)(l.zx,{color:"red",disabled:!ae||K||!J.length,onClick:function(){_e()},text:"textInFlightEdit"===z?R.bt("Salvar", "Save", "comment save button", undefined, true):ue})})]})]}):(0,s.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,s.jsx)("div",{"aria-label":R.bt("Adicionar campo de comentário", "Add comment field", "ActivityItemCreate.textbox.accessibilityLabel", undefined, true),onKeyDown:fe,onClick:fe,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,s.jsxs)(l.xu,{column:12,display:"flex",children:[Z.isAuth&&(0,s.jsx)(l.xu,{marginEnd:2,width:48,children:(0,s.jsx)(i.Z,{src:ie.image_medium_url,name:ie.username,size:"md"})}),(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",paddingY:4,borderStyle:"sm",children:[(0,s.jsx)(l.xu,{flex:"grow",marginStart:4,children:(0,s.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:fe,placeholder:ce,rows:1,style:se})}),E&&(0,s.jsx)(p.Z,{isEmojiTrayOpen:N,onClick:function(){U(!N)}})]})]})})}),V&&(0,s.jsx)(c,{accessibilityModalLabel:R.bt("Janela de edição de confirmação de descarte", "Confirm discard composer", "Confirm discarding a post or comment", undefined, true),heading:R.bt("Tem certeza?", "Are you sure?", "Confirm discarding a post or comment", undefined, true),cancelButtonText:R.bt("Cancelar", "Cancel", "Cancel discarding a post or comment", undefined, true),confirmButtonText:"textInFlightEdit"===z?R.bt("Descartar alterações", "Discard changes", "Clear edits", undefined, true):R.bt("Excluir", "Delete", "delete draft of a post or comment", undefined, true),detail:"textInFlightEdit"===z?R.bt("Suas alterações serão descartadas", "Your changes will be discarded", "Confirmation dialog before discarding changes", undefined, true):R.bt("Após excluir um rascunho, essa ação não poderá ser desfeita", "Once you delete a draft, you can’t undo it", "Confirmation before discarding changes", undefined, true),onConfirm:ge,onDismiss:ye}),T!==O.NONE&&(0,s.jsx)(u.Z,{isBlock:T===O.BLOCK,onDismiss:n,onIgnore:function(){me(!0),n(),C&&C()}})]})};k.defaultProps={initialText:"",isUiUpdated:!1,onEnter:function(){},shouldShowEmojiTrayEntryPoint:!1};var C=k},541776:function(e,t,n){"use strict";n.d(t,{LH:function(){return i},Rv:function(){return o},TJ:function(){return a},iB:function(){return r},pW:function(){return l}});var r=48,i=r+8,o=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),a="comment_featured_ids",l="did_it_featured_ids"},512465:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},w:function(){return d}});var r=n(349700),i=function(e){return e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true)},o=function(e){return e.bt("{{ first }} e {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true)},a=function(e){return e.bt("{{ first }}, {{ second }} e {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true)},l=function(e){return e.bt("{{ first }}, {{ second }}, {{ third }} e {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true)},s=function(e){return e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} e {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true)},c=function(e){return e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} e {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true)};function u(e,t){var n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),n);case 2:return(0,r.nk)(o(t),n);case 3:return(0,r.nk)(a(t),n);case 4:return(0,r.nk)(l(t),n);case 5:return(0,r.nk)(s(t),n);case 6:return(0,r.nk)(c(t),n);default:return(0,r.nk)(function(e){return e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} e outros {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true)}(t),n)}}function d(e,t){var n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),n);case 2:return(0,r.nk)(o(t),n);case 3:return(0,r.nk)(a(t),n);case 4:return(0,r.nk)(l(t),n);case 5:return(0,r.nk)(s(t),n);case 6:return(0,r.nk)(c(t),n);case 7:return(0,r.nk)(function(e){return e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} e {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true)}(t),n);default:return(0,r.nk)(function(e){return e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} e outros {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true)}(t),n)}}},782534:function(e,t,n){"use strict";n.d(t,{k:function(){return i.k}});var r=n(780280),i=n(451820),o=n(515198);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,a=void 0===n||n,l=e.value;return(0,o.jsx)(r.LC,{children:function(e){return(0,i.Z)(e.locale,l,t,a)}})}},486553:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(202139);function i(e){return e<r.FS?"".concat(Math.floor(e/r.DH),"s"):e<r.UK?"".concat(Math.floor(e/r.FS),"m"):e<r.F4?"".concat(Math.floor(e/r.UK),"h"):e<r.VL?"".concat(Math.floor(e/r.F4),"d"):e<r.v6?"".concat(Math.floor(e/r.VL),"w"):e<r.N1?"".concat(Math.floor(e/r.v6),"mo"):e>=r.N1?"".concat(Math.floor(e/r.N1),"y"):""}},147128:function(e,t,n){"use strict";var r=n(121093),i=n(515198);t.Z=function(e){var t=e.placementId;return(0,i.jsx)(r.Z,{placementId:t,eligibleIds:[502312,502320],preventRemoval:!0,children:function(e){return(0,e.complete)(),null}})}},51316:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(76911),i=n(869636),o=n(497529),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,i=h(o);function o(){return d(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props.experience;if(e&&500500===e.experience_id){var t=e.experience_id,n=e.placement_id;this.props.experienceClient.viewExperience(n,t)}}},{key:"componentDidUpdate",value:function(e){var t=e.experience,n=this.props.experience;if(n&&!t){var r=n.experience_id,i=n.placement_id;this.props.experienceClient.viewExperience(i,r)}}},{key:"render",value:function(){return this.props.children}}])&&p(t.prototype,n),r&&p(t,r),o}(r.PureComponent);function y(e){var t=(0,o.Z)(),n=(0,i.Z)(1000075).experience;return(0,a.jsx)(g,c(c({},e),{},{experienceClient:t,experience:n}))}},441253:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(948337),i=n.n(r),o=n(172071);function a(e){if("undefined"==typeof window||!document.head)return o.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));var t=document.head,n=[];return e.forEach((function(e){e.styles.forEach((function(r){var o,a=document.querySelector("#".concat(null!==(o=e.fontFamily)&&void 0!==o?o:"","-").concat(r.name));if(!a){var l,s;if((a=document.createElement("style")).setAttribute("id","".concat(null!==(l=e.fontFamily)&&void 0!==l?l:"","-").concat(r.name)),t.appendChild(a),e.format&&r.fontUrl&&a&&a.sheet)a.sheet.insertRule('\n            @font-face {\n              font-family: "'.concat(null!==(s=e.fontFamily)&&void 0!==s?s:"",'";\n              font-style: "').concat(r.fontStyle,'";\n              font-weight: "').concat(r.fontWeight,'";\n              src: url("').concat(r.fontUrl,'") format("').concat(e.format,'");\n            }\n          '),0);n.push(new(i())(e.fontFamily,{style:r.fontStyle,weight:r.fontWeight}).load())}}))})),Promise.all(n).then((function(){Promise.resolve()})).catch((function(e){o.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)}))}},615568:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(76911),i=n(357787),o=n(704115),a=n(19121),l=n(407043),s=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,o.Z)()&&(0,o.Z)().debug_impression_log,x={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}},P=1e6;function w(e){var t=(0,i.Z)(e),n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var n,r,i,o=m(a);function a(){var e;p(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"currentNs",(function(){return Date.now()*P})),v(g(e),"startTime",0),v(g(e),"debugPinImpressions",b&&"Pin"===e.props.impressionType&&e.props.viewer.isAuth&&e.props.viewer.isEmployee),v(g(e),"handleVisibilityChanged",(function(t){var n=e.props,r=n.componentType,i=n.contextLogData,o=n.impressionAuxFields,a=n.impressionType,l=n.loggingId,s=n.slotIndex,c=n.viewParameter,u=n.viewType,p=n.viewData,f=n.logContextEvent;if(t)e.startTime=e.currentNs(),e.debugPinImpressions&&console.log(s+" started timer");else{var h,m=x[a],_=m.idType,g=e.currentNs(),y=d((v(h={endTime:g},_,l),v(h,"slotIndex",s),v(h,"time",e.startTime),v(h,"renderDuration",g-e.startTime),h),o);f({event_type:m.eventType,component:r,event_data:v({},m.impressionType,[y]),view_type:u,view_parameter:c,view_data:p,aux_data:d({},i)}),e.debugPinImpressions&&console.log(s+" logged for "+(g-e.startTime)/1e9+"s")}})),e}return n=a,(r=[{key:"render",value:function(){return(0,s.jsx)(t,d({onVisibilityChanged:this.handleVisibilityChanged},this.props))}}])&&f(n.prototype,r),i&&f(n,i),a}(r.Component);return function(e){var t=(0,l.v)().logContextEvent,r=(0,a.Z)();return(0,s.jsx)(n,d(d({},e),{},{viewer:r,logContextEvent:t}))}}},507712:function(e,t,n){"use strict";var r=n(6637),i=n(826067);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};var t=(0,i.mB)(window.location.search),n=t.invite_code;n?r.Z.create("InviteAttributionResource",{invite_code:n}).callCreate():e(t)}},496793:function(e,t,n){"use strict";n.d(t,{U:function(){return _}});var r=n(172071),i=n(6637),o="nic_v3",a="".concat(o,"=1a"),l="".concat(o,"=1b"),s=[a,l],c=["invite_code","invite","board_invite_code","sender"],u=null,d=function(e){return!!c.find((function(t){return e.includes(t)}))},p=function(e){return e.pathname.includes("/pin/")&&!d(e.search)&&(t=e.search,!s.find((function(e){return t.includes(e)})));var t},f=function(e){return i.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate().then((function(e){if(!e||!e.resource_response)return r.Z.increment("".concat(o,".social_tracking_pin_non_invite.no_resource_response")),"";var t=e.resource_response.data,n=encodeURIComponent(t);return r.Z.increment("".concat(o,".social_tracking_pin_non_invite.encrypted.").concat(n?"true":"false")),n}))},h=function(e,t,n){var r=(e.search?"&":"?")+(n?l:a)+t;return e.pathname+e.search+r},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(p(e)){var a=n?"mweb":"web";if(t){r.Z.increment("".concat(a,".").concat(o,".social_tracking_pin_non_invite.insert.attempt"));try{var l=h(e,t,n);r.Z.increment("".concat(a,".").concat(o,".social_tracking_pin_non_invite.insert.success")),i(l)}catch(s){r.Z.increment("".concat(a,".").concat(o,".social_tracking_pin_non_invite.insert.caught_exception"))}}else r.Z.increment("".concat(a,".").concat(o,".social_tracking_pin_non_invite.insert.no_encrypted_id"))}},_=function(e,t,n,i,a){var l,s=n?"mweb":"web";r.Z.increment("".concat(s,".").concat(o,".social_tracking_pin_non_invite.attempt"));try{!n&&i&&p(e)?(r.Z.increment("".concat(s,".").concat(o,".social_tracking_pin_non_invite.search_string_eligible")),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;u?m(e,u,n,r):f(t).then((function(t){m(e,u=t,n,r)}))}(e,t,n,a)):(l=e.search,d(l)||function(e){return e.includes("sender")}(l)||!l.includes(o)||r.Z.increment("".concat(s,".").concat(o,".social_tracking_pin_non_invite.search_string_land")))}catch(c){r.Z.increment("".concat(s,".").concat(o,".social_tracking_pin_non_invite.caught_exception"))}}},951108:function(e,t){"use strict";t.Z=function(e){var t=e.hours,n=e.minutes;return"PT".concat(t,"H").concat(n)}},743217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(752802),i=n(622305),o=n(802933);function a(e){var t=((0,i.Z)((0,o.Z)({pin:e}))||{}).images,n=void 0===t?{}:t,a=(0,r.Z)({images:n});return{url:(null==a?void 0:a.url)||"",height:(null==a?void 0:a.height)||1,width:(null==a?void 0:a.width)||1}}},305791:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(752802),i=n(743217);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:564;return e>n&&(t*=n/e,e=n),{width:e,height:t}}var a=n(835209);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n,s=e.pin,c=e.maxWidth,d=e.imageSignature,p=s.image_signature;if(!d||""===d||p===d){var f=(0,i.Z)(s),h=f.width,m=f.height,_=f.url;return u(u({},o(h,m,c)),{},{url:_})}var g=(0,a.Z)({richPinData:s.rich_metadata||s.rich_summary}),y=(null==g||null===(t=g.variant_set)||void 0===t||null===(n=t.variants)||void 0===n?void 0:n.flatMap((function(e){return e.additional_images||[]})))||[],v=(null==g?void 0:g.additional_images)||[],b=([].concat(l(y),l(v)).find((function(e){var t=e.image_signature;return d===t}))||{}).canonical_images,x=(0,r.Z)({images:b||{}})||{},P=x.height,w=void 0===P?1:P,j=x.width,S=void 0===j?1:j,O=x.url,k=void 0===O?"":O;return u(u({},o(S,w,c)),{},{url:k})}},818398:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(307061),i=function(e){var t=(e||[]).reduce((function(e,t){return t.name?e.concat({name:t.name}):e}),[]);return t.length>0?t:null};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,r.Z)((function(e){var t=e.richMetadata.article||{},n=t.name,r=t.description,o=t.authors,l=t.date_published;return n?a(a({},e),{},{article:{name:n,description:r,authors:i(o),datePublished:l&&new Date(l)||void 0}}):null}))},789605:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.pin.attribution||{},n=t.author_url,r=t.url,o=t.author_name,a=t.title,l=t.provider_name,s=t.cc_url,c=t.embed;return!!r&&!!l||o?i(i({},e),{},{attribution:{providerUrl:r,providerName:l,title:a,authorUrl:n,authorName:o,ccUrl:s,embed:c}}):null}));t.Z=a},238873:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.recipe.categorizedIngredients;return t&&t.length>0?i(i({},e),{},{categorizedIngredients:t}):null}));t.Z=a},445868:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.pin.embed||{},n=t.type,r=t.src,o=t.subtype;return r?i(i({},e),{},{embed:{type:n,src:r,subtype:o}}):null}));t.Z=a},74155:function(e,t,n){"use strict";var r=n(307061),i=n(499337),o=n(432730);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.Z)((function(e){var t=((0,o.Z)(e)&&(0,i.Z)((0,o.Z)(e))||{}).products,n=void 0===t?null:t,r=e.pin,a=r.tracked_link,s=r.link,c=r.method,u=a||s,d=u&&("catalog_bulk_create"===c||!!n)?decodeURIComponent(u):u;return d?l(l({},e),{},{link:d}):null}));t.Z=c},499337:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.pin,n=e.richMetadata,r=t.buyable_availability,o=n.products,a=Array.isArray(o)?o.map((function(e){var t=e.name,n=e.offer_summary||{},i=n.in_stock,o=n.min_price,a=n.max_price,l=n.price,s=null;return void 0!==o&&void 0!==a?s="".concat(o," - ").concat(a):void 0!==l&&(s="".concat(l)),t?{name:t,outOfStock:!1===r||!1===i,priceText:s}:null})).filter((function(e){return null!==e})):[];return a.length>0?i(i({},e),{},{products:{first:a[0],rest:a.slice(1)}}):null}));t.Z=a},762615:function(e,t,n){"use strict";var r=n(307061),i=n(951108);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t=e||{},n=t.h,r=t.m,o={hours:n||0,minutes:r||0};return void 0!==n||void 0!==r?{h:n,m:r,time:o,isoDuration:(0,i.Z)(o)}:null},c=(0,r.Z)((function(e){var t=e.richMetadata.recipe||{},n=t.name,r=t.categorized_ingredients,i=t.diets,o=t.from_aggregated_data,l=t.cook_times,c=t.servings_summary,u=l||{},d=u.total,p=u.cook,f=u.prep,h=(c||{}).summary,m=s(f),_=s(p),g=s(d);return n?a(a({},e),{},{recipe:{name:n,categorizedIngredients:r,diets:i,fromAggregatedData:o,prepTime:m,cookTime:_,totalTime:g,servingSummary:h}}):null}));t.Z=c},432730:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.pin.rich_metadata;return t?i(i({},e),{},{richMetadata:t}):null}));t.Z=a},533439:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.richMetadata.tutorial,n=t||{},r=n.name,o=n.description,a=n.from_aggregated_data;return t&&r?i(i({},e),{},{tutorial:{name:r,description:o,fromAggregatedData:a}}):null}));t.Z=a},825490:function(e,t,n){"use strict";var r=n(307061),i=n(445868),o=n(802933),a=n(674915);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,r.Z)((function(e){var t=((0,a.Z)((0,o.Z)(e))||{}).video,n=((0,i.Z)((0,o.Z)(e))||{}).embed,r=!(!t||!function(e){var t,n,r=e.hlsv3,i=e.hls,o=r||i;return Boolean(!!o&&(null!==(t=o.width)&&void 0!==t?t:0)>(null!==(n=o.height)&&void 0!==n?n:0))}(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return s(s({},e),{},{isWideVideo:r})}));t.Z=u},343591:function(e,t,n){"use strict";var r=n(802933),i=n(674915);t.Z=function(e){var t,n,o,a,l=((0,i.Z)((0,r.Z)({pin:e}))||{}).video,s=void 0===l?{}:l,c=!!e.story_pin_data&&(null===(t=e.story_pin_data)||void 0===t||null===(n=t.pages)||void 0===n?void 0:n.length)>0&&(null===(o=e.story_pin_data)||void 0===o?void 0:o.pages[0])||{},u=!(null==c||null===(a=c.blocks)||void 0===a||!a.find((function(e){return!!e.video}))),d=!!s.hasVideo||u;return d}},622305:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.pin.images,n=Object.keys(t||{}).reduce((function(e,n){var r=t[n],a=r.url,l=r.width,s=r.height;return e&&a&&l&&s?i(i({},e),{},o({},n,{url:a,width:l,height:s})):null}),{});return n&&Object.keys(n).length>0?i(i({},e),{},{images:n}):null}));t.Z=a},523657:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=n(515198),a=function(e,t,n){var i=(0,r.useRef)(null),o=(0,r.useRef)(null);(0,r.useEffect)((function(){if(e!==i.current||n&&n!==o.current){i.current=e;var r=(a=e,document.querySelector('img[src="'.concat(a,'"]'))||null);null!=r&&r.complete&&t()}var a;o.current=n}),[e,t,n])};function l(e){var t=e.alt,n=e.children,r=e.color,l=e.elementTiming,s=e.isActive,c=void 0!==s&&s,u=e.naturalHeight,d=e.naturalWidth,p=e.onLoad,f=e.src;return a(f,p,c),(0,o.jsx)(i.Ee,{alt:t,color:r,elementTiming:l,naturalHeight:u,naturalWidth:d,onLoad:p,src:f,children:n})}},47168:function(e,t,n){"use strict";n.d(t,{T:function(){return a},g:function(){return l}});var r=(0,n(584992).Z)({name:"story_pin_step",sampleRate:1}),i=r.Provider,o=r.useHook,a=i,l=o},571757:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(121151),i=n(898781),o=n(76911),a=n(700380),l=n(784590),s=n(116303),c=n(908390),u=n(879564),d=n(515198);var p=function(e){var t=e.user,n=e.viewer,r=(0,i.ZP)(),o=t.full_name,a=t.image_medium_url,l=t.domain_url,p=t.domain_verified,f=t.reactionType,h=t.username,m=n&&!!n.id&&n.id===t.id,_=u.GY[f],g=(0,u.fW)(_,r).staticAsset;return(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"between",paddingX:6,marginTop:6,children:[(0,d.jsx)(c.iP,{role:"link",href:"/".concat(h,"/"),children:(0,d.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,d.jsx)(c.xu,{width:40,children:(0,d.jsx)(s.Z,{accessibilityLabel:"",name:o,src:a})}),(0,d.jsxs)(c.xu,{display:"flex",direction:"column",paddingX:2,children:[(0,d.jsx)(c.xv,{weight:"bold",children:o}),m&&(0,d.jsx)(c.xv,{size:"200",children:r.bt("É você", "That's you", "Indicates that the viewer is the person in the list", undefined, true)}),!m&&l&&p&&(0,d.jsx)(c.xv,{size:"200",children:l})]})]})}),(0,d.jsx)(c.xu,{padding:2,display:"flex",alignItems:"center",children:(0,d.jsx)(c.xu,{width:26,height:26,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(g,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}}})})]})},f=n(19121),h=n(112690),m=n(304903);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,e);var t,n,r,i=P(o);function o(){var e;v(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(j(e=i.call.apply(i,[this].concat(n))),"setRef",(function(t){t&&!e.list&&(e.list=t.parentElement,e.list&&e.list.addEventListener("scroll",e.handleScroll))})),O(j(e),"fetchMore",(function(){var t=e.props.feedResource;t.isFetching||(t.isAtEnd?window.removeEventListener("scroll",e.handleScroll):t.fetchMore())})),O(j(e),"handleScroll",(0,a.Z)((function(){var t=e.props.feedResource;if(!t.isFetching&&!t.isAtEnd){var n=(0,m.Uy)(e.list);(0,m.aZ)(e.list)-(0,m.MX)(e.list)-50<n&&e.fetchMore()}}),10)),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,n=e.logView;(void 0===n||n)&&t({event_type:13,view_type:266,view_parameter:3312})}},{key:"componentWillUnmount",value:function(){this.list&&this.list.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.feedResource,n=t.data,r=t.isFetching,i=e.viewer;if(n&&n.length>0){var o=n.map((function(e){var t=e.user,n=e.reaction_type;return y(y({},t),{},{reactionType:n})}));return(0,d.jsxs)(c.xu,{marginBottom:6,maxHeight:400,ref:this.setRef,children:[o.map((function(e){return(0,d.jsx)(p,{user:e,viewer:i},e.id)})),r&&(0,d.jsx)("div",{className:"loadingSpinner",children:(0,d.jsx)(c.$j,{accessibilityLabel:this.props.i18n.bt("Carregando lista de usuários", "Loading user list", "Accessibility lable for user list spinner", undefined, true),show:!0})})]})}return(0,d.jsx)("div",{className:"loadingSpinner",children:(0,d.jsx)(c.$j,{accessibilityLabel:this.props.i18n.bt("Carregando lista de usuários", "Loading user list", "Accessibility lable for user list spinner", undefined, true),show:!0})})}}])&&b(t.prototype,n),r&&b(t,r),o}(o.Component);function C(e){var t=(0,i.ZP)(),n=(0,f.Z)(),r=(0,h.Z)(),o=(0,l.Z)({name:"ReactionsResource",options:{pin_id:e.pinId},noCache:!0});return(0,d.jsx)(k,y(y({},e),{},{feedResource:o,viewer:n,i18n:t,logContextEvent:r}))}function A(e){var t=e.pinId,n=e.aggregatedReactions,o=e.totalReactionCount,a=e.onDismiss,l=e.logView,s=(0,i.ZP)(),u=(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsxs)(c.xu,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:6,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:n}),(0,d.jsx)(c.xu,{paddingX:1,children:(0,d.jsx)(c.xv,{weight:"bold",children:o})})]})});return(0,d.jsx)(r.ZP,{accessibilityModalLabel:s.bt("Usuários que reagiram a esse Pin.", "Users who have reacted to this.", "Label for a modal showing a list of users who have reacted to a pin", undefined, true),heading:u,onDismiss:a,size:"sm",allowScroll:!0,children:(0,d.jsx)(C,{pinId:t,logView:l})})}},139134:function(e,t,n){"use strict";var r=n(76911),i=n(571757),o=n(694379),a=n(349700),l=n(898781),s=n(112690),c=n(908390),u=n(681227),d=n(879564),p=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,l=v(s);function s(){var e;_(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=l.call.apply(l,[this].concat(n))),"state",{displayAggregationModal:!1}),w(x(e),"showAggregationModal",(function(){var t=e.props,n=t.disableModal,r=t.logContextEvent;n||(e.setState({displayAggregationModal:!0}),r({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:e.props.pinId}}))})),w(x(e),"hideAggregationModal",(function(){e.setState({displayAggregationModal:!1})})),e}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.state.displayAggregationModal,n=this.props,r=n.isStoryPin,l=n.pinId,s=n.reactionByMe,f=n.reactionCounts,h=f?(0,u.At)(f):null,m=f?(0,u.Ud)(f):0,_=s&&m>=2?(0,a.nk)(this.props.i18n.nbt(["Você e {{ count }} outra pessoa", "Você e {{ count }} outras pessoas"], m - 1, "specifies the amount of people who have reacted to a pin", true),{count:(0,p.jsx)(o.Z,{value:m-1,shortform:!0,shortformMaximumFractionDigits:1})}):(0,p.jsx)(o.Z,{value:m,shortform:!0,shortformMaximumFractionDigits:1}),g=!!h&&h.length>0&&h.filter((function(e){return!!d.GY[e]})).map((function(t,n){var r=d.GY[t],i=(0,d.fW)(r,e.props.i18n).gridAsset;return(0,p.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,p.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(i,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:19,width:19})},n)})),y=!!g&&(0,p.jsx)(c.xu,{display:"inlineBlock",children:(0,p.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",height:r?"auto":19,paddingY:r?0:6,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},children:[(0,p.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:g}),(0,p.jsx)(c.xu,{paddingX:1,children:(0,p.jsx)(c.xv,{children:_})})]})});return(0,p.jsxs)(c.xu,{children:[(0,p.jsx)("div",{onClick:this.showAggregationModal,onKeyDown:this.showAggregationModal,role:"presentation",children:y}),t&&m&&(0,p.jsx)(i.Z,{aggregatedReactions:g,onDismiss:this.hideAggregationModal,pinId:l,totalReactionCount:m})]})}}])&&g(t.prototype,n),r&&g(t,r),s}(r.PureComponent);t.Z=function(e){var t=(0,l.ZP)(),n=(0,s.Z)();return(0,p.jsx)(j,m(m({},e),{},{i18n:t,logContextEvent:n}))}},879564:function(e,t,n){"use strict";n.d(t,{GY:function(){return F},Jg:function(){return M},fW:function(){return N}});var r,i=n(667753),o=n.n(i),a=n(503697),l=n.n(a),s=n(236804),c=n.n(s),u=n(850115),d=n.n(u),p=n(68034),f=n.n(p),h=n(615601),m=n.n(h),_=n(379507),g=n.n(_),y=n(318634),v=n.n(y),b=n(879210),x=n.n(b),P=n(637956),w=n.n(P),j=n(459588),S=n.n(j),O=n(104220),k=n.n(O),C=n(909745),A=n.n(C),I=n(480597),E=n.n(I),T=n(138009),D=n.n(T),z=n(128206),R=n.n(z),Z=n(674218),L=n.n(Z);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=["goodIdea","love","thanks","wow","haha"],F=(B(r={},7,"goodIdea"),B(r,1,"love"),B(r,13,"thanks"),B(r,11,"wow"),B(r,5,"haha"),r),N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"darkGray",r={default:{staticAsset:"white"===n?l():o()},goodIdea:{staticAsset:f(),animatedAsset:c(),gridAsset:d(),label:t.bt("Boa ideia", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:v(),animatedAsset:m(),gridAsset:g(),label:t.bt("Haha", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(2400,"px 0px;\n        }\n    }\n    "),animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:S(),animatedAsset:x(),gridAsset:w(),label:t.bt("Amei", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:E(),animatedAsset:k(),gridAsset:A(),label:t.bt("Obrigado", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(2400,"px 0px;\n        }\n    }\n    "),animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:L(),animatedAsset:D(),gridAsset:R(),label:t.bt("Uau", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return r[e]||r.default}},923297:function(e,t,n){"use strict";function r(e){var t=e.m,n=void 0===t?0:t,r=e.h,i=void 0===r?0:r;return{m:n,h:i,rm:i>0?0:n,rh:i<=0?i:n>45?i+1:n>15?i+.5:i}}function i(e){var t=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:function(){return r},u:function(){return i}})},844897:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(763769),i=n.n(r),o=n(985913),a=n(908390),l=n(515198);function s(e){var t=e.category,n=e.ingredients,r=e.textSize,i=void 0===r?"300":r;return(0,l.jsxs)(a.xu,{children:[t&&(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.xv,{weight:"bold",size:i,children:t})}),(0,l.jsx)("ul",{children:n.map((function(e,t){return(0,l.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,l.jsx)(a.xu,{marginTop:1,children:(0,l.jsxs)(a.xv,{size:i,children:[e.amt||null," ",e.name]})})},t)}))})]})}var c=n(134185),u=n(898781),d=n(578661);function p(e){var t,n,r=e.columnGap,p=e.recipeProps,f=e.marginOverrides,h=(0,u.ZP)(),m=p.recipe,_=m.diets,g=m.image,y=m.name,v=m.categorizedIngredients,b=m.fromAggregatedData;if(v&&v.length){var x=[];v.forEach((function(e){return x.push(e.ingredients)}));var P=(n=i()(x),n.reduce((function(e,t){return e.concat(t)}),[])).length;t=v&&v.length&&P?(0,o.Z)(h.nbt(["{{ count }} ingrediente", "{{ count }} ingredientes"], P, "Ingredients title and count in closeup recipe description", true),{count:P.toString()}):h.bt("Ingredientes", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true)}return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:(null==f?void 0:f.outerMarginTop)||80}},children:(0,l.jsxs)(c.Z,{itemScope:!0,itemType:d.G,children:[(0,l.jsx)("meta",{content:y,itemProp:"name"}),(0,l.jsx)("meta",{content:g,itemProp:"image"}),(0,l.jsx)(a.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,l.jsx)(a.X6,{size:"400",children:b?y:t})}),_&&_.length>0&&(0,l.jsx)(a.xu,{marginBottom:4,children:(0,l.jsx)(a.xv,{inline:!0,size:"200",children:_.join(" ")})}),Array.isArray(v)&&v.length>0&&(1===v.length?(0,l.jsx)(a.xu,{column:12,"data-test-id":"single-column-ingredients",children:v.map((function(e,t){var n=e.category,r=e.ingredients;return(0,l.jsx)(a.xu,{marginBottom:(null==f?void 0:f.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:n,ingredients:r,textSize:"100"})},t)}))}):(0,l.jsxs)(a.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,l.jsx)(a.xu,{column:6,children:v.slice(0,Math.ceil(v.length/2)).map((function(e,t){var n=e.category,r=e.ingredients;return(0,l.jsx)(a.xu,{marginBottom:(null==f?void 0:f.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:n,ingredients:r,textSize:"100"})},t)}))}),r,(0,l.jsx)(a.xu,{column:6,children:v.slice(Math.ceil(v.length/2)).map((function(e,t){var n=e.category,r=e.ingredients;return(0,l.jsx)(a.xu,{marginBottom:(null==f?void 0:f.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:n,ingredients:r,textSize:"100"})},t)}))})]}))]})})}},833049:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(694379),i=n(349700),o=n(515198);function a(e,t){var n=e.m,a=e.h,l=e.rm,s=e.rh;return n&&(!a||s<=0)?(0,i.nk)(t.nbt(["{{mins}} minuto", "{{mins}} minutos"], l, " - ", true),{mins:(0,o.jsx)(r.Z,{maximumFractionDigits:2,value:l},"recipe-minutes")}):a?(0,i.nk)(t.nbt(["{{hrs}} hora", "{{hrs}} horas"], s, " - ", true),{hrs:(0,o.jsx)(r.Z,{maximumFractionDigits:2,value:s},"recipe-hours")}):null}},134185:function(e,t,n){"use strict";var r=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,r.jsx)("div",o(o({"data-test-id":"rich-pin-information"},t),{},{children:e.children||null}))}},578661:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r="https://schema.org/Recipe"},251183:function(e,t,n){"use strict";function r(e){var t=e.scrollPosition,n=e.containerSize,r=e.contentSize,i=e.intendedDistance,o=e.extendToEdgeDistance,a=void 0===o?0:o,l=r-n,s=l-t,c=-t,u=i;return u=Math.min(u,s),u=Math.max(u,c),i>0&&l-(t+u)<=a?u=l-t:i<0&&t+u<=a&&(u=-t),u}n.d(t,{Z:function(){return u}});var i=n(77601);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},c={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:(4-2*e)*e-1}};function u(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a(a({},s),o),u=e.scrollLeft,d=e.scrollTop,p=e.scrollWidth,f=e.scrollHeight,h=e.clientWidth,m=e.clientHeight,_=r({scrollPosition:u,containerSize:h,contentSize:p,intendedDistance:t,extendToEdgeDistance:l.extendToEdgeDistanceX}),g=r({scrollPosition:d,containerSize:m,contentSize:f,intendedDistance:n,extendToEdgeDistance:l.extendToEdgeDistanceY}),y=Math.abs(Math.floor(_/l.scrollSpeedPxPerMs)),v=Math.abs(Math.floor(g/l.scrollSpeedPxPerMs)),b=Math.max(y,v);l.minScrollDuration&&(b=Math.max(b,l.minScrollDuration));var x=c[l.easingFunction]||c["ease-in-out"],P=(0,i.Z)({window:window,duration:b,run:function(t){e.scrollLeft=u+_*x(t),e.scrollTop=d+g*x(t),1===t&&l.onAnimationComplete&&setTimeout(l.onAnimationComplete,0)}});return P}},304903:function(e,t,n){"use strict";function r(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function o(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{MX:function(){return a},S$:function(){return i},Uy:function(){return r},aZ:function(){return o},vM:function(){return l}})},984206:function(e,t){"use strict";t.Z=2},350576:function(e,t,n){"use strict";n.d(t,{RX:function(){return g},XE:function(){return h},Xn:function(){return f},an:function(){return m},rV:function(){return _}});var r=n(826067),i="BING",o="GOOGLE",a="YAHOO",l="YANDEX",s="RAKUTEN",c="NAVER",u="AMP_CACHE",d="DUCKDUCKGO",p=[o,i,a,l,s,c,u,d];function f(e){return p.includes(function(e){var t=(0,r.Qc)(e,!0).hostname;if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return o;if(t.includes("bing."))return i;if(t.includes("yahoo."))return a;if(t.includes("yandex."))return l;if(t.includes("rakuten."))return s;if(t.includes("naver."))return c;if(t.includes("duckduckgo."))return d;if(t.includes(".cdn.ampproject.org"))return u}return""}(e))}function h(e){return((0,r.Qc)(e).hostname||"").includes(".cdn.ampproject.org")}function m(e){return e||"undefined"!=typeof document&&document.referrer||""}var _="amp",g=function(e){return Boolean(e&&h(e))}},954959:function(e,t,n){"use strict";function r(e){var t=e.isEligibleForPdp,n=e.isStaleProduct,r=e.isOutOfStockProduct;return!!t||!!n||!!r}n.d(t,{Z:function(){return r}})},786701:function(e,t,n){"use strict";n.d(t,{Q:function(){return le},Z:function(){return pe}});var r=n(76911),i=n(37620),o=n(319915),a=n(768559),l=n(305791),s=n(293324),c=n(898781),u=n(52022),d=n(773285),p=n(908390),f=n(515198);function h(e){var t=e.appConfig,n=e.hideToggle,i=e.panelOpen,o=e.togglePanel,a=(0,c.ZP)(),l=(0,d.F)().checkExperiment,h=(0,u.Z)(),m=l("closeup_video_scrubber_dweb").anyEnabled;return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!0,paddingX:4,position:"absolute",top:!0,children:"authDesktop"===t.type&&(0,f.jsx)(p.hU,{accessibilityLabel:a.bt("Botão Voltar", "Back button", "storyPin.closeup.back", undefined, true),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:function(){h({action:"click",item:"back-button"}),t.onNavigateBack()},size:"lg"})}),!n&&!m&&(0,f.jsx)(p.xu,{position:"absolute",top:!0,right:!0,paddingX:4,dangerouslySetInlineStyle:{__style:{marginTop:16}},children:(0,f.jsx)(p.kC,{gap:{row:2,column:0},children:(0,f.jsx)(s.Z,{open:i,onChange:o})})})]})}var m=n(543853),_=n(623568),g=n(226347),y=function(e){var t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n,i=n<10?"".concat(n):n,o=r<10?"0".concat(r):r;return"".concat(i,":").concat(o)},v=function(e){var t=e.icon,n=e.accessibilityLabel,r=e.handleTap;return(0,f.jsx)(p.iP,{onTap:r,children:(0,f.jsx)(p.JO,{accessibilityLabel:n,color:"light",icon:t,size:16})})};function b(e){var t=e.activePageIndex,n=e.handlePageChange,i=e.handlePanelChange,o=e.handlePlay,a=e.handlePause,l=e.handlePausePlay,s=e.handleMute,u=e.handleVideoScrubbingNewPage,d=e.handleWatchAgain,h=e.isPlaying,b=e.isMuted,x=e.isPanelOpen,P=e.pages,w=e.pageCount,j=e.progressInfo,S=e.showEndCard,O=e.showVideoControls,k=void 0!==O&&O,C=e.viewParameter,A=(0,c.ZP)(),I=(j||{}).currentTime,E=(0,g.Hx)(),T=E.seekTime,D=E.seekingIdeaPin,z=T||I,R=(0,r.useMemo)((function(){return P.map((function(e){var t,n,r,i,o,a,l,s=null===(t=e.blocks)||void 0===t?void 0:t.find((function(e){return 3===e.block_type})),c=(null==s||null===(n=s.video)||void 0===n||null===(r=n.video_list)||void 0===r||null===(i=r.V_HLSV3_MOBILE)||void 0===i?void 0:i.duration)||(null==s||null===(o=s.video)||void 0===o||null===(a=o.video_list)||void 0===a||null===(l=a.V_720P)||void 0===l?void 0:l.duration);return c?{duration:c,isVideo:!0}:{duration:_.oN,isVideo:!1}}))}),[P]),Z=(0,r.useMemo)((function(){return R.reduce((function(e,t){return e+(t.duration||0)}),0)/1e3}),[R]),L=(0,r.useMemo)((function(){return R.filter((function(e,n){return n<t})).reduce((function(e,t){return e+(t.duration||0)}),0)/1e3}),[R,t]),B=R[t].isVideo||D?z+L:5*z+L;return(0,f.jsxs)(p.xu,{alignItems:"baseline",alignContent:"evenly",direction:"column",display:"flex",justifyContent:"between",width:"100%",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},children:[(0,f.jsxs)(p.xu,{alignItems:"center",direction:"row",justifyContent:"between",width:"99%",display:"flex",dangerouslySetInlineStyle:{__style:{opacity:k||!h?1:0,transition:"all .1s"}},children:[(0,f.jsxs)(p.kC,{direction:"row",gap:5,alignItems:"center",children:[(0,f.jsx)(v,{accessibilityLabel:h?A.bt("Pausar", "Pause", "closeup.IdeaPinVideo.Pause", undefined, true):A.bt("Reproduzir", "Play", "closeup.IdeaPinVideo.Play", undefined, true),icon:h?"pause":"play",handleTap:S?d:l}),j&&(0,f.jsxs)(p.xu,{"data-test-id":"time-display",children:[(0,f.jsx)(p.xv,{color:"inverse",align:"end",overflow:"normal",size:"300",inline:!0,weight:"bold",children:"".concat(y(B))})," ",(0,f.jsx)(p.xu,{opacity:.6,display:"inlineBlock",children:(0,f.jsx)(p.xv,{color:"inverse",align:"end",overflow:"normal",size:"300",inline:!0,weight:"bold",children:"/ ".concat(y(Z))})})]})]}),(0,f.jsxs)(p.kC,{direction:"row",gap:5,children:[(0,f.jsx)(v,{accessibilityLabel:b?A.bt("Silenciar", "Mute", "closeup.IdeaPinVideo.mute", undefined, true):A.bt("Reativar", "Unmute", "closeup.IdeaPinVideo.unmute", undefined, true),icon:b?"mute":"sound",handleTap:s}),(0,f.jsx)(v,{accessibilityLabel:x?A.bt("Maximizar", "Maximize", "closeup.IdeaPinVideo.maximize", undefined, true):A.bt("Minimizar", "Minimize", "closeup.IdeaPinVideo.minimize", undefined, true),icon:x?"maximize":"minimize",handleTap:i})]})]}),(0,f.jsx)(m.ZP,{activePageIndex:t,activePageCurrentTime:z,currentTime:B,duration:Z,handlePlay:o,handlePause:a,handleVideoScrubbingNewPage:u,isPlaying:h,onPageSelect:function(e){return n(e)},pageCount:w,pageDurations:R,progressInfo:j,shouldShowPlayhead:!0,showEndCard:S,videoDurations:R,viewParameter:C})]})}var x=n(391254),P=n(224496);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=e.activePageIndex,n=e.pages,r=e.showEndCard,i=e.pageWidth,o=e.panelOpen,a=(0,c.ZP)(),l=(0,(0,d.F)().checkExperiment)("closeup_video_scrubber_dweb").anyEnabled,s=!l||l&&!o;if(r||!n)return null;var u={paddingLeft:"".concat(l?4*le+2:0,"px"),bottom:0},h=null,m=n[t];if(m&&m.should_mute)h=a.bt("Áudio não disponível na sua localização", "Audio not available in your location", "closeup.storyPin.musicAttribution", undefined, true);else{var _,g,y,v,b=m.blocks,w=(null!=b?b:[]).find((function(e){return"story_pin_music_block"===e.type})),S=null!==(_=null==w||null===(g=w.audio)||void 0===g?void 0:g.artist_name)&&void 0!==_?_:"",O=null!==(y=null==w||null===(v=w.audio)||void 0===v?void 0:v.title)&&void 0!==y?y:"";h=S&&O?"".concat(S," - ").concat(O):""}return h?(0,f.jsx)(p.xu,{"data-test-id":"music-attribution",paddingY:5,alignItems:"center",display:"flex",justifyContent:s&&l?"start":"center",overflow:"hidden",position:"absolute",width:i,zIndex:P.kF,dangerouslySetInlineStyle:{__style:j(j({},s?u:{backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0}),{},{paddingBottom:l&&s?"88px":void 0})},children:(0,f.jsxs)(p.kC,{gap:{row:1,column:0},justifyContent:"center",children:[(0,f.jsx)(p.JO,{icon:m.should_mute?"music-off":"music-on",size:12,inline:!0,accessibilityLabel:a.bt("Artista e título da música deste Pin", "Artist and song title for this pin", "web.closeup.storypin.musicicon", undefined, true),color:"inverse"}),(0,f.jsx)(p.xu,{overflow:"hidden",children:(0,f.jsxs)("span",{className:h.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:h.length>=50?"260px":void 0},children:[(0,f.jsx)(p.xv,{inline:!0,color:"inverse",size:"200",overflow:"noWrap",children:h}),(0,f.jsx)(x.Z,{unsafeCSS:"\n                  .marquee {\n                   animation: marquee ".concat("10s"," linear infinite;\n                   animation-delay: ").concat("2s",";\n                  }\n\n                  .marquee:hover {\n                      animation-play-state: paused;\n                  }\n\n\n                 @keyframes marquee {\n                   0% {\n                     transform: translateX(0%);\n                    }\n                  50% {\n                    transform: translateX(").concat("-100%",");\n                  }\n                  100% {\n                    transform: translateX(0%);\n                  }\n              }\n            ")})]})})]})}):null},k=n(132998),C=n(219723),A=n(646422),I=n(692627),E=n(947599),T=n(430323),D=n(124364),z=n(829407),R=n(112690),Z=n(483205),L=n(775151),B=n(179888),M=n(276602),F=n(488789),N=n(47168),U=n(827896),H=n(700314),V=n(609500),W=n(924114);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=(0,r.lazy)((function(){return n.e(3434).then(n.bind(n,79214))})),Q=(0,r.lazy)((function(){return n.e(7701).then(n.bind(n,312918))})),J=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(34685),n.e(78120),n.e(94539),n.e(6073)]).then(n.bind(n,894539))})),ee=(0,r.lazy)((function(){return Promise.all([n.e(47181),n.e(50157)]).then(n.bind(n,247181))})),te=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(34685),n.e(78120),n.e(2807),n.e(43473)]).then(n.bind(n,666258))})),ne=(0,r.lazy)((function(){return n.e(24859).then(n.bind(n,411177))})),re=(0,r.lazy)((function(){return n.e(21408).then(n.bind(n,781099))})),ie=(0,r.lazy)((function(){return n.e(87191).then(n.bind(n,471523))})),oe=1e3,ae=650,le=6,se={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},ce={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0};var ue=[5,6,2],de=function(e){return e.some((function(e){var t;return(null!==(t=e.blocks)&&void 0!==t?t:[]).some((function(e){return e.type===P.h8.IMAGE&&!!e.image||e.type===P.h8.VIDEO&&(!!e.video||!!e.video_signature)}))}))};function pe(e){var t,n,s,u,y,v,x,w=e.appConfig,j=e.isInFocus,S=e.isInStream,G=void 0!==S&&S,q=e.isStreamMuted,Y=e.isStreamPanelOpen,pe=void 0===Y||Y,fe=e.pin,he=e.storyPinData,me=e.goBack,_e=e.onIdeaPinCloseupCommentClick,ge=e.onUpdate,ye=e.setStreamIsMuted,ve=e.streamItemIndex,be=e.togglePanel,xe=e.variant,Pe=e.viewability,we=e.viewType,je=void 0===we?3:we,Se=e.viewParameterType,Oe=e.onTogglePanel,ke=(0,F.c)(),Ce=(0,U.Z)(),Ae=(0,c.ZP)(),Ie=(0,R.Z)(),Ee=(0,d.F)().checkExperiment,Te=(0,N.g)(),De=(0,M.EV)(),ze=(0,r.useRef)(null),Re=(0,V.useHistory)(),Ze=(0,V.useLocation)(),Le=(0,W.Ut)(),Be=Le.setIdeaPinActivePage,Me=Le.setIdeaPinDynamicWidth,Fe=(0,W.H8)().activePage,Ne=(0,g.RC)().clearSeekTime,Ue=(0,g.Hx)().seekTime,He=ke||{},Ve=He.closeupPaneWidth,We=He.headerHeight,Ge=He.loadFonts,Ke=He.isLandingPage,qe=He.renderStoryPinMediaLayout,Xe=He.renderStoryPinPage,Ye=He.renderStoryPinSplitLayout,$e=He.renderStoryPinText,Qe=He.productPins,Je=fe.id,et=fe.image_signature,tt=fe.story_pin_data_id,nt=fe.ip_eligible_for_stela,rt=!(null==he||!he.is_deleted),it=null===(t=fe.native_creator)||void 0===t?void 0:t.id,ot=he||{},at=ot.pages,lt=void 0===at?[]:at,st=ot.metadata,ct=void 0===st?{}:st,ut=ct.canvas_aspect_ratio,dt=ct.version,pt=Ee("web_idea_pin_flexible_aspect_ratio_display").anyEnabled,ft=P.ap;pt&&ut&&(ft=ut);var ht=Ee("closeup_video_scrubber_dweb").anyEnabled,mt=X((0,r.useState)(0),2),_t=mt[0],gt=mt[1],yt=(0,r.useRef)(0),vt=(0,r.useRef)(null),bt=(0,r.useRef)(Pe),xt=X((0,r.useState)("closeup"===xe&&j),2),Pt=xt[0],wt=xt[1],jt=X((0,r.useState)(375),2),St=jt[0],Ot=jt[1],kt="calc(100% - ".concat(96*(ht?0:1)+32,"px)"),Ct=(0,r.useRef)(null),At=X((0,r.useState)(!1),2),It=At[0],Et=At[1],Tt=X((0,r.useState)(!1),2),Dt=Tt[0],zt=Tt[1],Rt=X((0,r.useState)(!0),2),Zt=Rt[0],Lt=Rt[1];(0,r.useEffect)((function(){Oe&&Oe(Zt)}),[Zt,Oe]),(0,r.useEffect)((function(){Lt(pe)}),[pe]);var Bt=null===(n=lt[_t].should_mute)||void 0===n||n,Mt=X((0,r.useState)(Ke||Bt),2),Ft=Mt[0],Nt=Mt[1],Ut=void 0!==ye?ye:Nt,Ht=void 0!==q?q:Ft;(0,r.useEffect)((function(){Bt&&Ut(!0)}),[Bt,Ut]);var Vt=Ee("web_music_attr").anyEnabled,Wt=lt.filter((function(e){return!ue.includes(e.layout)})),Gt=Wt.length,Kt=Wt[_t],qt=Se||(0,I.Z)({hasPin:!!fe,hasPinRichMetadata:!!fe.rich_metadata,hasPinRichMetadataProducts:!(null===(s=fe.rich_metadata)||void 0===s||!s.products),hasPinRichMetadataArticle:!(null===(u=fe.rich_metadata)||void 0===u||!u.article),hasPinRichMetadataRecipe:!(null===(y=fe.rich_metadata)||void 0===y||!y.recipe),hasPinStoryPinData:!!fe.story_pin_data}),Xt=We+64,Yt="closeup"===xe,$t=function(){if("undefined"!=typeof window){var e=window.innerWidth-(Zt?Ve:0)-216;if(Yt)Ot(function(e){var t=e.availableWidth,n=e.flexibleAspectRatioEnabled,r=e.pageAspectRatio,i=e.unavailableHeight,o=e.windowInnerHeight,a=o-i,l=(o-i)*r;if(n){var s=Math.min(Math.max(ae,Math.min(l,t)),oe);return s/r>=a&&(s=a*r),s}return Math.max(320,Math.min(l,t))}({availableWidth:e,flexibleAspectRatioEnabled:pt,pageAspectRatio:ft,unavailableHeight:Xt,windowInnerHeight:window.innerHeight}));else{var t=(0,l.Z)({pin:fe,maxWidth:Z.RZ}).width;Ot(t),Me(t)}}};(0,z.Z)((function(){return window.addEventListener("resize",$t),$t(),function(){window.removeEventListener("resize",$t)}}));var Qt=X((0,r.useState)(!1),2),Jt=Qt[0],en=Qt[1],tn=function(){en(!1)},nn=X((0,r.useState)(null),2),rn=nn[0],on=nn[1],an=X((0,r.useState)(!1),2),ln=an[0],sn=an[1];(0,r.useEffect)((function(){!ln&&j&&(Ie({event_type:7588,view_type:je,view_parameter:qt,component:13801,object_id_str:Je,aux_data:K({},"number"==typeof ve?{grid_index:ve}:{})}),sn(!0))}),[ln,j,Ie,Je,je,qt,ve]);var cn=X((0,r.useState)(!1),2),un=cn[0],dn=cn[1];(0,r.useEffect)((function(){!un&&j&&G&&(Ie({event_type:9314,view_type:je,view_parameter:qt,component:13801,aux_data:{grid_index:ve,pin_id:Je,image_signature:et,creator_id:it,story_pin_data_id:tt},clientTrackingParams:Ce(Je,{shouldTrackForPrevLocation:!0})}),dn(!0))}),[Ce,it,et,j,G,tt,je,qt,Je,un,Ie,ve]);var pn=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.oN,n=lt[e],r=n||{},i=r.blocks,o=null==i?void 0:i.find((function(e){return 3===e.block_type}));Ct.current&&Ct.current instanceof H.B&&(Ct.current.clear(),Ct.current=null),!o&&j&&(Ct.current=new H.B((function(e){on({currentTime:e<1?e:1,duration:1})}),(function(){var t="closeup"===xe?e:Fe;if(t<Gt-1){if(Ct.current&&Ct.current instanceof H.B)Ct.current.clear(),Ct.current=null;mn(t+1)}else Et(!0),wt(!1)}),t))}),[j,Gt,lt,Fe,xe]),fn=function(e){on({currentTime:0,duration:1}),pn(e)};(0,r.useEffect)((function(){yt.current=_t}),[_t]),(0,r.useEffect)((function(){vt.current=Pt}),[Pt]),(0,r.useEffect)((function(){bt.current=Pe}),[Pe]),(0,z.Z)((function(){return fn(_t),function(){Ct.current&&Ct.current instanceof H.B&&vt.current&&Ct.current.clear()}}));var hn=function(e){De&&De.abort("startNewPwt"),Te&&(Te.abort("startNewPwt"),Te.start(),Te.addBinaryAnnotation("page.current.index",e,"I16"),Te.addBinaryAnnotation("page.count",lt.length,"I16"),Te.addBinaryAnnotation("view.type",je,"I32"),Te.addBinaryAnnotation("view.parameter",qt,"I32"))};(0,z.Z)((function(){De&&(De.addBinaryAnnotation("page.current.index",_t,"I16"),De.addBinaryAnnotation("page.count",lt.length,"I16"),De.addBinaryAnnotation("view.type",je,"I32"),De.addBinaryAnnotation("view.parameter",qt,"I32"))}));var mn=function(e){Pt||wt(!0),It&&Et(!1),fn(e),e!==_t&&Ne(),gt(e),Be(e),hn(e)},_n=function(e){It&&Et(!1),fn(e),gt(e),Be(e),hn(e)};(0,r.useEffect)((function(){if(It&&Et(!1),Ct.current&&Ue){var e=Ct.current;e.pause(),e.remaining=_.oN-Ue*B.gJ,on({currentTime:Ue/(_.oN/B.gJ),duration:1})}}),[Ue]),(0,r.useEffect)((function(){Be(Fe)}),[Be,Fe]),(0,r.useEffect)((function(){"related-products"===xe&&(gt(Fe),mn(Fe))}),[Fe,xe]);var gn=function(){return It?13799:0===_t?227:228},yn=function(){_t<Gt-1&&(mn(_t+1),Ie({event_type:101,view_type:je,view_parameter:qt,component:gn(),element:12261,object_id_str:Je}))},vn=function(){_t===Gt-1&&It?(mn(_t),Ie({event_type:101,view_type:je,view_parameter:qt,component:gn(),element:12260,object_id_str:Je})):_t>0&&(mn(_t-1),Ie({event_type:101,view_type:je,view_parameter:qt,component:gn(),element:12260,object_id_str:Je}))},bn=function(e){var t=e.keyCode,n=e.srcElement,r=n.isContentEditable||n.contentEditable&&"true"===n.contentEditable;37!==t||r?39!==t||r||yn():vn()};(0,r.useEffect)((function(){return document.addEventListener("keydown",bn),function(){return document.removeEventListener("keydown",bn)}}),[_t]);var xn=X((0,r.useState)(!1),2),Pn=xn[0],wn=xn[1],jn=X((0,r.useState)((function(){return!!fe&&de(lt)})),2),Sn=jn[0],On=jn[1],kn=function(){var e=lt.reduce((function(e,t){var n;return null===(n=t.blocks)||void 0===n||n.filter((function(e){return[P.h8.PARAGRAPH,P.h8.HEADING].includes(e.type)})).forEach((function(t){var n,r=(null===(n=t.style)||void 0===n?void 0:n.font)||P.Cc.font,i=r.name,o=void 0===i?"":i;e[o]||(e[o]=r)})),e}),{});if(Object.keys(e).length>0){var t=Object.keys(e).map((function(t){var n=e[t];return(0,L.d3)({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})}));Ge&&(Ge(t),wn(!0))}};(0,z.Z)((function(){kn()})),(0,z.Z)((function(){Sn||kn()})),(0,r.useEffect)((function(){On(de(lt))}),[lt]);var Cn=dt?(0,H.n)(dt,"0.8.0"):null,An=null!=Cn&&Cn>=0,In=function(e){e===Gt-1&&(Et(!0),wt(!1),Be(0)),e===_t&&yn()},En=function(e,t){on({currentTime:e,duration:t})},Tn=function(){zt(!0),wt(!1),Ct.current&&!Ct.current.paused&&Ct.current.pause()},Dn=function(e){var t,n;return lt[e]?An?Xe({activePageIndex:_t,fontsLoaded:Pn,customEndCard:!0,isActive:e===_t&&Pt,muteVideos:Ht,onChangeMuteVideo:Ut,onEnded:In,onFlyoutOpen:Tn,videoPinProgress:_t===e?rn:void 0,onUpdateVideoInfo:En,ownerId:null!==(t=null===(n=fe.native_creator)||void 0===n?void 0:n.id)&&void 0!==t?t:"",page:lt[e],pageAspectRatio:ft,pageIndex:e,pageHeight:St/ft,pageWidth:St,pin:fe,pinId:fe.id,productPins:Qe,shouldLogTimeSpent:j,stillLoading:!Sn}):function(e){var t=0===e.layout;switch(e.layout){case 0:case 1:return qe({activePageIndex:_t,hideText:t,isActive:!0,isCoverPage:t,muteVideos:Ht,onClickThrough:w.onClickThrough,page:e,pageIndex:_t,pageWidth:St,pinId:Je});case 4:return e.blocks.length>0&&$e({blocks:e.blocks,pageId:"text-".concat(_t),page:e,pinId:Je,onClickThrough:w.onClickThrough});case 3:return Ye({page:e});default:return null}}(Kt):null},zn=function(){for(var e=[],t=1;t<=3;t+=1)_t+t<lt.length&&e.push(Dn(_t+t));return e},Rn=function(e){var t=e.follower_count,n=e.full_name,r=e.image_medium_url,i=e.username,a=fe.id,l=(fe.sponsorship||{}).creator,s=(l=void 0===l?{}:l).id;return(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_CreatorCardProfile",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(Q,{color:"inverse",followerCount:t,fullName:n,imageUrl:r,profileUrl:i?"/".concat(i,"/"):"/",onNavigateClick:function(){var e,t;Ie({event_type:101,view_type:je,view_parameter:qt,element:11619,object_id_str:a,component:230,aux_data:{story_pin_template_type:null===(e=fe.story_pin_data)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.template_type,pin_id:a,creator_id:s}})}})})})},Zn=function(){(wt(!1),Ct.current)&&Ct.current.pause();Ie({event_type:9324,view_type:je,view_parameter:qt,component:gn(),object_id_str:Je,aux_data:{story_pin_page_id:_t}})},Ln=function(){if(wt(!0),Ct.current){var e=Ct.current;Ue&&Ne(),e.resume()}else rn||fn(_t);Ie({event_type:9323,view_type:je,view_parameter:qt,component:gn(),object_id_str:Je,aux_data:{story_pin_page_id:_t}})},Bn=function(){It||(zt(!1),Pt?Zn():Ln())};(0,r.useEffect)((function(){"closeup"===xe&&(!j||It||Pt?!j&&Pt&&Zn():Ln())}),[j,xe]),(0,r.useEffect)((function(){"related-products"===xe&&Zn()}),[]);var Mn=function(){mn(0)},Fn=function(){Ie({event_type:101,view_type:je,view_parameter:qt,component:13801,element:10944,object_id_str:fe.id}),G&&be?be():Lt(!0),_e&&_e();var e=document.getElementById("canonical-card-".concat(fe.id));e&&e.scrollIntoView({behavior:"smooth",block:"end"})},Nn=function(){Ie({event_type:101,view_type:je,view_parameter:qt,component:13801,element:0,object_id_str:fe.id})},Un=function(){Bt||Ut(!Ht)},Hn=function(){Lt(!Zt)},Vn=function(){var e,t,n,a,l;return(0,f.jsxs)(p.xu,{left:!0,dangerouslySetInlineStyle:{__style:Yt?{top:We,height:"calc(100vh - ".concat(We,"px)"),position:"sticky",pointerEvents:"none",minHeight:632,zIndex:Zt?"auto":3}:{}},display:"flex",children:[(0,f.jsxs)(p.xu,{flex:"grow",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},color:"default",children:[Yt&&(0,f.jsx)(p.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),rt?(0,f.jsx)(D.Z,{width:St,height:St/P.ap,rounding:P.yR}):(0,f.jsxs)(r.Fragment,{children:[Sn&&(0,f.jsx)(p.xu,{width:1,height:1,position:"absolute",top:!0,left:!0,marginTop:-1,overflow:"hidden",children:zn()}),(0,f.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:Yt?void 0:"".concat(P.YL,"px")}},display:"flex",alignItems:"center",position:"relative",onMouseOver:(l=!0,function(){return en(l)}),onMouseLeave:tn,children:[!ht&&(0,f.jsx)(C.Z,{dataTestId:"story-pin-closeup-previous",show:_t>0,onClick:vn,isPrevious:!0}),(0,f.jsxs)(p.xu,{paddingX:4,children:[(0,f.jsxs)(p.xu,{display:"flex",position:"absolute",bottom:ht,width:kt,zIndex:P.Gf,paddingX:le,dangerouslySetInlineStyle:{__style:K(K({},ht?ce:se),{},{flexDirection:ht?"column-reverse":"column"})},height:128,children:[ht?(0,f.jsx)(b,{activePageIndex:_t,handleMute:Un,handlePageChange:function(e){return mn(e)},handlePanelChange:Hn,handlePausePlay:Bn,handlePause:Zn,handlePlay:Ln,handleVideoScrubbingNewPage:_n,handleWatchAgain:Mn,isMuted:Ht,isPanelOpen:Zt,onPageSelect:function(e){return mn(e)},pages:Wt,pageCount:Gt,isPlaying:Pt,progressInfo:rn,showEndCard:It,showVideoControls:Jt,viewParameter:qt}):(0,f.jsx)(p.xu,{height:20,display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,f.jsx)(m.ZP,{activePageIndex:_t,handlePause:Zn,handlePlay:Ln,handleVideoScrubbingNewPage:_n,isPlaying:Pt,onPageSelect:function(e){return mn(e)},pageCount:Gt,progressInfo:rn,showEndCard:It})}),!It&&!ht&&(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,f.jsx)(p.xu,{children:fe.native_creator&&!Zt&&Rn(fe.native_creator)}),(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,f.jsx)(k.Z,{mute:Ht,onChangeMute:Un}),!Zt&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_Dropdown",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(J,{componentType:13801,goBack:me,onEditSubmit:ge,pin:fe,viewParameter:qt,viewType:je,iconColor:"white"})})})]})]})]}),Vt&&(0,f.jsx)(O,{activePageIndex:_t,pages:lt,showEndCard:It,pageWidth:St,panelOpen:Zt}),!It&&!Zt&&(0,f.jsxs)(p.xu,{display:"flex",height:128,position:"absolute",top:ht,width:kt,zIndex:P.Gf,padding:4,dangerouslySetInlineStyle:{__style:Zt?{}:ht?se:ce},alignItems:ht?"start":"end",justifyContent:"between",children:[(0,f.jsxs)(p.kC,{alignItems:"stretch",direction:"row",children:[!Zt&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(re,{shareButtonRef:ze})})}),!Zt&&fe.is_eligible_for_aggregated_comments&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)($,{onCommentClick:Fn})})}),!Zt&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(p.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,f.jsx)(ne,{component:13801,iconColor:"white",pinId:fe.id,reactionByMe:fe.reaction_by_me,showTooltip:!0,viewParameter:qt,viewType:je,isStoryPinActionBar:!0})})})}),!Zt&&nt&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_ShopButton",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(ie,{pinId:fe.id,onShopButtonClick:function(){return Lt(!Zt)},viewParameter:qt,viewType:je})})})]}),!Zt&&(0,f.jsx)(o.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(p.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,f.jsx)(te,{pin:fe,size:"lg",onClickCallback:Nn})})})})]}),(0,f.jsxs)(p.xu,{position:"relative",children:[(0,f.jsx)(p.iP,{accessibilityLabel:Pt?Ae.bt("Pausar", "Pause", "storyPin.closeup.pauseButton.accessibilityLabel", undefined, true):Ae.bt("Reproduzir", "Play", "storyPin.closeup.playButton.accessibilityLabel", undefined, true),disabled:It,onTap:Bn,rounding:P.yR,children:(0,f.jsxs)(p.xu,{"data-test-id":"story-pin-closeup-page",position:"relative",rounding:P.yR,overflow:"hidden",width:St,height:St/ft,children:[Dn(_t),!It&&!Dt&&(0,f.jsx)(A.Z,{playing:Pt}),"authDesktop"===w.type&&It&&fe.native_creator&&(0,f.jsx)(o.Z,{name:"IdeaPinCloseup_EndCard",children:(0,f.jsx)(E.Z,{children:(0,f.jsx)(p.xu,{rounding:P.yR,padding:4,zIndex:P.s5,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,f.jsx)(ee,{creatorName:null!==(e=fe.native_creator.username)&&void 0!==e?e:"",watchAgain:Mn,viewType:je,viewParameter:qt,pinDescription:null!==(t=fe.description)&&void 0!==t?t:"",imageSrc:null!==(n=fe.image_url)&&void 0!==n?n:"",pinId:fe.id})})})})]})}),!(null===(a=fe.call_to_create_source_pin)||void 0===a||!a.id)&&(0,f.jsx)(p.xu,{position:"absolute",bottom:!0,right:!0,margin:6,children:(0,f.jsx)(p.iP,{onTap:function(){Ie({event_type:102,view_type:3,element:12336}),fe.call_to_create_source_pin_id&&Re.push("/pin/".concat(fe.call_to_create_source_pin_id,"/"))},rounding:2,children:(0,f.jsx)(i.Z,{images:[fe.call_to_create_source_pin.image_medium_url||""],height:80,isResponse:!0})})})]})]}),!ht&&(0,f.jsx)(C.Z,{dataTestId:"story-pin-closeup-next",show:_t<Gt-1,onClick:yn})]})]}),!G&&Yt&&(0,f.jsx)(h,{appConfig:w,hideToggle:rt,panelOpen:Zt,togglePanel:function(){return Lt(!Zt)}})]}),Zt&&Yt&&(0,f.jsx)(p.xu,{width:Ve,height:"100%",flex:"none",position:"relative",children:"duplo"===w.type&&w.storyPinDetails})]})};return j?(0,f.jsx)(T.Z,{clientTrackingParams:(0,a.Z)({boardUrl:null===(v=fe.board)||void 0===v?void 0:v.url,callToCreateSourcePinId:fe.call_to_create_source_pin_id,location:Ze,pinId:fe.id,pinnerUserName:null===(x=fe.pinner)||void 0===x?void 0:x.username,storyPinDataId:fe.story_pin_data_id,trackingParams:fe.tracking_params,trackingParamsMap:fe.tracking_params_map}),component:13801,objectId:Je,view:je,viewParameter:qt,children:Vn()}):Vn()}},132998:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),i=n(908390),o=n(515198);function a(e){var t=e.mute,n=e.onChangeMute,a=(0,r.ZP)();return(0,o.jsx)(i.xu,{"data-test-id":"story-pin-closeup-mute",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,o.jsx)(i.hU,{accessibilityLabel:t?a.bt("Clique para reativar o som", "Click to unmute", "storyPin.closeup.volume", undefined, true):a.bt("Clique para silenciar", "Click to mute", "storyPin.closeup.volume", undefined, true),icon:t?"mute":"sound",onClick:function(){return n(!t)},iconColor:"white",size:"lg"})})}},219723:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),i=n(908390),o=n(515198);function a(e){var t=e.dataTestId,n=e.show,a=e.onClick,l=e.isPrevious,s=(0,r.ZP)();return(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",opacity:n?1:0,dangerouslySetInlineStyle:{__style:{transition:"500ms opacity linear"}},"data-test-id":t,children:(0,o.jsx)(i.hU,{accessibilityLabel:l?s.bt("Ir para a página anterior", "Go to previous page", "storyPin.closeup.nav", undefined, true):s.bt("Ir para a próxima página", "Go to next page", "storyPin.closeup.nav", undefined, true),bgColor:"transparent",disabled:!n,icon:l?"arrow-back":"arrow-forward",iconColor:"darkGray",onClick:a,size:"lg",tabIndex:n?0:-1})})}},543853:function(e,t,n){"use strict";n.d(t,{U1:function(){return w},lT:function(){return P},$E:function(){return j},$:function(){return S},CT:function(){return O},ZP:function(){return A}});var r=n(76911),i=n(908390),o=n(179888),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.activePageCurrentTime,n=e.pillHeight,s=e.progressInfo,c=e.videoDuration,u=e.videoScrubberV2Enabled,d=s.currentTime,p=s.duration,f=l((0,r.useState)("none"),2),h=f[0],m=f[1],_=l((0,r.useState)(0),2),g=_[0],y=_[1],v=(0,r.useRef)(0),b=t||d,x="".concat(null!=c&&c.isVideo?Math.floor(1e4*b/(c.duration/o.gJ))/100:d/p*100,"%");return(0,r.useEffect)((function(){m(d<v.current?"none":"width ".concat(O,"ms")),v.current=d,y("".concat(d/p*100,"%"))}),[d,p]),(0,a.jsx)(i.xu,{height:u?n:P,rounding:"pill",overflow:"hidden",dangerouslySetInlineStyle:{__style:{backgroundColor:u?w:j,transition:u?"":h}},children:(0,a.jsx)(i.xu,{height:"100%",color:S,rounding:"pill",dangerouslySetInlineStyle:{__style:{width:u?x:g}}})})}var u=n(898781),d=n(112690),p=n(19121),f=n(349700),h=n(773285),m=n(224496),_=n(226347);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=4,w="rgba(255,255,255,0.24)",j="rgba(255,255,255,0.4)",S="default",O=800,k=function(){},C={width:"100%",display:"flex",paddingX:4};function A(e){var t=e.activePageIndex,n=e.activePageCurrentTime,o=e.onPageSelect,l=e.pageCount,s=e.progressInfo,g=e.showEndCard,v=e.duration,x=void 0===v?0:v,w=e.currentTime,j=void 0===w?0:w,O=e.pageDurations,A=void 0===O?[]:O,E=e.handlePlay,T=void 0===E?k:E,D=e.handlePause,z=void 0===D?k:D,R=e.handleVideoScrubbingNewPage,Z=void 0===R?k:R,L=e.videoDurations,B=void 0===L?[]:L,M=e.viewParameter,F=e.isPlaying,N=void 0!==F&&F,U=e.shouldShowPlayhead,H=void 0!==U&&U,V=(0,u.ZP)(),W=(0,r.useRef)(null),G=(0,(0,h.F)().checkExperiment)("closeup_video_scrubber_dweb").anyEnabled,K=b((0,r.useState)(!1),2),q=K[0],X=K[1],Y=b((0,r.useState)(-1),2),$=Y[0],Q=Y[1],J=b((0,r.useState)(N),2),ee=J[0],te=J[1],ne=(0,d.Z)(),re=(0,p.Z)().isAuth,ie=(0,_.Hx)().seekingIdeaPin,oe=(0,_.RC)(),ae=oe.updateSeekTime,le=oe.updateSeekingIdeaPin,se=(0,r.useCallback)((function(e,n){n<=l&&(n!==t&&Z(n),ae(e/1e3)),ne({event_type:101,view_type:3,view_parameter:M,component:14302})}),[t,Z,ne,l,ae,M]),ce="".concat(Math.floor(1e4*j/x)/100,"%"),ue=A.map((function(e){return"".concat((e.duration||0)/x*100,"%")})),de=(0,r.useMemo)((function(){var e=0;return A.map((function(t){var n=t.duration+e,r={min:e,max:n};return e=n,r}))}),[A]),pe=G?.24:.4,fe=function(e){return e===t?1:pe},he=G?q?"0 1.2px":"0 1px":"0 2px",me=function(e){return function(){return X(e)}},_e=function(e){return function(){return Q(e)}},ge=(0,r.useCallback)((function(e){if(W.current){var t=W.current.getBoundingClientRect(),n=t.left,r=void 0===n?0:n,i=t.width,o=void 0===i?0:i,a=Math.max(0,Math.min((e-r)/o,1))*x*1e3,l=de.findIndex((function(e){return a>=e.min&&a<=e.max}));se(a-de[l].min,l)}}),[x,se,de]),ye=(0,r.useCallback)((function(e){ie&&ge(e.clientX)}),[ge,ie]),ve=(0,r.useCallback)((function(e){ge(e.clientX),le(!1),ee&&T()}),[ge,le,T,ee]),be=function(e){return function(){return o(e)}};(0,r.useEffect)((function(){return ie&&(window.addEventListener("mousemove",ye),window.addEventListener("mouseup",ve)),function(){window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",ve)}}),[ye,ve,ie]);var xe=function(e){return e.stopPropagation()},Pe={alignItems:"center","aria-label":V.bt("Barra de progresso do depurador de vídeo", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),"aria-valuemax":x,"aria-valuemin":"0","aria-valuenow":j,display:"flex",flex:"grow",justifyContent:"start",marginBottom:6,minHeight:"8px",onMouseOver:me(!0),onFocus:me(!0),onClick:xe,onKeyPress:xe,onMouseDown:function(e){te(N),le(!0),N&&z(),ge(e.clientX)},onMouseLeave:function(){X(!1),_e(-1)},position:"relative",ref:W,role:"progressbar",width:"100%"},we=function(e){var r=P*(q&&($===e||ie&&e===t)?2:q?1.5:1);return e<t||g?(0,a.jsx)(i.xu,{height:r,color:S,rounding:"pill"}):t===e&&s?(0,a.jsx)(c,{activePageCurrentTime:n,pillHeight:r,progressInfo:s,videoScrubberV2Enabled:G,videoDuration:B[e]}):(0,a.jsx)(i.xu,{height:r,color:S,rounding:"pill",dangerouslySetInlineStyle:{__style:{opacity:fe(e)}}})};return(0,a.jsxs)(i.xu,y(y({},G?Pe:C),{},{children:[H&&G&&re&&(q||ie)&&(0,a.jsx)(I,{scrubberWidth:ce}),new Array(l).fill().map((function(e,t){return(0,a.jsx)(i.xu,{flex:"grow",width:G&&ue.length===l?ue[t]:"auto",dangerouslySetInlineStyle:{__style:{margin:he}},children:G?(0,a.jsx)(i.iP,{accessibilityLabel:V.bt("Barra de progresso de vídeo do Idea Pin", "Idea Pin video progress bar", "ideaPin.closeup.progressBar", undefined, true),rounding:"pill",children:(0,a.jsx)(i.xu,{onMouseOver:_e(t),onFocus:_e(t),onMouseLeave:_e(-1),dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},children:we(t)})}):(0,a.jsx)(i.u,{zIndex:m.Gf,idealDirection:"up",text:(0,f.nk)(V.bt("Página {{ pageIndex }} de {{ pageCount }}", "Page {{ pageIndex }} of {{ pageCount }}", "ideaPin.closeup.pagination", undefined, true),{pageIndex:t+1,pageCount:l}).join(""),children:(0,a.jsx)(i.iP,{accessibilityLabel:V.bt("Botão da barra de progresso", "ProgressBar button", "ideaPin.closeup.paginationButton", undefined, true),rounding:"pill",onTap:be(t),children:we(t)})})},t)}))]}))}var I=function(e){var t=e.scrubberWidth;return(0,a.jsx)(i.xu,{position:"absolute",rounding:"pill",height:P,color:S,dangerouslySetInlineStyle:{__style:{left:t}},children:(0,a.jsx)(i.xu,{rounding:"circle",width:12,height:12,color:"light",marginStart:-2,dangerouslySetInlineStyle:{__style:{marginTop:-5,transform:"scale(1.25)"}}})})}},293324:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),i=n(908390),o=n(515198);function a(e){var t=e.open,n=e.onChange,a=(0,r.ZP)();return(0,o.jsx)(i.xu,{"data-test-id":"story-pin-closeup-panel",children:t?(0,o.jsx)(i.hU,{accessibilityLabel:a.bt("Clique para maximizar o Idea Pin", "Click to maximize Idea Pin", "storyPin.closeup.panel", undefined, true),bgColor:"transparent",icon:"maximize",iconColor:"darkGray",onClick:function(){return n(!1)},size:"lg"}):(0,o.jsx)(i.hU,{accessibilityLabel:a.bt("Clique para minimizar o Idea Pin", "Click to minimize Idea Pin", "storyPin.closeup.panel", undefined, true),bgColor:"transparent",icon:"minimize",iconColor:"darkGray",onClick:function(){return n(!0)},size:"lg"})})}},646422:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911),i=n(391254),o=n(224496),a=n(908390),l=n(515198);function s(e){var t=e.playing;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(i.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1)); }"}),(0,l.jsx)(a.xu,{id:"story-pin-closeup-pause-play-overlay",rounding:o.yR,position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",opacity:.8,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:!t&&(0,l.jsx)(a.JO,{icon:"play",size:48,accessibilityLabel:"Play",color:"light"})})]})}},488789:function(e,t,n){"use strict";n.d(t,{c:function(){return l},o:function(){return a}});var r=n(76911),i=n(515198),o=(0,r.createContext)(null);function a(e){var t=e.children,n=e.closeupPaneWidth,a=e.headerHeight,l=e.isLandingPage,s=e.loadFonts,c=e.renderStoryPinMediaLayout,u=e.renderStoryPinSplitLayout,d=e.renderStoryPinText,p=e.renderStoryPinPage,f=e.productPins,h=(0,r.useMemo)((function(){return{closeupPaneWidth:n,headerHeight:a,isLandingPage:l,loadFonts:s,renderStoryPinMediaLayout:c,renderStoryPinSplitLayout:u,renderStoryPinText:d,renderStoryPinPage:p,productPins:f}}),[n,a,l,s,c,u,d,p,f]);return(0,i.jsx)(o.Provider,{value:h,children:t})}var l=function(){return(0,r.useContext)(o)}},775151:function(e,t,n){"use strict";n.d(t,{BN:function(){return c},RK:function(){return s},d3:function(){return d},xm:function(){return u}});var r=n(224496);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){var n=(0,r.pE)(e,t);return"".concat(n.y,"px ").concat(n.x,"px")},s=function(e){var t=e.alignment,n=e.verticalAlignment,r={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===n?r.alignItems="center":2===n&&(r.alignItems="flex-end"),1===t&&(r.justifyContent="center",r.textAlign="center"),r},c=function(e){var t=e.fontSize,n=e.hexColor,r=e.highlightColor,i=e.letterSpacing,a=e.lineHeight;return o({fontSize:t,letterSpacing:i,color:n,fontFamily:e.name,margin:0,maxHeight:"100%",textShadow:!r&&n&&"#ffffff"===n.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word"},r?{backgroundColor:r,borderRadius:t/5,padding:l(t,a)}:{})},u=function(e){var t=e.fontSize,n=e.hasText,r=e.highlightColor,i=e.lineHeight;return o({},r?{backgroundColor:n?r:void 0,borderRadius:t/5,padding:l(t,i)}:{})},d=function(e){var t=e.letterSpacing,n=e.lineHeight;return{fontFamily:e.name,fontGroup:"",fontOverrides:{letterSpacing:t,lineHeight:n,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:e.url}]}}},148028:function(e,t,n){"use strict";function r(e){var t=e.currentTime,n=e.endTime,r=e.startTime;return!("number"==typeof r&&"number"==typeof n&&r>=0&&n>0&&r<n)||r<=t&&t<=n}n.d(t,{Z:function(){return r}})},700314:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{B:function(){return a},n:function(){return o}});var o=function(e,t){var n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(null==e||!e.match(n)||null==t||!t.match(n))return null;for(var r=null==e?void 0:e.split("."),i=null==t?void 0:t.split("."),o=Math.max((null!=r?r:"").length,(null!=i?i:"").length),a=0;a<o;a+=1){var l,s,c=a<(null!==(l=null==r?void 0:r.length)&&void 0!==l?l:0)?parseInt(null==r?void 0:r[a],10):0,u=a<(null!==(s=null==i?void 0:i.length)&&void 0!==s?s:0)?parseInt(null==i?void 0:i[a],10):0;if(c<u)return-1;if(c>u)return 1}return 0},a=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"start",Date.now()),i(this,"paused",!1),this.onProgress=t,this.onComplete=n,this.duration=r,this.remaining=r,"undefined"!=typeof window&&(this.intervalId=window.setInterval((function(){var e=o.paused?o.duration-o.remaining:o.duration-o.remaining+(Date.now()-o.start);o.onProgress(e/o.duration)}),500),this.resume())}var t,n,o;return t=e,(n=[{key:"currentTime",value:function(){return this.duration-this.remaining}},{key:"pause",value:function(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;var e=this.duration-this.remaining;this.onProgress(e/this.duration)}},{key:"resume",value:function(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}},{key:"clear",value:function(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}])&&r(t.prototype,n),o&&r(t,o),e}()},203138:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},m:function(){return d}});var r=n(76911),i=n(167234),o=n(391254),a=n(898781),l=n(814197),s=n(780280),c=n(908390),u=n(515198),d=4;function p(e){var t=e.deepLinkBackGoesToBoard,n=e.handleScroll,p=e.isNewOrRes,f=e.marginTop,h=e.onClick,m=e.showLabel,_=void 0!==m&&m,g=e.trafficSource,y=e.showShadow,v=(0,a.ZP)();(0,r.useEffect)((function(){return n?(window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}):function(){}}),[]);var b=y?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards",x="feed_home"===g||"deep_linking"===g&&!t,P=(0,s.B)().isRTL,w=[(0,u.jsx)(c.xu,{rounding:"circle",dangerouslySetInlineStyle:{__style:{animation:b}},children:(0,u.jsx)(c.hU,{accessibilityLabel:v.bt("Voltar", "Back", "backButton.accessibilityLabel", undefined, true),icon:"directional-arrow-left",bgColor:"white",iconColor:"darkGray",size:"lg",onClick:h})},"back-button-icon")];return _&&x&&p&&w.push((0,u.jsx)(c.iP,{onTap:h,rounding:"pill",children:(0,u.jsx)(c.xu,{maxWidth:90,padding:2,left:!0,children:(0,u.jsx)(c.X6,{align:"center",size:"400",children:v.bt("Para você", "For you", "closeup.backButton.label", undefined, true)})})})),P&&w.reverse(),(0,u.jsxs)(i.Z,{position:"fixed",style:{zIndex:l.Cq,width:"60px",maxWidth:"265px"},children:[(0,u.jsx)(o.Z,{unsafeCSS:"\n@keyframes showShadow {\n  0% {\n    box-shadow: none;\n  }\n\n  100% {\n    background-color: rgba(255, 255, 255, 0.97);\n    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);\n  }\n}\n\n@keyframes hideShadow {\n  0% {\n    background-color: rgba(255, 255, 255, 0.97);\n    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);\n  }\n\n  100% {\n    box-shadow: none;\n  }\n}\n"}),(0,u.jsx)(c.xu,{alignItems:"center","data-test-id":"back-button",display:"flex",left:!P,paddingX:4,position:"fixed",right:P,dangerouslySetInlineStyle:{__style:{marginTop:4*(f||d)}},children:w})]})}},887831:function(e,t,n){"use strict";var r=n(76911);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=null,l=!1,s=0,c=function(){a&&clearTimeout(a),l=!0,a=setTimeout((function(){l=!1}),100)};t.Z=function(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],o=(0,r.useRef)(null);(0,r.useEffect)((function(){return 0===s&&window.addEventListener("scroll",c),s+=1,function(){o.current&&clearTimeout(o.current),(s-=1)||window.removeEventListener("scroll",c)}}),[]);var a=function e(t){o.current&&clearTimeout(o.current),o.current=t&&l?setTimeout((function(){return e(!0)}),100):setTimeout((function(){n(t)}),32)};return{isHovering:t,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return a(!0)},onMouseLeave:function(){return a(!1)}}).current}}},81072:function(e,t,n){"use strict";var r=n(76911),i=n(700380);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e=o((0,r.useState)(0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=(0,i.Z)((function(){return n(window.scrollY)}),10);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),t}},134906:function(e,t,n){"use strict";n.d(t,{Bh:function(){return p},C9:function(){return P},CB:function(){return m},CU:function(){return s},FU:function(){return A},GT:function(){return c},Gy:function(){return y},J_:function(){return O},Jx:function(){return _},MZ:function(){return v},VC:function(){return h},VG:function(){return u},ZA:function(){return d},Zt:function(){return g},a3:function(){return I},aH:function(){return l},h7:function(){return S},nw:function(){return x},oR:function(){return w},qA:function(){return f},qp:function(){return k},sG:function(){return b},vd:function(){return C},xk:function(){return j}});var r=n(89254);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){var t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((function(e,r){var i=t[e];i&&(n[r]=i)})),n.join("")};function l(e){return function(t,n){var r=[];t&&/\S/.test(t)||r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}var s=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function c(e){return function(t,n){var r=[];(t=t&&t.trim()).match(s)||r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function u(e){return function(t,n){var r=[];(t=t&&t.trim()).match(/^[^0-9].*$/)||r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function d(e){return function(t,n){var r=[];if(t){var i=parseInt(t,10);Number.isNaN(i)?r.push(e.invalidAgeString):(e.ageTooShortString&&i<10&&r.push(e.ageTooShortString),i<=0||i>120?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&i<13&&r.push(e.checkUnderAgeWithString))}var o={errors:r,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){var r=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],o=!1!==e.checkLength&&r.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||i.push(e.message);var a={errors:i,warnings:[]};return n&&n(a),a}}function f(e){return function(t,n){var r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(/^\d+$/)&&r.push(e.message));var i={errors:r,warnings:[]};return n&&n(i),i}}function h(e){return function(t,n){var r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(/^[\d\ -]+$/)&&r.push(e.message));var i={errors:r,warnings:[]};return n&&n(i),i}}var m=function(e){return!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)};function _(e){return function(t,n){var r=[];t&&!m(t)&&r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function g(e){return function(t,n){var i=[];if(t)try{var o=(0,r.Z)(t);o&&o.protocol&&("http"!==o.protocol||"localhost"===o.hostname)||i.push(e.message)}catch(l){i.push(e.message)}var a={errors:i,warnings:[]};return n&&n(a),a}}function y(e){return function(t,n){var r=[];(e.should_trim||!1)&&(t=t&&t.trim());var i=t.length;e.min&&i<e.min?r.push(e.minErrorString):e.max&&i>e.max&&r.push(e.maxErrorString);var o={errors:r,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){var r=!e.checkExclusion,i=e.substrings,o=[];(r&&!i.some((function(e){return t.includes(e)}))||!r&&i.some((function(e){return t.includes(e)})))&&o.push(e.message);var a={errors:o,warnings:[]};return n&&n(a),a}}function b(e){return function(t,n){var r=[];t!==(e&&e.targetValue)&&r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function x(e){return function(t,n){var r=[];(t?parseFloat(t):0)<e.value&&r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function P(e){return function(t,n){var r=new Date(t),i=[];e.date instanceof Date&&r instanceof Date&&e.date<r&&i.push(e.message);var o={errors:i,warnings:[]};return n&&n(o),o}}function w(e){return function(t,n){var r=[];/^[\040-\176]*$/.test(t)||r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function j(e){return function(t,n){var r=2;if(e.hasFractionalCents)r=3;else if(e.currencyCode){r=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions().maximumFractionDigits}var i=r?"^\\d*(\\.\\d{1,".concat(r,"})?$"):"^\\d*$",o=new RegExp(i),a=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(o)&&(t=t&&t.trim(),a.push(e.message));var l={errors:a,warnings:[]};return n&&n(l),l}}function S(e){return function(t,n){var r=[];Number(t)>=1e13&&r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function O(e){return function(t,n){t=t&&t.trim();var r=[],i=new Date(t);t&&!i.getTime()&&r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function k(e){return function(t,n){var r=t&&t.trim(),i=[];r&&!r.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);var o={errors:i,warnings:[]};return n&&n(o),o}}function C(e){return function(t,n){var r=[];e.pattern.test(t)||r.push(e.message);var i={errors:r,warnings:[]};return n&&n(i),i}}function A(e,t){var n,r=e.map((function(e){return e(t).errors}));return(n=[]).concat.apply(n,i(r))}function I(e,t){var n="";return t.some((function(t){var r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)})),n}},845772:function(e,t,n){"use strict";var r=n(717615),i=n(19121),o=n(231947);t.Z=function(){var e=(0,i.Z)(),t=(0,r.Z)();return(0,o.lJ)(e,t)}},664569:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},426975:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children;return(0,i.jsx)(r.xu,{marginTop:4,minHeight:48,children:t})}},312918:function(e,t,n){"use strict";n.r(t);var r=n(76911),i=n(116303),o=n(985913),a=n(954931),l=n(694379),s=n(883561),c=n(941646),u=n(898781),d=n(777906),p=n(215292),f=n(349700),h=n(773285),m=n(202870),_=n(908390),g=n(515198);t.default=function(e){var t=(0,u.ZP)(),n=e.followerCount,y=e.fullName,v=e.hasVerifiedIdentity,b=e.imageUrl,x=e.isPromoted,P=e.isVerifiedMerchant,w=e.profileUrl,j=e.sponsorName,S=e.sponsorshipStatus,O=e.sponsorUsername,k=void 0===O?"":O,C=e.verified,A=e.color,I=void 0===A?"default":A,E=e.onNavigateClick,T=e.onNavigateSponsorClick,D=e.openNewTab,z=e.isLeadPin,R=void 0!==z&&z,Z=(0,h.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,L=(0,o.Z)(t.bt("Link do avatar de {{ fullName }}", "{{ fullName }} avatar link", "creatorCardProfile.avatar.accessibilityLabel", undefined, true),{fullName:null!=y?y:""}),B=(0,g.jsx)(p.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,o=e.onBlur,a=e.onFocus,l=e.onMouseEnter,s=e.onMouseLeave;return(0,g.jsx)(_.xu,{onBlur:o,onFocus:a,onMouseEnter:l,onMouseLeave:s,children:(0,g.jsx)(_.zd,{rounding:"circle",wash:r||t||n,children:(0,g.jsx)(i.Z,{accessibilityLabel:L,name:null!=y?y:"",size:"md",src:null!=b?b:"",verified:C})})})}}),M=(0,s.ZP)(y,70),F=(0,g.jsxs)(r.Fragment,{children:[x&&(0,g.jsx)(_.xv,{size:"200",lineClamp:1,weight:"bold",children:t.bt("Promovido por", "Promoted by", "indicating the username of the person who promoted the pin", undefined, true)}),(0,g.jsx)(c.Z,{id:"creator-profile-name",children:(0,g.jsx)(_.xu,{maxWidth:270,children:(0,g.jsx)(_.xv,{color:I,size:"200",weight:R?"normal":"bold",children:v||P?(0,g.jsx)(d.Z,{badgeSize:"xs",badgeSpacing:2,fullName:M,identityIsVerified:v,isVerifiedMerchant:P}):y})})})]}),N=k&&j||m.j.includes(S)&&Z,U="/".concat(null!=k?k:"","/");return(0,g.jsxs)(_.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",children:[(0,g.jsx)(_.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:w?(0,g.jsx)(_.iP,{role:"link",rel:(0,a.Z)(w)?"none":"nofollow",target:D?"blank":null,onTap:E,href:w,children:B}):B}),(0,g.jsxs)(_.xu,{children:[(0,g.jsx)(_.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:w?(0,g.jsx)(_.rU,{underline:"none",href:w,onClick:E,rel:(0,a.Z)(w)?"none":"nofollow",target:D?"blank":null,children:F}):F}),N?(0,g.jsx)(_.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,g.jsx)(m.Z,{href:U,isPromoted:x,sponsorName:j,sponsorUsername:k,sponsorshipStatus:S,onNavigateSponsorClick:T})}):!!n&&(0,g.jsx)(_.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,g.jsx)(_.xv,{color:I,size:"200",children:(0,f.nk)(t.nbt(["{{ followerCount }} seguidor", "{{ followerCount }} seguidores"], n, "closeup.creator.followerCount", true),{followerCount:(0,g.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},857752:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(194249),i=n(167678),o=n(515198);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,i.ZP)({resolved:{},chunkName:function(){return"EditorWithMentionsInternal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(62823),n.e(35978)]).then(n.bind(n,400049))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 400049}});function u(e){return(0,o.jsx)(c,l(l({},e),{},{fallback:(0,o.jsx)(r.Z,{})}))}},194249:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),i=n(908390),o=n(515198);function a(){var e=(0,r.ZP)();return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e.bt("Carregando editor", "Loading editor", "EditorWithMentionsFallback.loading", undefined, true),show:!0})})}},235872:function(e,t,n){"use strict";n.d(t,{SF:function(){return r},XU:function(){return o},b7:function(){return i}});var r=5,i=5,o=1},271040:function(e,t,n){"use strict";var r=n(898781),i=n(515198);t.Z=function(){var e=(0,r.ZP)();return(0,i.jsx)("div",{className:"errorMessage",children:(0,i.jsx)("div",{className:"standaloneErrorPage",children:(0,i.jsx)("div",{children:e.bt("Opa! Não foi possível encontrar essa página.", "Whoops! We couldn’t find that page.", " - ", undefined, true)})})})}},43898:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.htmlFor,n=e.errorMessage;return(0,i.jsx)(r.__,{htmlFor:t,children:(0,i.jsx)(r.xu,{marginTop:1,children:(0,i.jsx)(r.xv,{color:"error",size:"200",children:n})})})}},897103:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(76911),i=n(506979),o=n(488769),a=n(27255),l=n(654287),s=n(984206),c=n(109892),u=n(717615),d=n(784590),p=n(19121),f=n(615298),h=n(507016),m=n(231947),_=n(414327),g=n(898781),y=n(908390),v=n(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=e.board,n=e.hovered,r=e.searchQuery,i=t.privacy===a.Z.BoardPrivacy.SECRET;return(0,v.jsxs)(y.xu,{color:n?"secondary":"default",display:"flex",padding:2,rounding:2,children:[(0,v.jsx)(y.xu,{flex:"grow",children:(0,v.jsx)(y.xv,{weight:"bold",children:(0,h.W)(r,t.name)})}),(0,v.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",flex:"none",children:[i&&(0,v.jsx)(o.Z,{type:"secret"}),t.is_collaborative&&(0,v.jsx)(o.Z,{type:"group"})]})]})}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r,i=S(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),A(k(t=i.call(this,e)),"getSections",(function(){var e;if(null===(e=t.props.boardResource.data)||void 0===e||!e.all_boards)return[];var n=t.state.searchQuery,r=t.props.boardResource.data.all_boards;return n.length>=s.Z?[{items:(0,f.j)(r,n)}]:[{items:r}]})),A(k(t),"createBtnDisabled",(function(){var e;if(null===(e=t.props.boardResource.data)||void 0===e||!e.all_boards)return!1;var n=t.props.boardResource.data.all_boards,r=t.state.searchQuery;return n.some((function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}))})),A(k(t),"handleBoardCreate",(function(e){return function(){var e=t.state.searchQuery;if(e){var n=t.props,r=n.createBoard,i=n.invalidateBoardPickerBoardsResource,o=n.onBoardCreate;i(),o?o(e):r({name:e,privacy:"public"}).then((function(e){(0,t.props.onBoardChosen)(e)}))}}})),A(k(t),"handleBoardSelected",(function(e){t.props.onBoardChosen(e),t.setState({selectedBoard:e})})),A(k(t),"handleSearchQueryUpdate",(function(e){t.setState({searchQuery:e})})),A(k(t),"renderRow",(function(e){var n=e.item,r=e.hovered,i=t.state.searchQuery;return(0,v.jsx)(I,{board:n,hovered:r,searchQuery:i})})),t.state={searchQuery:"",selectedBoard:e.board},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=e.board,r=e.isBoardlessPinsBoard,i=e.isQuickCreatesBoard,o=e.isStoryPin,a=e.viewer,s=this.state,c=s.searchQuery,u=s.selectedBoard,d=this.props.i18n.bt("Selecione uma pasta", "Select a board", "Label for selecting a board in Edit Pin Modal", undefined, true);return n?d=i?this.props.i18n.bt("Escolha a pasta", "Choose board", "BoardPickerFlyout.displayBoardName.quickCreatesBoard", undefined, true):r?this.props.i18n.bt("Perfil", "Profile", "BoardPickerFlyout.displayBoarName.boardlessPins", undefined, true):n.name:u&&(d=u.name),(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.$j,{accessibilityLabel:this.props.i18n.bt("carregando o seletor de pastas", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!t.isLoaded}),t.data&&(0,v.jsx)(l.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:d||"",isStoryPin:o,onCreate:this.handleBoardCreate(a),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:c,sections:this.getSections(),blockBoardChange:null==n?void 0:n.is_ads_only})]})}}])&&w(t.prototype,n),r&&w(t,r),o}(r.Component);function T(e){var t=(0,c.Z)(),n=(0,g.ZP)(),r=(0,i.useDispatch)(),o=(0,p.Z)(),a=(0,i.useSelector)((function(e){return e.advertiser})),l=o.isAuth&&a&&a.owner_user_id!==o.id,s=l?a.id:null,f=l?a.owner_user_id:null,h=(0,u.Z)(),y=(0,m.Ms)(o,h),b=y||f,x=(0,d.Z)({name:"BoardPickerBoardsResource",options:P({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:b},s&&f?{advertiser_id:s,filter:"protected",username:f}:{}),noCache:!0});return(0,v.jsx)(E,P(P({},e),{},{advertiser_id:s,boardResource:x,createBoard:function(e){return t({boardCreateOptions:e})},invalidateBoardPickerBoardsResource:function(){r((0,_.jB)("BoardPickerBoardsResource",P({field_set_key:"board_picker"},y?{username:y}:{username:f})))},username:f,viewer:o,i18n:n}))}},654287:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(76911),i=n(176020),o=n(33897),a=n(960260),l=n(887831),s=n(898781),c=n(908390),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(s,e);var t,n,r,l=g(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(v(e=l.call.apply(l,[this].concat(n))),"state",{showFlyout:!1}),x(v(e),"setContainerRef",(function(t){e.containerRef=t})),x(v(e),"handleCreate",(function(){e.hideFlyout();var t=e.props.onCreate;t&&t()})),x(v(e),"handleSelectItem",(function(t){e.hideFlyout();var n=e.props,r=n.onSelect,i=n.onCreate;t?r(t):i&&i()})),x(v(e),"handleDropdownTouch",(function(){e.setState((function(e){return{showFlyout:!e.showFlyout}}))})),x(v(e),"handleHideFlyout",(function(t){e.containerRef&&t.target instanceof HTMLElement&&!e.containerRef.contains(t.target)&&e.hideFlyout()})),x(v(e),"hideFlyout",(function(){(0,e.props.hoverHandlers.onMouseLeave)(),e.setState({showFlyout:!1})})),e}return t=s,(n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"render",value:function(){var e=this.props,t=e.dropdownValue,n=e.fetchMore,r=e.hoverHandlers,l=r.onMouseOver,s=r.onMouseLeave,d=e.isHovering,p=e.isStoryPin,f=e.onCreate,h=e.onSearchQueryUpdate,m=e.renderRow,_=e.searchQuery,g=e.sections,y=e.createBtnDisabled,v=e.blockBoardChange,b=this.state.showFlyout;this.indexManager=new i.Z(g.map((function(e){return e.items}))),this.indexManager.setSelectItem(this.handleSelectItem);var x=!_.trim()||!!y;return(0,u.jsxs)(c.xu,{ref:this.setContainerRef,flex:p?"grow":void 0,children:[(0,u.jsx)(c.iP,{fullWidth:!!p,onMouseEnter:l,onMouseLeave:s,onTap:this.handleDropdownTouch,rounding:2,disabled:!!v,children:(0,u.jsxs)(c.xu,{alignItems:"center",color:d?"lightWash":"secondary",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:p?4:3,rounding:p?4:2,children:[(0,u.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:(0,u.jsx)(c.xv,{weight:"bold",color:v?"subtle":"default",children:t})}),v?(0,u.jsx)(c.JO,{accessibilityLabel:"",color:"subtle",icon:"arrow-down",size:14}):(0,u.jsx)(c.JO,{accessibilityLabel:"",color:"default",icon:"arrow-down",size:14})]})}),b&&(0,u.jsx)(c.xu,{position:"relative",children:(0,u.jsxs)(c.xu,{borderStyle:"sm",color:"default",direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:p?4:2,width:"100%",zIndex:new c.Ry(1),children:[(0,u.jsx)(c.xu,{children:(0,u.jsxs)(c.xu,{display:"flex",marginStart:-1,marginEnd:-1,padding:2,children:[(0,u.jsx)(c.xu,{display:"flex",flex:"grow",paddingX:1,children:(0,u.jsx)(o.Z,{hideIcon:!0,indexManager:this.indexManager,onChange:h,value:_})}),f&&(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{disabled:x,onClick:this.handleCreate,text:this.props.i18n.bt("Criar", "Create", "board or section dropdown create button", undefined, true)})})]})}),(0,u.jsx)(a.Z,{fetchMore:n,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:m,sections:g})]})})]})}}])&&m(t.prototype,n),r&&m(t,r),s}(r.Component);function w(e){var t=(0,s.ZP)(),n=(0,l.Z)(),r=n.isHovering,i=n.hoverHandlers;return(0,u.jsx)(P,f(f({},e),{},{i18n:t,isHovering:r,hoverHandlers:i}))}},241563:function(e,t,n){"use strict";n.d(t,{Z:function(){return E},x:function(){return I}});var r=n(76911),i=n(506979),o=n(654287),a=n(984206),l=n(784590),s=n(678638),c=n(615298),u=n(507016),d=n(898781),p=n(908390),f=n(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k="NO_SECTION_VALUE";function C(e){var t=e.section,n=e.hovered,r=e.searchQuery;return(0,f.jsxs)(p.xu,{children:[(0,f.jsx)(p.xu,{color:n?"secondary":"default",display:"flex",padding:2,rounding:2,children:(0,f.jsx)(p.xu,{flex:"grow",children:(0,f.jsx)(p.xv,{weight:"bold",children:(0,u.W)(r,t.title)})})}),t.id===k&&(0,f.jsx)(p.iz,{})]})}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(l,e);var t,n,r,i=P(l);function l(){var e;v(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(j(e=i.call.apply(i,[this].concat(n))),"state",{searchQuery:""}),O(j(e),"getPickerSections",(function(){var t=e.state.searchQuery,n=e.props,r=n.sectionsResource,i=n.mergingFromSectionId,o=r&&r.data||[];return o=i?o.filter((function(e){return e.id!==i})):[{id:k,title:e.props.i18n.bt("Nenhuma subpasta", "No section", "default dropdown option for selecting a board section on pin edit", undefined, true)}].concat(g(o)),t.length>=a.Z&&(o=(0,c.j)(o,t,"title")),[{items:o}]})),O(j(e),"createBtnDisabled",(function(){var t=e.props.sectionsResource,n=e.state.searchQuery;return!(!t||!t.data)&&t.data.some((function(e){var t;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===n.toLocaleLowerCase()}))})),O(j(e),"handleSectionCreate",(function(){var t=e.props,n=t.board,r=t.onSectionChange,i=t.sectionsResource,o=t.dispatch,a=t.onSectionCreate,l=e.state.searchQuery;a?a(l):o&&n.id&&o((0,s.vB)({boardId:n.id,name:l},e.props.i18n)).then((function(t){i&&i.refresh(),e.setState({searchQuery:""}),r(t)}))})),O(j(e),"handleSectionSelected",(function(t){var n=e.props.onSectionChange;t.id===k?(n(null),e.setState({searchQuery:""})):(n(t),e.setState({searchQuery:""}))})),O(j(e),"handleSearchQueryUpdate",(function(t){e.setState({searchQuery:t})})),O(j(e),"renderRow",(function(t){var n=t.item,r=t.hovered,i=e.state.searchQuery;return(0,f.jsx)(C,{hovered:r,searchQuery:i,section:n})})),e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){var t=e.selectedSectionId;if(this.props.selectedSectionId!==t){var n=this.props.sectionsResource;n&&n.refresh()}}},{key:"render",value:function(){var e,t=this.props,n=t.isStoryPin,r=t.sectionsResource,i=t.selectedSectionId,a=t.mergingFromSectionId,l=t.selectedSectionName,s=this.state.searchQuery,c=a?this.props.i18n.bt("Escolha uma subpasta", "Pick a section", "default dropdown option for selecting a board section to merge to", undefined, true):this.props.i18n.bt("Nenhuma subpasta", "No section", "default dropdown option for selecting a board section on pin edit", undefined, true);return i?(r&&r.data&&(e=r.data.find((function(e){return e.id===i}))),c=e&&e.title||c):l&&(c=l),(0,f.jsxs)(p.xu,{children:[(0,f.jsx)(p.$j,{accessibilityLabel:this.props.i18n.bt("carregando o seletor de subpastas", "loading section picker", "accessibility text for loading spinner", undefined, true),show:!!r&&!r.isLoaded}),(!r||r&&r.isLoaded)&&(0,f.jsx)(o.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:c,isStoryPin:n,onCreate:a?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:s,sections:this.getPickerSections()})]})}}])&&b(t.prototype,n),r&&b(t,r),l}(r.Component);function I(e){var t=(0,d.ZP)();return(0,f.jsx)(A,_(_({},e),{},{dispatch:(0,i.useDispatch)(),i18n:t}))}function E(e){var t=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return(0,f.jsx)(I,_(_({},e),{},{sectionsResource:t}))}},33897:function(e,t,n){"use strict";var r=n(76911),i=(n(176020),n(755742)),o=n(908390),a=n(898781),l=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;d(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(_(e=a.call.apply(a,[this].concat(n))),"setInputRef",(function(t){t&&(e._input=t)})),y(_(e),"handleKeyDown",(function(t){var n=e.props,r=n.disabled,o=n.indexManager;if(!r)switch(t.which){case i.Z.ENTER:case i.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case i.Z.UP:t.preventDefault(),o.prev();break;case i.Z.DOWN:t.preventDefault(),o.next()}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(o.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){var n=e.value;return t(n)},placeholder:this.props.i18n.bt("Pesquisar", "Search", "search bar placeholder text", undefined, true),ref:this.setInputRef,size:"lg",value:n})})}}])&&p(t.prototype,n),r&&p(t,r),s}(r.Component);t.Z=function(e){var t=(0,a.ZP)();return(0,l.jsx)(v,u(u({},e),{},{i18n:t}))}},615298:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},i=function(e){if(!e)return"";for(var t="",n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},o=function(e,t){for(var n=t.split(" "),r=e.split(" "),o=0,a=0;a<r.length;a+=1){(i(r[a]).includes(n[o])||r[a].includes(n[o]))&&(o+=1)}return o===n.length},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=t.toLowerCase();return e.filter((function(e){return o(e[n].toLowerCase(),r)}))}},425480:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(700380);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){var n=e.scrollTop,r=e.clientHeight,i=e.scrollHeight;return n+r+(t?t(r):2*r)>i},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(d(e=o.call.apply(o,[this].concat(n))),"setContainerRef",(function(t){e.containerRef=t})),f(d(e),"fetchMoreIfNecessary",(0,i.Z)((function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&h(e.containerRef,r)&&n()}),200)),e}return t=u,(n=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}])&&l(t.prototype,n),r&&l(t,r),u}(r.PureComponent)},650165:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(116303),o=n(985913),a=n(954931),l=n(898781),s=n(215292),c=n(407043),u=n(773285),d=n(350118),p=n(908390),f=n(704217),h=n(515198),m=void 0!==r?r:r=n(82364);function _(e){var t=e.hasPinner,n=e.pinnerFullName,r=e.pinnerAvatarUrl,d=e.pinnerUsername,f=e.pinnerIsAdsOnlyProfile,m=e.pinnerAdsOnlyProfileSite,_=e.savedToText,g=(0,l.ZP)(),y=(0,u.F)().checkExperiment,v=(0,c.v)().logContextEvent;if(!t)return null;var b=y("web_ads_only_profiles_link_redirect").anyEnabled&&f&&m?m:"/".concat(d||"","/"),x=(0,o.Z)(g.bt("Link do avatar de {{ pinnerFullName }}", "{{ pinnerFullName }} avatar link", "aggregatedCloseupSavedToBoardInfo.avatar.accessibilityLabel", undefined, true),{pinnerFullName:null!=n?n:""});return(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)("div",{className:"AggregatedCloseupCard",style:{padding:"0",borderTop:"none"},children:(0,h.jsx)(p.iP,{children:(0,h.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(p.rU,{accessibilityLabel:x,href:b,onClick:function(){return function(e,t){e===t&&v({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})}(b,m)},rel:(0,a.Z)(b)?"none":"nofollow",target:b===m?"blank":null,children:(0,h.jsx)(s.q,{children:function(e){var t=e.active,o=e.focused,a=e.hovered,l=e.onBlur,s=e.onFocus,c=e.onMouseEnter,u=e.onMouseLeave;return(0,h.jsx)(p.xu,{marginEnd:2,onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,children:(0,h.jsx)(p.zd,{wash:a||t||o,rounding:"circle",children:(0,h.jsx)(i.Z,{size:"sm",name:null!=n?n:"",src:null!=r?r:""})})})}})}),(0,h.jsx)(p.kC,{alignItems:"center",flex:"grow",justifyContent:"start",width:"100%",children:(0,h.jsx)(p.xu,{display:"flex",justifyContent:"between",marginStart:-5,marginEnd:-5,children:(0,h.jsx)(p.xu,{paddingX:5,children:(0,h.jsx)(p.xv,{size:"200",children:n&&_?_:null})})})})]})})})})}var g=function(e){var t=e.graphqlRef,n=e.savedToText,r=(0,f.useFragment)(m,t).pinner;return(0,h.jsx)(_,{hasPinner:!!r,pinnerFullName:null==r?void 0:r.fullName,pinnerAvatarUrl:null==r?void 0:r.imageMediumUrl,pinnerUsername:null==r?void 0:r.username,pinnerIsAdsOnlyProfile:null==r?void 0:r.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==r?void 0:r.adsOnlyProfileSite,savedToText:n})},y=function(e){var t=e.pinId,n=e.savedToText,r=(0,d.S6)()(t),i=(null!=r?r:Object.freeze({})).pinner;return(0,h.jsx)(_,{hasPinner:!!i,pinnerFullName:null==i?void 0:i.full_name,pinnerAvatarUrl:null==i?void 0:i.image_medium_url,pinnerUsername:null==i?void 0:i.username,pinnerIsAdsOnlyProfile:null==i?void 0:i.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==i?void 0:i.ads_only_profile_site,savedToText:n})};function v(e){var t=e.graphqlRef,n=e.pinId,r=e.savedToText;return t?(0,h.jsx)(g,{graphqlRef:t,savedToText:r}):(0,h.jsx)(y,{pinId:n,savedToText:r})}},240681:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return p}});var a="32px",l={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},s="".concat(a," ").concat(a," 0 0"),c="".concat(a," 0 0 ").concat(a),u="0 ".concat(a," ").concat(a," 0"),d=function(e){var t=e.isPadded,n=e.isRTL;return t?"16px":n?u:c};function p(e){var t=e.isSideBySide,n=e.isPadded,r=e.isRTL;return i(i({},l),{},t?{borderRadius:d({isPadded:n,isRTL:r})}:{borderRadius:n?"16px":s})}},763917:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{C:function(){return o},_:function(){return a}});var o=function(e){return!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname)},a=function(e){var t,n,i=r(e).reverse().find((function(e){var t=e.location;return t&&!o(t)}));return i&&i.location&&(t=i.location,n=t.pathname,/^\/search\/pins\//.test(n))?function(e){var t=e.pathname,n=e.search,r=/^\/search\/pins\/(\?.*)$/.exec(t),i=(n||r&&r[1]||"").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){return"q"===e[0]}));return i?decodeURIComponent(i[1]):""}(i.location):""}},529581:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r,i=n(954931),o=n(898781),a=n(717615),l=n(19121),s=n(231947),c=n(349700),u=n(407043),d=n(773285),p=n(130460),f=n(350118),h=n(908390),m=n(704217),_=n(515198);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=void 0!==r?r:r=n(396190);function v(e){var t=e.boardLayout,n=e.boardName,r=e.boardPrivacy,p=e.boardUrl,f=e.hasSection,m=e.isOwnPin,g=e.pinnerName,y=e.pinnerUsername,v=e.pinnerIsAdsOnlyProfile,b=e.pinnerAdsOnlyProfileSite,x=e.sectionSlug,P=e.sectionTitle,w=(0,o.ZP)(),j=(0,l.Z)(),S=(0,d.F)().checkExperiment,O=(0,a.Z)(),k=(0,u.v)().logContextEvent,C=(0,s.lJ)(j,O),A=C?"?orbac_subject_id=".concat(C):"",I=S("web_ads_only_profiles_link_redirect").anyEnabled&&v&&b?b:"/".concat(y||"","/"),E="quick_saves"===t,T="quick_creates"===t,D=(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",href:"".concat(null!=p?p:"").concat(A),underline:"hover",children:n})},"board"),z=function(e,t){e===t&&k({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})};if(T)return(0,c.nk)(w.bt("Criado por {{ pinnerName }}", "Created by {{ pinnerName }}", "closeup.AggregatedCloseupCard.quickCreatesPinText", undefined, true),{pinnerName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:g})},"pinner")});if(m){if(E)return(0,c.nk)(w.bt("{{ You }} salvou esse Pin", "{{ You }} saved this Pin", "closeup.AggregatedCloseupCard.quickSavesOwnPinText", undefined, true),{You:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:w.bt("Você", "You", "closeup.AggregatedCloseupCard.quickSavesOwnPinYouText", undefined, true)})},"you")});if(f){var R="".concat(null!=p?p:"").concat(null!=x?x:"","/").concat(A);return(0,c.nk)(w.bt("Salvo na subpasta {{ sectionName }} da pasta {{ boardName }}", "You saved to {{ sectionName }} in {{ boardName }}", "Showing that you saved this pin to a section within a board on closeup", undefined, true),{sectionName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",href:R,underline:"hover",children:P})},"section"),boardName:D})}return(0,c.nk)(w.bt("{{ You }} salvou na pasta {{ boardName }}", "{{ You }} saved to {{ boardName }}", "Indicating you saved this pin to a board on closeup", undefined, true),{You:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:w.bt("Você", "You", "\"you\" in \"{{ You }} saved to {{ boardName }}\"", undefined, true)})},"you"),boardName:D})}if("protected"===r||E)return(0,c.nk)(w.bt("{{ pinnerName }} salvou este Pin", "{{ pinnerName }} saved this Pin", "Showing who saved this pin, but not which board (private board), on closeup", undefined, true),{pinnerName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:g})},"pinner")});if(f){var Z="".concat(null!=p?p:"").concat(null!=x?x:"","/").concat(A);return(0,c.nk)(w.bt("{{ pinnerName }} salvou em {{ sectionName }} na pasta {{ boardName }}", "{{ pinnerName }} saved to {{ sectionName }} in {{ boardName }}", "Showing who saved this pin to a section within a board on closeup", undefined, true),{pinnerName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:g})},"pinner"),sectionName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",href:Z,underline:"hover",children:P})},"section"),boardName:D})}return(0,c.nk)(w.bt("{{ pinnerName }} salvou na pasta {{ boardName }}", "{{ pinnerName }} saved to {{ boardName }}", "Showing who saved this pin to which board on closeup", undefined, true),{pinnerName:(0,_.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(h.rU,{display:"inlineBlock",onClick:function(){return z(I,b)},href:I,underline:"hover",rel:(0,i.Z)(I)?"none":"nofollow",target:I===b?"blank":null,children:g})},"pinner"),boardName:D})}var b=function(e){var t=e.graphqlRef,n=e.isOwnPin,r=(0,m.useFragment)(y,t),i=r.board,o=r.pinner,a=r.section;return(0,_.jsx)(v,{boardLayout:null==i?void 0:i.layout,boardName:null==i?void 0:i.name,boardPrivacy:null==i?void 0:i.privacy,boardUrl:null==i?void 0:i.url,hasSection:!!a,isOwnPin:n,pinnerName:null==o?void 0:o.fullName,pinnerUsername:null==o?void 0:o.username,pinnerIsAdsOnlyProfile:null==o?void 0:o.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==o?void 0:o.adsOnlyProfileSite,sectionSlug:null==a?void 0:a.slug,sectionTitle:null==a?void 0:a.title})},x=function(e){var t,n,r,i,o=e.pinId,a=e.isOwnPin,l=(0,f.S6)()(o),s=null!=l?l:Object.freeze({}),c=s.board,u=s.pinner,d=s.section,h=(0,p.gC)()(c);return"object"===g(c)&&(h=c),(0,_.jsx)(v,{boardLayout:null===(t=h)||void 0===t?void 0:t.layout,boardName:null===(n=h)||void 0===n?void 0:n.name,boardPrivacy:null===(r=h)||void 0===r?void 0:r.privacy,boardUrl:null===(i=h)||void 0===i?void 0:i.url,hasSection:!!d,isOwnPin:a,pinnerName:null==u?void 0:u.full_name,pinnerUsername:null==u?void 0:u.username,pinnerIsAdsOnlyProfile:null==u?void 0:u.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==u?void 0:u.ads_only_profile_site,sectionSlug:null==d?void 0:d.slug,sectionTitle:null==d?void 0:d.title})};function P(e){var t=e.graphqlRef,n=e.pinId,r=e.isOwnPin;return t?(0,_.jsx)(b,{graphqlRef:t,isOwnPin:r}):(0,_.jsx)(x,{pinId:n,isOwnPin:r})}},502712:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var r=n(76911),i=n(818398),o=n(307061);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,o.Z)((function(e){var t=e.richSummary.display_name;return t?l(l({},e),{},{displayName:t}):null})),u=n(69586),d=n(622305),p=n(74155),f=n(802933),h=n(499337),m=n(762615),_=n(432730);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,o.Z)((function(e){var t=e.pin.rich_summary;return t?y(y({},e),{},{richSummary:t}):null}));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(0,o.Z)((function(e){var t=e.pin,n=e.inChangeTitlesExp,r=t.carousel_data,i=t.title,o=t.closeup_unified_title,a=n?o:i;if(r){var l=r.carousel_slots,s=void 0===l?[]:l,c=r.index;s[c]&&s[c].title&&(a=s[c].title)}return a?P(P({},e),{},{title:a}):null})),S=n(533439),O=n(134185),k=n(170168),C=n(559073),A=n(92261),I=n(287072),E=n(908390),T=n(515198);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){var t=e.children;return(0,T.jsx)(E.xu,{marginTop:4,children:t})},L=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=((0,p.Z)(t)||{}).link,r=((0,u.Z)((0,d.Z)(t))||{}).imageOrig,i=void 0===r?{}:r,o=t.accessibilityLevel,a=t.children,l=t.isLink,s=void 0===l||l,c=t.onClick,h=t.pin,m=t.pin.carousel_data,_=t.smallerFontSize,g=n,y=a;if(m){var v=m.carousel_slots,b=void 0===v?[]:v,x=m.index;b[x]&&(g=b[x].link||g,y=b[x].title||y)}var P=y&&(0,T.jsx)(E.X6,{accessibilityLevel:o,children:y}),w=_?(0,T.jsx)(E.xv,{weight:"bold",children:a}):P;return(0,T.jsx)("div",{itemProp:"name",children:s?(0,T.jsx)(I.p,{href:g||i.url,target:"blank",externalData:{pin:h},children:function(e){var t=e.handleClick;return(0,T.jsx)(E.rU,{underline:"none",href:g||i.url,rel:"nofollow",target:"blank",onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),c(),t({event:n})},children:w})}}):w})},B=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=t.id,r=((0,C.d9)((0,d.Z)(t))||{}).image736x;return(0,T.jsxs)(E.xu,{children:[(0,T.jsx)("meta",{content:"https://".concat(k.Vi,"/pin/").concat(n,"/"),itemProp:"url"}),r&&(0,T.jsx)("meta",{content:r.url,itemProp:"image"})]})},M=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=((t||{}).pin||{}).grid_title;return(0,T.jsx)(r.Fragment,{children:n&&(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{children:(0,T.jsx)(L,z(z({},t),{},{children:n}))})})})},F=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=(t||{}).pin||{},i=n.rich_metadata,o=n.grid_title,a=(i||{}).title;return(0,T.jsx)(r.Fragment,{children:(o||a)&&(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{itemType:A.iB.PRODUCT,children:(0,T.jsxs)(L,z(z({},t),{},{children:[o||a,(0,T.jsx)(B,z({},t))]}))})})})},N=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=(t||{}).pin||{},r=n.rich_metadata,i=n.grid_title,o=(r||{}).title;return t?(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{itemType:A.iB.ARTICLE,children:(0,T.jsx)(L,z(z({},t),{},{children:i||o}))})}):null},U=function(e){var t=(0,m.Z)((0,_.Z)((0,f.Z)(e)))||null;if(!t)return null;var n=t.recipe,r=n.name,i=n.summaryText;return(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{itemType:A.iB.RECIPE,children:(0,T.jsxs)(L,z(z({},t),{},{children:[(0,T.jsx)(E.xu,{children:r}),i&&(0,T.jsx)(E.xu,{children:i&&i.toLowerCase().trim()})]}))})})},H=function(e){var t=(0,S.Z)((0,_.Z)((0,f.Z)(e)))||null;return t&&t&&!t.tutorial.fromAggregatedData&&t.tutorial.name?(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{children:(0,T.jsx)(L,z(z({},t),{},{children:(0,T.jsx)(E.xu,{children:t.tutorial.name})}))})}):null},V=function(e){var t=c(b((0,f.Z)(e)))||null;return t&&t?(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{children:(0,T.jsx)(L,z(z({},t),{},{children:(0,T.jsx)(E.xu,{children:t.displayName})}))})}):null},W=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=((t||{}).pin||{}).grid_title;return t?(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{itemType:A.iB.ARTICLE,children:(0,T.jsx)(L,z(z({},t),{},{children:n}))})}):null};function G(e){return((((e.carouselInfo||{}).carouselData||{}).carousel_slots||[])[0]||{}).title}var K=function(e){var t=(0,f.Z)(e)||null;if(!t)return null;var n=G(t);return(0,T.jsx)(Z,{children:(0,T.jsx)(O.Z,{itemType:A.iB.ARTICLE,children:(0,T.jsx)(L,z(z({},t),{},{children:n}))})})},q=function(e){var t=(0,f.Z)(e),n=(0,_.Z)(t),r=null;return r=e.carouselInfo&&t&&G(t)?K:(0,h.Z)(n)?F:j((0,f.Z)(e))?M:(0,S.Z)(n)?H:(0,m.Z)(n)?U:(0,i.Z)(n)?N:c(b((0,f.Z)(e)))?V:W,(0,T.jsx)("div",{className:"CloseupTitleCard",children:r?(0,T.jsx)(r,z({},e)):null})}},819303:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),i=n(966676),o=n(780280),a=n(92261),l=n(515198);function s(e){var t=e.children,n=e.isHeightConstrained,s=void 0!==n&&n,c=e.isStoryPin,u=void 0!==c&&c,d=e.isWideVideo,p=void 0!==d&&d,f=(0,i.x4)(),h=f.showCloseupContentRight,m=f.showProductDetailPage,_=f.viewportSize,g=f.maxWidth,y=g.pdp,v=g.regular,b=m?y:v,x=p?a.KP:b,P=m?a.CI:1050,w=p?a.Gg:P,j=(0,o.B)().isRTL;return u?(0,l.jsx)(r.xu,{display:"flex",position:"absolute",top:!0,left:j,right:!j,bottom:s,width:a.Gg,children:t}):(0,l.jsx)(r.xu,{maxWidth:(h||p)&&"lg"===_?x:w,width:p?"100%":null,children:t})}},274970:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(240681),i=n(908390),o=n(966676),a=n(780280),l=n(92261),s=n(515198);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t,n,c,d=e.children,p=e.isVideo,f=void 0!==p&&p,h=e.isWideVideo,m=e.shouldPadImage,_=e.styleOverrides,g=void 0===_?{}:_,y=e.variant,v=(0,o.x4)(),b=v.showCloseupContentRight,x=v.showProductDetailPage,P=v.viewportSize,w=v.paneWidth,j=w.pdp,S=w.regular,O=(0,a.B)(),k="default"===y;if(!(b&&"lg"===P||k||h))return(0,s.jsx)(i.xu,{children:d});var C=x?j:S,A=(0,r.Z)({isSideBySide:b&&!h,isPadded:m,isRTL:O.isRTL}),I=h?l.KP:C,E=h?0:6,T=h?l.KP:496,D=(null===(t=g.height)||void 0===t?void 0:t.height)||"100%",z=(null===(n=g.maxWidth)||void 0===n?void 0:n.maxWidth)||I,R=(null===(c=g.minWidth)||void 0===c?void 0:c.minWidth)||C;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:u({borderRadius:g.borderRadius||A.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},m&&f?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{})},display:k?"flex":void 0,flex:k&&h?"grow":void 0,height:k?D:void 0,justifyContent:k?"center":void 0,marginBottom:k?void 0:6,marginEnd:k?void 0:E,maxWidth:k?z:T,minWidth:k?R:344,rounding:k?void 0:2,children:d})}},312013:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(966676),o=n(515198);function a(){return(0,o.jsx)(i.ZP.Consumer,{children:function(e){var t=e.showCloseupContentRight,n=e.viewportSize;return t&&"lg"===n?(0,o.jsx)(r.xu,{width:16}):null}})}},273690:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(92261),o=n(966676),a=n(515198);function l(e){var t=e.children,n=e.isStoryPin,l=void 0!==n&&n,s=e.isScheduledPin,c=void 0!==s&&s,u=e.isWideVideo,d=void 0!==u&&u,p=(0,o.x4)(),f=p.showCloseupContentRight,h=p.showProductDetailPage,m=p.viewportSize,_=p.paneWidth,g=_.pdp,y=_.regular,v=p.maxWidth,b=v.pdp,x=v.regular,P=h?g:y,w=h?b:x,j=f&&"lg"===m&&!l&&!d,S=c?i.bx:w,O=j?S:P;return(0,a.jsx)(r.xu,{direction:d?"column":void 0,display:j?"flex":void 0,flex:"grow",width:d?void 0:O,children:t})}},916062:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53987),i=n(609500);function o(e){var t=(0,i.useLocation)(),n=(0,i.useParams)(),o=(0,i.useHistory)();return function(){if(e&&(0,r.L6)(t)&&n.id===e.id){var i,a,l,s,c="quick_saves"===(null===(i=e.board)||void 0===i?void 0:i.layout)||"quick_creates"===(null===(a=e.board)||void 0===a?void 0:a.layout)?"/me/":null!==(l=null===(s=e.board)||void 0===s?void 0:s.url)&&void 0!==l?l:"/";o.replace(c)}}}},827834:function(e,t,n){"use strict";var r=n(623568);t.Z=function(e,t){var n=e.action||void 0;return"PUSH"===n?"click":"POP"!==n||e.location.key?t&&(0,r.sV)(t)?"deeplink":"click":"deeplink"}},940107:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(763917),i=function(e){var t;return null!==(t=e.map((function(e){return!!(t=e.location)&&((0,r.C)(t)||(n=t.pathname,/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(n)));var t,n})).find((function(e){return!0===e})))&&void 0!==t&&t};function o(e){var t=e.boardUrl,n=e.currentHistoryStack,r=e.history,o=e.isFromExtension,a=void 0!==o&&o,l=e.hasViewerPartner;return function(){i(n)||a?a&&1===n.length?r.push(null!=t?t:""):r.goBack():l?r.push("/homefeed/"):r.push("/")}}},13713:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(605028),i=n(692627),o=n(35495);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n,a,s,c,u=e.deepLinkBackGoesToBoard,d=e.goBack,p=e.pin,f=e.routePush,h=e.trafficSource,m=e.viewer,_=e.requestContext,g=e.viewType,y=e.viewParameterType,v=e.componentType,b=(0,r.Z)(p).isLeadPin,x=null===(n=p.promoted_lead_form)||void 0===n?void 0:n.lead_id;b?(t({event_type:4100,view_type:175,view_parameter:null,component:null,aux_data:l(l({},(0,o.Kl)(p,{})||{}),{},{lead_form_id:x})}),t({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,aux_data:{lead_form_id:x}})):t(l(l({event_type:101,view_type:g||3,view_parameter:y||(0,i.Z)({hasPin:!!p,hasPinRichMetadata:!(null==p||!p.rich_metadata),hasPinRichMetadataProducts:!(null==p||null===(a=p.rich_metadata)||void 0===a||!a.products),hasPinRichMetadataArticle:!(null==p||null===(s=p.rich_metadata)||void 0===s||!s.article),hasPinRichMetadataRecipe:!(null==p||null===(c=p.rich_metadata)||void 0===c||!c.recipe),hasPinStoryPinData:!(null==p||!p.story_pin_data)})},v?{component:v}:void 0),{},{element:34}));var P,w,j,S,O,k,C="deep_linking"===h&&!u,A=m.partner?"/homefeed/":"/",I=(P=new URL(_.fullPath,_.origin),k=P.searchParams,{utm_source:null!==(w=k.get("utm_source"))&&void 0!==w?w:"",utm_medium:null!==(j=k.get("utm_medium"))&&void 0!==j?j:"",utm_campaign:null!==(S=k.get("utm_campaign"))&&void 0!==S?S:"",news_hub_id:null!==(O=k.get("news_hub_id"))&&void 0!==O?O:""}),E=I.news_hub_id,T="".concat(I.utm_source)==="".concat(31),D="/news_hub/".concat(E);return T&&E?f(D):C?f(A):d()}},627387:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(622305),i=n(802933),o=n(559073);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null===(e=(0,o.eR)((0,r.Z)((0,i.Z)({pin:t}))))||void 0===e?void 0:e.image236x}},69586:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){var t=e.images.orig||{},n=t.url,r=t.width,o=t.height;return n&&r&&o?i(i({},e),{},{imageOrig:{url:n,width:r,height:o}}):null}));t.Z=a},559073:function(e,t,n){"use strict";n.d(t,{Ip:function(){return c},d9:function(){return u},eR:function(){return s}});var r=n(307061);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return function(t){var n=t.images[e]||{},r=n.url,i=n.width,o=n.height;return r&&i&&o?{url:r,width:i,height:o}:null}},s=(0,r.Z)((function(e){var t=l("236x")(e);return t&&o(o({},e),{},{image236x:t})})),c=(0,r.Z)((function(e){var t=l("564x")(e);return t&&o(o({},e),{},{image564x:t})})),u=(0,r.Z)((function(e){var t=l("736x")(e);return t&&o(o({},e),{},{image736x:t})}))},949318:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(794230),i=n(56641);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||window.location.href;(0,i.Z)("/login?next=".concat(t?(0,r.Z)(n,{type:"signup"}):encodeURIComponent(n)))}},392019:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(496793);function i(e){var t=e.history,n=e.isBot,i=e.location,o=e.viewerId,a=e.viewerIsAuth;!Boolean(n)&&o&&"undefined"!=typeof window&&(0,r.U)(window.location,o,!1,a,(function(e){return t.replace(e,i.state)}))}},535684:function(e,t,n){"use strict";n.d(t,{L:function(){return r},b:function(){return i}});var r=(0,n(76911).createContext)({isStoryPinWithProducts:!1}),i=r.Provider},350948:function(e,t,n){"use strict";n.d(t,{IS:function(){return _},Ys:function(){return m},ZP:function(){return j},j$:function(){return v}});var r,i=n(134185),o=n(50286),a=n(349700),l=n(578661),s=n(923297),c=n(350118),u=n(898781),d=n(908390),p=n(704217),f=n(515198),h=void 0!==r?r:r=n(906587),m=function(e,t){var n=e.m,r=e.h,i=e.rm,o=e.rh;return n&&(!r||o<=0)?(0,a.nk)(t.nbt(["{{mins}} minuto", "{{mins}} minutos"], i, "number showing the minutes to complete a recipe", true),{mins:i.toString()}):r?(0,a.nk)(t.nbt(["{{hrs}} hora", "{{hrs}} horas"], o, "number showing the hours to complete a recipe", true),{hrs:o.toString()}):null},_=function(e){var t=e.m,n=e.h,r=e.rm,i=e.rh,o=e.i18n;return t&&(!n||i<=0)?(0,a.nk)(o.bt("{{mins}} min", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:r.toString()}):n?(0,a.nk)(o.bt("{{hrs}} h {{mins}} min", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:n.toString(),mins:t.toString()}):null},g=function(e,t){var n=e&&e.length>0&&e.join(", "),r=t&&t.summary;return n&&r?"".concat(n," • ").concat(r):n||r},y=function(e){return e?e.reduce((function(e,t){var n,r;return e+(null!==(n=null===(r=t.ingredients)||void 0===r?void 0:r.length)&&void 0!==n?n:0)}),0):0},v=function(e){var t,n=e.cookTimesCookM,r=e.cookTimesCookH,i=e.cookTimesTotalM,o=e.cookTimesTotalH,a=e.hasCookTimesTotal,l=e.i18n;return t=a?(0,s.X)({m:i||0,h:o||0}):(0,s.X)({m:n||0,h:r||0}),m(t,l)};function b(e){var t=e.category,n=e.ingredients,r=e.textSize,i=void 0===r?"300":r;return(0,f.jsxs)(d.xu,{marginBottom:4,children:[t&&(0,f.jsx)(d.xu,{children:(0,f.jsx)(d.xv,{weight:"bold",size:i,children:t})}),(null!=n?n:[]).map((function(e){var t,n;return(0,f.jsx)(d.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,f.jsxs)(d.xv,{size:i,children:[e.amt||null," ",e.name]})},"".concat(null!==(t=e.name)&&void 0!==t?t:"","-").concat(null!==(n=e.name)&&void 0!==n?n:""))}))]})}var x=function(e){var t,n,r,a,s=e.categorizedIngredients,c=e.cookTimes,p=e.image,h=e.ingredientCount,m=e.ingredientsDescription,_=e.name,g=e.pinLink,y=(0,u.ZP)(),x=(0,o.ZP)();return v({cookTimesCookM:null==c||null===(t=c.cook)||void 0===t?void 0:t.m,cookTimesCookH:null==c||null===(n=c.cook)||void 0===n?void 0:n.h,cookTimesTotalM:null==c||null===(r=c.total)||void 0===r?void 0:r.m,cookTimesTotalH:null==c||null===(a=c.total)||void 0===a?void 0:a.h,hasCookTimesTotal:!(!c||!c.total),i18n:y})||h||m?(0,f.jsxs)(d.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,f.jsxs)(d.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,f.jsx)(d.xu,{marginBottom:4,children:(0,f.jsx)(d.xv,{weight:"bold",align:"desktop"===x?"start":"center",children:y.bt("Ingredientes", "Ingredients", "Ingredients category heading for recipes", undefined, true)})}),(0,f.jsxs)(i.Z,{itemScope:!0,itemType:l.G,children:[(0,f.jsx)("meta",{content:_,itemProp:"name"}),p&&(0,f.jsx)("meta",{content:p,itemProp:"image"}),Array.isArray(s)&&s.length>0&&(0,f.jsx)(d.xu,{column:12,"data-test-id":"single-column-ingredients",children:s.map((function(e,t){var n=e.category,r=e.ingredients;return(0,f.jsx)(d.xu,{marginBottom:2,children:(0,f.jsx)(b,{category:n,ingredients:r,textSize:"300"})},t)}))})]})]}),(0,f.jsx)(d.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===x?"center":void 0,children:g&&(0,f.jsx)(d.zx,{text:y.bt("Fazer", "Make it", "closeup.recipe.make_it_button", undefined, true),role:"link",href:g,target:"blank"})})]}):null},P=function(e){var t=e.graphqlRef,n=(0,p.useFragment)(h,t),r=n.imageSpec_474x,i=n.link,o=n.richMetadata,a=null==o?void 0:o.recipe,l=null==a?void 0:a.categorizedIngredients,s=y(l),c=(null==a?void 0:a.categorizedIngredients)&&g(a.diets,a.servingsSummary);return(0,f.jsx)(x,{categorizedIngredients:l,cookTimes:null==a?void 0:a.cookTimes,image:null==r?void 0:r.url,ingredientCount:s,ingredientsDescription:c,name:null==a?void 0:a.name,pinLink:i})},w=function(e){var t,n,r=e.pinId,i=(0,c.S6)()(r),o=(null==i||null===(t=i.rich_metadata)||void 0===t?void 0:t.recipe)||{},a=o.cook_times,l=o.name,s=o.categorized_ingredients,u=o.diets,d=o.servings_summary,p=y(s),h=s&&g(u,d);return(0,f.jsx)(x,{categorizedIngredients:s,cookTimes:a,image:(null===(n=((null==i?void 0:i.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:p,ingredientsDescription:h,name:l,pinLink:(null==i?void 0:i.link)||""})};function j(e){var t=e.graphqlRef,n=e.pinId;return t?(0,f.jsx)(P,{graphqlRef:t}):(0,f.jsx)(w,{pinId:n})}},725214:function(e,t){"use strict";t.Z=function(e){switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},298024:function(e,t,n){"use strict";n.d(t,{Ph:function(){return i},Re:function(){return a},si:function(){return o}});var r=n(50286),i=function(e){return e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null},o=function(){return"phone"!==(0,r.ZP)()?180:130},a=function(){return"phone"!==(0,r.ZP)()?180:80}},856306:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Z},VS:function(){return T},It:function(){return R}});var r=n(506979),i=n(725214),o=n(886076),a=n(248975),l=n(830157),s=n(954571),c=n(102500),u=n(623568),d=n(867820);function p(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}var f,h=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o,a,l,s,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pinId,i=t.link,o=t.mobileLink,a=t.origImageUrl,l=t.trackedLink,s=t.clientTrackingParams,d={check_only:!0,client_tracking_params:s,pin_id:null!=r?r:null,url:null!==(n=(0,u.Zt)({link:i,mobileLink:o,origImageUrl:a,trackedLink:l}))&&void 0!==n?n:""},e.next=4,(0,c.Z)(d).callGet();case 4:if(!(p=e.sent)||!p.resource_response||p.resource_response.error){e.next=10;break}return f=p.resource_response.data.redirect_status,e.abrupt("return",f);case 10:return e.abrupt("return","error");case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,l,"next",e)}function l(e){p(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),m=function(e){h(e).then((function(e){return(0,d.My)("mweb.unauth.clickthrough_quality.".concat(e))}))},_=n(759177),g=n(826067),y=n(62409),v=n(350576),b=n(772486),x=n(538232),P=n(298024),w=n(350118),j=n(534427),S=n(112690),O=n(52022),k=n(332611),C=n(48714),A=n(609500),I=n(704217),E=void 0!==f?f:f=n(848842),T=function(e){var t=e.commerceData,n=e.hasRichMetadata,r=e.hasRichMetadataProducts,i=e.hasRichMetadataArticle,o=e.hasRichMetadataRecipe,a=e.imageSignature,s=e.location,c=e.pinId,u=e.pinMobileLink,d=e.trackingParams,p=(0,l.Z)((s.state||{}).trackingParams,d);return{object_id_str:c,component:4,element:35,view_type:3,view_parameter:(0,v.RX)(u)?3172:(0,y.CK)({hasRichMetadata:n,hasRichMetadataProducts:r,hasRichMetadataArticle:i,hasRichMetadataRecipe:o}),clientTrackingParams:p,aux_data:{commerce_data:t,image_signature:a}}},D=function(){return navigator.onLine},z=function(e){var t=e.history,n=e.location,r=e.dispatch,l=e.shouldUpsellHomePage,s=e.userIsNew,c=e.hasPromoter,p=e.isAuthenticated,f=e.viewParameter,h=e.clickthroughInterstitialExperience,_=e.linklessOptions,y=e.hasPin,v=e.pinId,x=e.isEligibleForPdp,P=e.isOosProduct,w=e.isStaleProduct,j=e.shoppingFlags,S=e.imageSignature,O=e.mobileLink,A=e.trackingParams,I=e.link,E=e.trackedLink,z=e.hasRichMetadata,R=e.hasRichMetadataProducts,Z=e.hasRichMetadataArticle,L=e.hasRichMetadataRecipe,B=e.images,M=e.embedSrc,F=e.embedType,N=e.category,U=e.domain,H=e.linkDomainOfficialUserImageMediumUrl,V=e.logContextEvent,W=e.trackInteraction;return function(){var e,G;if(y){var K,q=T({commerceData:(0,o.Z)({isEligibleForPdp:x,isOosProduct:P,isStaleProduct:w,pinShoppingFlags:j}),hasRichMetadata:z,hasRichMetadataProducts:R,hasRichMetadataArticle:Z,hasRichMetadataRecipe:L,imageSignature:S,location:n,pinId:v,pinMobileLink:O,trackingParams:A});if((0,d.My)("mweb_pin_page.pin_image.clickthrough_occurred"),W({action:"click",item:"clickthrough"}),!p)m({pinId:v,link:I,mobileLink:O,origImageUrl:null==B||null===(K=B.orig)||void 0===K?void 0:K.url,trackedLink:E,clientTrackingParams:q.clientTrackingParams});12===(0,b.jC)(q)&&V({event_type:8948,view_type:3,view_parameter:f,object_id_str:v,clientTrackingParams:q.clientTrackingParams,aux_data:{image_signature:S,closeup_navigation_type:(0,i.Z)(t),click_type:"clickthrough",cosmic_ray_count:"1"}});var X=null!==(e=(0,u.Zt)({link:I,mobileLink:O,origImageUrl:null==B||null===(G=B.orig)||void 0===G?void 0:G.url,trackedLink:E}))&&void 0!==e?e:"",Y={pin:v,client_tracking_params:q.clientTrackingParams};if(_){if(!_.actionBarIsMinifiedToMainPinImage){var $=new XMLHttpRequest;$.open("GET",(0,C.nS)({url:X,queryParams:Y})),$.send()}_.onTap()}else{var Q=!c&&(s||l);if(Q&&r((0,k.kd)(1000162)),Q&&h){r((0,k.UT)(h.placement_id,h.experience_id)),r((0,k.CK)(h.placement_id,h.experience_id));var J=(0,C.nS)({url:X,queryParams:Y}),ee=(0,a.Z)({images:B,embedSrc:M,embedType:F}),te=n.pathname+n.search;if(!D())return;var ne={domain:null!=U?U:"",domainImageUrl:null!=H?H:"",origin:te,pinCategory:N,pinImageUrl:ee,redirectUrl:J};window.open((0,g.ru)("/pin_redirect",ne),"_blank")}else{if(!D())return;(0,C.Gj)({url:X,queryParams:Y})}}}}},R=function(e){var t,n,i,o,a,l,c,u,d,p,f=e.clickthroughInterstitialExperience,h=e.linklessOptions,m=e.graphqlRef,g=(0,A.useHistory)(),y=(0,A.useLocation)(),v=(0,r.useDispatch)(),b=(0,j.S)(),P=(0,r.useSelector)((function(e){var t=e.users,n=e.session;return(0,s.Z)(t[n.userId].created_at)})),w=(0,x.R)(),k=w.isAuthenticated,C=w.viewParameter,T=(0,I.useFragment)(E,m),D=(0,_.Z)(T),R=!(!T.promoter||T.isDownstreamPromotion),Z=null!==(t=T.category)&&void 0!==t?t:"",L=(0,S.Z)(),B=(0,O.Z)();return z({history:g,location:y,dispatch:v,shouldUpsellHomePage:b,userIsNew:P,hasPromoter:R,isAuthenticated:k,viewParameter:C,clickthroughInterstitialExperience:f,linklessOptions:h,logContextEvent:L,trackInteraction:B,hasPin:Boolean(T.entityId),pinId:null!==(n=T.entityId)&&void 0!==n?n:"",isEligibleForPdp:Boolean(T.isEligibleForPdp),isOosProduct:Boolean(T.isOosProduct),isStaleProduct:Boolean(T.isStaleProduct),shoppingFlags:null!==(i=T.shoppingFlags)&&void 0!==i?i:void 0,imageSignature:T.imageSignature,mobileLink:T.mobileLink,trackingParams:T.trackingParams,link:T.link,trackedLink:T.trackedLink,hasRichMetadata:Boolean(T.richMetadata),hasRichMetadataProducts:Boolean(null===(o=T.richMetadata)||void 0===o?void 0:o.products),hasRichMetadataArticle:Boolean(null===(a=T.richMetadata)||void 0===a?void 0:a.article),hasRichMetadataRecipe:Boolean(null===(l=T.richMetadata)||void 0===l?void 0:l.recipe),images:D,embedSrc:null===(c=T.embed)||void 0===c?void 0:c.src,embedType:null===(u=T.embed)||void 0===u?void 0:u.type,category:Z,domain:T.domain,linkDomainOfficialUserImageMediumUrl:null===(d=T.linkDomain)||void 0===d||null===(p=d.officialUser)||void 0===p?void 0:p.imageMediumUrl})},Z=function(e){var t,n,i,o,a,l,c,u,d=e.clickthroughInterstitialExperience,p=e.linklessOptions,f=e.pinId,h=(0,A.useHistory)(),m=(0,A.useLocation)(),_=(0,r.useDispatch)(),g=(0,j.S)(),y=(0,r.useSelector)((function(e){var t=e.users,n=e.session;return(0,s.Z)(t[n.userId].created_at)})),v=(0,w.S6)()(f),b=(0,P.Ph)(null!=v?v:void 0),k=(0,x.R)(),C=k.isAuthenticated,I=k.viewParameter,E=(0,S.Z)(),T=(0,O.Z)();return z({history:h,location:m,dispatch:_,shouldUpsellHomePage:g,userIsNew:y,hasPromoter:!!b,isAuthenticated:C,viewParameter:I,clickthroughInterstitialExperience:d,linklessOptions:p,logContextEvent:E,trackInteraction:T,hasPin:Boolean(v),pinId:null!==(t=null==v?void 0:v.id)&&void 0!==t?t:"",isEligibleForPdp:Boolean(null==v?void 0:v.is_eligible_for_pdp),isOosProduct:Boolean(null==v?void 0:v.is_oos_product),isStaleProduct:Boolean(null==v?void 0:v.is_stale_product),shoppingFlags:null==v?void 0:v.shopping_flags,imageSignature:null==v?void 0:v.image_signature,mobileLink:null==v?void 0:v.mobile_link,trackingParams:null==v?void 0:v.tracking_params,link:null==v?void 0:v.link,trackedLink:null==v?void 0:v.tracked_link,hasRichMetadata:Boolean(null==v?void 0:v.rich_metadata),hasRichMetadataProducts:Boolean(null==v||null===(n=v.rich_metadata)||void 0===n?void 0:n.products),hasRichMetadataArticle:Boolean(null==v||null===(i=v.rich_metadata)||void 0===i?void 0:i.article),hasRichMetadataRecipe:Boolean(null==v||null===(o=v.rich_metadata)||void 0===o?void 0:o.recipe),images:null==v?void 0:v.images,embedSrc:null==v||null===(a=v.embed)||void 0===a?void 0:a.src,embedType:null==v||null===(l=v.embed)||void 0===l?void 0:l.type,category:null==v?void 0:v.category,domain:null==v?void 0:v.domain,linkDomainOfficialUserImageMediumUrl:null==v||null===(c=v.link_domain)||void 0===c||null===(u=c.official_user)||void 0===u?void 0:u.image_medium_url})}},759177:function(e,t,n){"use strict";var r,i=n(704217),o=void 0!==r?r:r=n(96795);t.Z=function(e){return function(e){var t,n,r,i,o,a,l,s,c,u,d,p,f,h,m,_,g,y,v,b,x,P,w,j,S,O,k;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(r=e.imageSpec_60x60)||void 0===r?void 0:r.width)||void 0},"136x136":{height:(null==e||null===(i=e.imageSpec_136x136)||void 0===i?void 0:i.height)||void 0,url:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.url)||void 0,width:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.width)||void 0},"170x":{height:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.height)||void 0,url:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.url)||void 0,width:(null==e||null===(c=e.imageSpec_170x)||void 0===c?void 0:c.width)||void 0},"236x":{height:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.height)||void 0,url:(null==e||null===(d=e.imageSpec_236x)||void 0===d?void 0:d.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(f=e.imageSpec_474x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.url)||void 0,width:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.width)||void 0},"564x":{height:(null==e||null===(_=e.imageSpec_564x)||void 0===_?void 0:_.height)||void 0,url:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(v=e.imageSpec_736x)||void 0===v?void 0:v.height)||void 0,url:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.url)||void 0,width:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.width)||void 0},"600x315":{height:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.height)||void 0,url:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.url)||void 0,width:(null==e||null===(j=e.imageSpec_600x315)||void 0===j?void 0:j.width)||void 0},orig:{height:(null==e||null===(S=e.imageSpec_orig)||void 0===S?void 0:S.height)||void 0,url:(null==e||null===(O=e.imageSpec_orig)||void 0===O?void 0:O.url)||void 0,width:(null==e||null===(k=e.imageSpec_orig)||void 0===k?void 0:k.width)||void 0}}}((0,i.useFragment)(o,e))}},222704:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children,n=e.outlined,o=e.rounding,a=void 0===o?4:o;return(0,i.jsxs)(r.xu,{position:"relative",children:[(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},rounding:a,overflow:"hidden","data-test-id":"outline-content",children:t}),n&&(0,i.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,rounding:a,color:"transparent",dangerouslySetInlineStyle:{__style:{boxShadow:"inset 0 0 0 2px #000, inset 0 0 0 4px #fff",WebkitBoxShadow:"inset 0 0 0 2px #000, inset 0 0 0 4px #fff",MozBoxShadow:"inset 0 0 0 2px #000, inset 0 0 0 4px #fff"}},"data-test-id":"outline-box"})]})}},486746:function(e,t,n){"use strict";var r=n(488769),i=n(758119),o=n(908390),a=n(515198),l=function(e){var t=e.collaborator_count,n=e.useLegoLayout,i=e.type;return n?(0,a.jsx)(o.xu,{marginEnd:t?2:0,children:(0,a.jsx)(r.Z,{type:i})}):(0,a.jsx)(r.Z,{type:i})};t.Z=function(e){var t,n=e.board,s=e.showCollaborativeIcon,c=e.showPrivateIcon,u=e.showProtectedIcon,d=e.showSectionsIcon,p=e.useLegoLayout,f=(null==n||null===(t=n.collaborating_users)||void 0===t?void 0:t.length)||0;return s||c||u||d?(0,a.jsxs)(o.xu,{display:"flex",direction:"row",marginEnd:p?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[c&&(0,a.jsx)(l,{collaborator_count:f,useLegoLayout:p,type:"secret"}),u&&(0,a.jsx)(l,{collaborator_count:f,useLegoLayout:p,type:"protected"}),s&&(p?(0,a.jsx)(i.Z,{board:n,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(r.Z,{type:"group"})),d&&(0,a.jsx)(r.Z,{type:"sections"})]}):null}},24886:function(e,t,n){"use strict";var r=n(908390),i=n(515198);t.Z=function(e){var t=e.image_url,n=e.naturalHeight,o=e.naturalWidth;return(0,i.jsx)(r.xu,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:(0,i.jsx)(r.zd,{wash:!0,width:48,height:48,rounding:2,children:(0,i.jsx)(r.Ee,{src:t,alt:"",naturalHeight:n,naturalWidth:o})})})}},176020:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:function(){return u}});var l={row:0,section:0},s={row:-1,section:-1},c=function(){},u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=i({},l),this.sections=t,this.updateCallback=c,this.selectItem=c}var t,n,r;return t=e,(n=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===s.row&&n===s.section?this.index=i({},l):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===s.row&&n===s.section)this.index=i({},l);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},s),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}])&&a(t.prototype,n),r&&a(t,r),e}()},960260:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(425480),o=(n(176020),n(908390)),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,r,l=u(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),h(p(t=l.call(this,e)),"setSelectedItemRef",(function(e){t.selectedItemRef=e})),h(p(t),"handleIndexUpdate",(function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})})),h(p(t),"handleSelectItem",(function(e){return function(){var n=t.props,r=n.disabled,i=n.onSelectItem;r||i(e)}})),h(p(t),"handleMouseEnter",(function(e){return function(){var n=t.props,r=n.disabled,i=n.indexManager;r||i.updateIndex(e)}})),h(p(t),"handleMouseLeave",(function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()})),h(p(t),"renderItems",(function(e,n){var r=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,s=i.section,c=e.customProps,u=void 0===c?{}:c,d=e.items,p=e.renderItem,f=u.isDisabled,h=void 0===f?function(e){return!1}:f,m=n===s,_=p||r;return _&&d.map((function(e,r){var i=h(e),s={section:n,row:r},c=m&&r===l;return(0,a.jsx)(o.xu,{"data-test-id":"board-selection",ref:!i&&c?t.setSelectedItemRef:null,children:i?_({item:e,hovered:c,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter(s),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:_({item:e,hovered:c,sectionProps:u})})},r)}))})),h(p(t),"renderSections",(function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map((function(e,r){return(0,a.jsxs)(o.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)}))}));var n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return t=d,(n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),i=r.top,o=r.bottom,a=t.getBoundingClientRect(),l=a.top;o>=a.bottom?n.scrollIntoView(!1):i<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:s,children:function(t){var n=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e.containerRef=t,n(t)})),children:e.renderSections()})}})}}])&&s(t.prototype,n),r&&s(t,r),d}(r.Component)},274495:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(515198),o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,i.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,n=e.name,o=e.onClick,l=e.size,s=e.submitting,c=e.text;return(0,i.jsxs)(r.xu,{display:"flex",position:"relative",children:[s&&(0,i.jsx)(a,{}),(0,i.jsx)(r.zx,{color:"red",disabled:t||s,name:n,onClick:o,size:l,type:"submit",text:c})]})}},296982:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(121093),i=n(76911),o=n(231486),a=n(172071),l=n(6637),s=n(226198);function c(e,t){o.t8(s.L9,"allowed",(0,o.kZ)(s.L9)),t&&t(),a.Z.increment("auth.web.notifications.allowed",1);var n=e.subscriptionId;if(!n){var r=e.endpoint.split("/");n=r[r.length-1]}return l.Z.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((function(t){var r,i,o=null!==(r=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==r?r:{};if(!(n in o)){var a={registration_id:n,subscription_endpoint:e.endpoint};return l.Z.create("WebPushDeviceResource",a).callCreate()}}))}var u=n(19121);function d(e,t){var n;if(a.Z.increment("auth.web.notifications.viewed",1),"undefined"!=typeof navigator&&"serviceWorker"in navigator)return null===(n=navigator.serviceWorker)||void 0===n?void 0:n.ready.then((function(n){var r;null==n||null===(r=n.pushManager)||void 0===r||r.subscribe({userVisibleOnly:!0}).then((function(t){return c(t,e)}),(function(n){"Notification"in window&&"denied"!==Notification.permission?(o.t8(s.L9,"dismissed",(0,o.kZ)(s.L9)),t&&t(),a.Z.increment("auth.web.notifications.dismissed",1)):(o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),e&&e(),a.Z.increment("auth.web.notifications.denied",1))}))})).catch((function(){}))}function p(){var e=(0,u.Z)(),t=e.isAuth,n=e.isLimitedLogin;return(0,i.useEffect)((function(){"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((function(){var e;n&&o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),t||o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),"showNotification"in ServiceWorkerRegistration.prototype||o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),"Notification"in window&&"denied"!==Notification.permission||o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),"PushManager"in window||o.t8(s.L9,"denied",(0,o.kZ)(s.L9)),null===(e=navigator.serviceWorker)||void 0===e||e.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){if(e)return c(e);throw o.t8(s.L9,"none",(0,o.kZ)(s.L9)),new Error})).catch((function(e){}))})).catch((function(){}))}),[t,n]),d}var f=n(515198),h=[503259,500410,500688],m=function(e){var t=e.placementId,n=p();return(0,f.jsx)(r.Z,{placementId:t,eligibleIds:h,children:function(e){var t=e.complete,r=e.dismiss;return n(t,r),null}})}},886076:function(e,t,n){"use strict";function r(e){var t=e.isEligibleForPdp,n=e.isOosProduct,r=e.isStaleProduct,i=e.pinShoppingFlags;if(i){var o=i,a={pin_is_shop_the_look:o.includes(2),pin_show_pdp:t||n||r,is_available:o.includes(1),is_product_pin_v2:o.includes(5),is_rich_product_pin:o.includes(6)};return JSON.stringify(a)}}n.d(t,{Z:function(){return r}})},830157:function(e,t,n){"use strict";function r(e,t){return e||(t?"".concat(t,"~0"):"~0")}n.d(t,{Z:function(){return r}})},62409:function(e,t,n){"use strict";n.d(t,{AH:function(){return s},Bk:function(){return o},CK:function(){return l},Xe:function(){return i},kb:function(){return a},wS:function(){return r}});var r=function(e){return e?e.native_creator?e.native_creator:e.link_domain?e.link_domain.official_user:e.origin_pinner||e.pinner:Object.freeze({})};function i(e){var t=e.hasLinkDomain,n=e.hasNativeCreator,r=e.hasOriginPinner,i=e.pinDomain,o=e.sourceUserUsername,a=e.sourceUserFullName,l=!n&&t?i:"";return!n&&(t||r)&&o?{pinCreditLink:"/".concat(o,"/"),pinCredit:a}:{pinCreditLink:void 0,pinCredit:l}}var o=function(e){var t,n=e.i18n,r=e.isLego,i=e.hasLinkDomain,o=e.hasRichMetadataArticle,a=e.hasRichMetadataTutorial,l=e.hasRichMetadataRecipeCategorizedIngredients,s=e.hasRichMetadataProductOfferSummary,c=e.hasRichSummaryProductOfferSummary,u=e.richMetadataRecipeFromAggregatedData,d=e.richMetadataProductName,p=e.richSummaryProductName,f=l;d&&s&&(t=!0);var h=o,m=a,_=r?n.bt("De ", "From ", "Closeup pin annotation", undefined, true):n.bt("Salvo de ", "Saved from ", "Closeup pin annotation", undefined, true);return!i||u?_=n.bt("Salvo por ", "Saved by ", "Closeup pin annotation", undefined, true):t?_=n.bt("Produto vendido por ", "Product sold by ", "pin annotation", undefined, true):m?(r&&(_=n.bt("De ", "From ", "pin annotation", undefined, true)),_=n.bt("Salvo de ", "Saved from ", "pin annotation", undefined, true)):f?_=n.bt("Receita de ", "Recipe from ", "pin annotation", undefined, true):h&&(_=n.bt("Artigo de ", "Article from ", "pin annotation", undefined, true)),!s&&p&&c&&(_=n.bt("Produto vendido por ", "Product sold by ", "pin annotation", undefined, true)),_},a=function(e){var t,n,r,i=e.link_domain,o=e.rich_metadata,a=e.rich_summary;!i||o&&o.recipe&&o.recipe.from_aggregated_data||(o&&o.products&&o.products[0]&&(n=!!(o&&o.products[0].name&&o.products[0].offer_summary)),n&&(t=null==o||null===(r=o.products)||void 0===r?void 0:r[0].offer_summary));!t&&a&&(a&&a.products&&a.products[0]&&!!(a&&a.products[0].name&&a.products[0].offer_summary)&&(t=a.products[0].offer_summary));return t},l=function(e){var t=e.hasRichMetadata,n=e.hasRichMetadataProducts,r=e.hasRichMetadataArticle,i=e.hasRichMetadataRecipe;return t?n?144:r?141:i?145:139:140},s=function(e){return!!e&&!e.startsWith("https://i.pinimg.com")}},772486:function(e,t,n){"use strict";n.d(t,{XK:function(){return f},jC:function(){return p},yd:function(){return h}});var r=n(745760);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,s,c,u=null,d=null,p=(l=12,s=4100,c=null,function(e){var t;if(e&&!c)return c=o(o({},e),{},{event_type:l,time:(0,r.h1)()}),null===(t=d)||void 0===t||t.logContextEvent(c),u&&c&&u.storeClickthroughProperties(c),l;if(!e&&c){var n,i=o(o({},c),{},{event_type:s,duration_ns:(0,r.h1)()-c.time});return null===(n=d)||void 0===n||n.logContextEvent(i),c=null,s}return null}),f=function(e){u=e},h=function(e){d=e}},534427:function(e,t,n){"use strict";n.d(t,{E:function(){return s},S:function(){return c}});var r=n(76911),i=n(957161);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l="_loggingInNotHome",s=function(e){e?(0,i.Nh)(l,1):(0,i.L_)(l)},c=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t&&(0,i.qn)(l)}},275445:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,i=n(76911),o=n(985913),a=n(898781),l=n(780280),s=n(391254),c=n(100183),u=n(908390),d=n(704217),p=n(515198);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=["imageFadeOut {\n    0% { opacity: 1 }\n    60% { opacity: 1 }\n    100% { opacity: 0 }\n}"],_={imageFadeOut:"imageFadeOut 0.9s both"};function g(e){var t=e.backgroundColor,n=e.cyclingImages,r=e.imgLabel,o=e.imageHeight,a=e.imageWidth,l=f((0,i.useState)(0),2),d=l[0],h=l[1];(0,i.useEffect)((function(){var e=setInterval((function(){h((function(e){return e+1}))}),900);return function(){return clearInterval(e)}}),[]);var g=d%n.length,y=(d+1)%n.length;return function(e,t,n,r,i,o,a){var l,d,f,h,g,y;return(0,p.jsxs)(u.xu,{position:"relative",width:i,height:r,children:[(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:i,height:r,children:(0,p.jsx)(u.Ee,{alt:o,color:a,fit:"cover",naturalHeight:null!==(l=n.height)&&void 0!==l?l:1,naturalWidth:null!==(d=n.width)&&void 0!==d?d:1,src:null!==(f=n.url)&&void 0!==f?f:"",children:(0,p.jsx)(u.xu,{color:"selected",opacity:.3,height:"100%"})})}),(0,p.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,width:i,height:r,dangerouslySetInlineStyle:{__style:{animation:_.imageFadeOut,WebkitAnimation:_.imageFadeOut}},children:[(0,p.jsx)(s.Z,{unsafeCSS:(0,c.Ll)(m)}),(0,p.jsx)(u.Ee,{alt:o,color:a,fit:"cover",naturalHeight:null!==(h=t.height)&&void 0!==h?h:1,naturalWidth:null!==(g=t.width)&&void 0!==g?g:1,src:null!==(y=t.url)&&void 0!==y?y:"",children:(0,p.jsx)(u.xu,{color:"selected",opacity:.3,height:"100%"})})]})]},e)}(d,n[g],n[y],o,a,r,t)}var y=void 0!==r?r:r=n(582663);function v(e){var t,n,r,i,o,a,l,s,c,f,h,m,_=e.interestRef,v=e.imageHeight,b=e.imageWidth,x=(0,d.useFragment)(y,_);return null!=x&&null!==(t=x.cyclingImages)&&void 0!==t&&t.length?(0,p.jsx)(g,{backgroundColor:null!==(n=x.backgroundColor)&&void 0!==n?n:"",cyclingImages:null!==(r=x.cyclingImages.filter(Boolean).map((function(e){var t=e.height,n=e.width,r=e.url;return{height:null!=t?t:0,width:null!=n?n:0,url:null!=r?r:""}})))&&void 0!==r?r:[],imageHeight:v,imageWidth:b,imgLabel:null!==(i=x.name)&&void 0!==i?i:""}):(0,p.jsx)(u.Ee,{alt:null!==(o=null==x?void 0:x.name)&&void 0!==o?o:"",color:null!==(a=null==x?void 0:x.backgroundColor)&&void 0!==a?a:"",fit:"cover",naturalHeight:null!==(l=null==x||null===(s=x.images)||void 0===s?void 0:s.height)&&void 0!==l?l:1,naturalWidth:null!==(c=null==x||null===(f=x.images)||void 0===f?void 0:f.width)&&void 0!==c?c:1,src:null!==(h=null==x||null===(m=x.images)||void 0===m?void 0:m.url)&&void 0!==h?h:"",children:(0,p.jsx)(u.xu,{color:"selected",opacity:.3,height:"100%"})})}var b,x=["backgroundColor","clickHandler","index","isSelected","isTopicEdu","size","interestName","imageLabel","totalInterests","image","isModernizedNux"];function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var S={xl_144:{imageWidth:144,imageHeight:144,fontSize:"300"},md_120:{imageWidth:120,imageHeight:120,fontSize:"200"}},O=S.xl_144;function k(e){var t=e.backgroundColor,n=e.clickHandler,r=e.index,s=e.isSelected,c=e.isTopicEdu,d=e.size,f=e.interestName,h=e.imageLabel,m=e.totalInterests,_=e.image,y=e.isModernizedNux,b=j(e,x),w=(0,a.ZP)(),k=(0,l.B)().isRTL,C=S[d]||O,A=C.fontSize,I=C.imageWidth,E=C.imageHeight,T=P((0,i.useState)(!1),2),D=T[0],z=T[1],R=P((0,i.useState)(!1),2),Z=R[0],L=R[1],B=m&&r?(0,o.Z)(w.bt("{{ interestName }}, lista {{ interestsPosition }} de {{ interestsCount }}", "{{ interestName }}, list {{ interestsPosition }} of {{ interestsCount }}", "nux.interestStep.interestForLists", undefined, true),{interestName:f,interestsPosition:r.toString(),interestsCount:m.toString()}):(0,o.Z)(w.bt("Cartão do interesse {{ interestName }}", "{{ interestName }} interest card", "nux.interestStep.interest", undefined, true),{interestName:f}),M=(0,p.jsx)(u.zd,{rounding:4,children:(0,p.jsx)(u.xu,{rounding:4,position:"relative",display:"inlineBlock",width:I,height:E,"data-test-id":"nux-picker-topic",children:(0,p.jsxs)(u.iP,{accessibilityLabel:B,fullHeight:!0,onBlur:function(){return L(!1)},onFocus:function(){return L(!0)},onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)},onTap:n,children:[function(){var e,n,r,i=b.cyclingImages?b.cyclingImages:[];if(D||Z){var o=b.interestRef;if(o)return(0,p.jsx)(v,{imageHeight:E,imageWidth:I,interestRef:o});if(i.length>0)return(0,p.jsx)(g,{backgroundColor:t,cyclingImages:i,imageHeight:E,imageWidth:I,imgLabel:h})}return(0,p.jsx)(u.Ee,{alt:h,color:t,fit:"cover",naturalHeight:null!==(e=null==_?void 0:_.height)&&void 0!==e?e:1,naturalWidth:null!==(n=null==_?void 0:_.width)&&void 0!==n?n:1,src:null!==(r=null==_?void 0:_.url)&&void 0!==r?r:"",children:(0,p.jsx)(u.xu,{color:"selected",opacity:.3,height:"100%"})})}(),s&&(0,p.jsxs)(u.xu,{height:"100%",width:"100%",position:"absolute",top:!0,children:[(0,p.jsx)(u.xu,{color:y?"transparent":"selected",opacity:.7,height:"100%"}),(0,p.jsx)(u.xu,{position:"absolute",left:k,marginEnd:2,marginStart:2,marginTop:2,right:!k,top:!0,children:(0,p.jsx)(u.XZ,{checked:!0,id:"selectedTopic",onChange:function(){}})})]}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,left:!0,right:!0,margin:2,"data-test-id":"nux-picker-topic-label",children:!y&&(0,p.jsx)(u.xv,{align:"start",color:"inverse",size:A,weight:"bold",overflow:"breakWord",children:f})})]})})});return function(e,t,n,r,i){var o=e?t-8:t,a=e?n-8:n,l=e?14:16,s=e?-1:0,c=e||i?{borderColor:"black"}:{borderStyle:"none"};return(0,p.jsxs)(u.xu,{paddingX:i?1:0,children:[(0,p.jsx)(u.xu,{borderStyle:e?"lg":"none",dangerouslySetInlineStyle:{__style:c},width:t,height:n,rounding:4,color:"default",display:"flex",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(u.xu,{width:o,height:a,dangerouslySetInlineStyle:{__style:{borderRadius:l}},overflow:"hidden",children:(0,p.jsx)(u.xu,{margin:s,children:r})})}),i&&(0,p.jsx)(u.xu,{maxWidth:t,marginTop:i?1:0,marginBottom:i?3:1,children:(0,p.jsx)(u.xv,{align:"center",size:A,weight:"bold",overflow:"breakWord",children:f})})]})}(!c&&(s||D||Z),I,E,M,y)}function C(e){var t=e.clickHandler,n=e.interest,r=e.index,i=e.isSelected,o=e.isTopicEdu,a=e.size,l=e.totalInterests,s=e.isModernizedNux;if(!n)return null;var c=n.images,u=n.name,d=n.label,f=n.background_color;return(0,p.jsx)(k,{backgroundColor:f,clickHandler:t,interestName:u,image:c["400x"],imageLabel:null!=d?d:u,index:r,isSelected:i,isTopicEdu:o,size:a,totalInterests:l,isModernizedNux:s})}var A=void 0!==b?b:b=n(348161);function I(e){var t,n,r,i=e.clickHandler,o=e.index,a=e.isSelected,l=e.isTopicEdu,s=e.size,c=e.totalInterests,u=e.interestRef,f=e.isModernizedNux,h=(0,d.useFragment)(A,u);return(0,p.jsx)(k,{backgroundColor:null!==(t=h.backgroundColor)&&void 0!==t?t:"",clickHandler:i,image:h.images,imageLabel:null!==(n=h.name)&&void 0!==n?n:"",index:o,interestName:null!==(r=h.name)&&void 0!==r?r:"",isSelected:a,isTopicEdu:l,size:s,totalInterests:c,interestRef:h,isModernizedNux:f})}function E(e){var t=e.clickHandler,n=e.index,r=e.isSelected,i=e.isTopicEdu,o=e.size,a=e.totalInterests,l=e.interest,s=e.interestRef,c=e.isModernizedNux;return s?(0,p.jsx)(I,{clickHandler:t,index:n,isSelected:r,isTopicEdu:i,size:o,totalInterests:a,interestRef:s,isModernizedNux:c}):(0,p.jsx)(C,{clickHandler:t,index:n,isSelected:r,isTopicEdu:i,size:o,totalInterests:a,interest:null!=l?l:null,isModernizedNux:c})}},443419:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D},graphqlDescriptor:function(){return C},inGraphQLExperiment:function(){return A}});var r=n(583085),i=n(827834),o=n(385937),a=n(167678),l=n(198539),s=n(947599),c=n(954959),u=n(941646),d=n(827896),p=n(19121),f=n(558068),h=n(773285),m=n(350118),_=n(81636),g=n(35495),y=n(704217),v=n.n(y),b=n(609500),x=n(515198),P;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(0,a.ZP)({resolved:{},chunkName:function(){return"common-react-components-TV-EpisodeCloseupPage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(67419),n.e(85119),n.e(16333),n.e(7606),n.e(40770)]).then(n.bind(n,406311))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 406311}}),k=void 0!==P?P:P=n(574604);function C(e){var t=e.pinId;return{query:k,variables:{pinId:t}}}function A(e){return(0,e.experimentsClient.checkExperiment)("web_graphql_product_detail_page").anyEnabled}function I(e){var t=e.isEligibleForPdp,n=e.pinId,a=e.isStaleProduct,s=e.isOosProduct,h=e.creatorClassId,y=e.creatorClassInstanceId,v=e.ratingValue,P=(0,f.aX)(),w=(0,b.useHistory)(),S=(0,b.useLocation)(),k=(0,d.Z)(),C=(0,p.Z)(),A=(0,o.Z)(P,C.isAuth).trafficSource,I=Boolean((0,c.Z)({isEligibleForPdp:null!=t&&t,isStaleProduct:null!=a&&a,isOutOfStockProduct:null!=s&&s})),E=(0,m.S6)(),T=n?E(n):null;return(0,_.Q)({view_type:3,object_id_str:n,view_data:{pin_id:n},component:13283,aux_data:j(j({current_page_url:S.pathname+S.search,closeup_navigation_type:(0,i.Z)(w,A)},(0,g.Kl)(T,{})),v?{rating_value:v}:{}),clientTrackingParams:k(n||"")},n),h&&y?(0,x.jsx)(O,{}):I?(0,x.jsx)(u.Z,{id:"pdp-container",children:(0,x.jsx)(l.Z,{})}):(0,x.jsx)(u.Z,{id:"closeup-container",children:(0,x.jsx)(r.Z,{})})}function E(e){var t,n,r,i,o,a,l,s,c=e.pinId,u=C({pinId:c}),d=null===(t=(0,y.useLazyLoadQuery)(k,u.variables).v3GetPinQuery)||void 0===t?void 0:t.data;return(0,x.jsx)(I,{isEligibleForPdp:null!==(n=null==d?void 0:d.isEligibleForPdp)&&void 0!==n&&n,isOosProduct:null!==(r=null==d?void 0:d.isOosProduct)&&void 0!==r&&r,isStaleProduct:null!==(i=null==d?void 0:d.isStaleProduct)&&void 0!==i&&i,pinId:c,creatorClassId:null==d||null===(o=d.creatorClass)||void 0===o?void 0:o.entityId,creatorClassInstanceId:null==d||null===(a=d.creatorClassInstance)||void 0===a?void 0:a.entityId,ratingValue:null==d||null===(l=d.richSummary)||void 0===l||null===(s=l.aggregateRating)||void 0===s?void 0:s.ratingValue})}function T(e){var t,n,r,i,o,a=e.pinId,l=(0,m.S6)(),s=a?l(a):null,c=s?(0,g.RR)(s):null;return(0,x.jsx)(I,{isEligibleForPdp:null!==(t=null==s?void 0:s.is_eligible_for_pdp)&&void 0!==t&&t,isOosProduct:null!==(n=null==s?void 0:s.is_oos_product)&&void 0!==n&&n,isStaleProduct:null!==(r=null==s?void 0:s.is_stale_product)&&void 0!==r&&r,pinId:a,creatorClassId:null==s||null===(i=s.creator_class)||void 0===i?void 0:i.id,creatorClassInstanceId:null==s||null===(o=s.creator_class_instance)||void 0===o?void 0:o.id,ratingValue:c})}function D(){var e=(0,b.useParams)().id;return A({experimentsClient:(0,h.F)()})?(0,x.jsx)(s.Z,{children:(0,x.jsx)(E,{pinId:e||""})}):(0,x.jsx)(T,{pinId:e||""})}},239682:function(e,t,n){"use strict";function r(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:function(){return r}})},240265:function(e,t,n){"use strict";n.d(t,{O:function(){return c},Q:function(){return u}});var r=n(59644),i=n(414327),o=n(956800);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],c={name:"BoardsResource",key:"boardsResource",options:function(e,t){var n=e.boardOrder,r=e.filterStories,i=e.mixPublicSecret;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({privacy_filter:"all",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:e.username,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},u=function(e){return s.reduce((function(t,n){var a=[(0,o.N8)("profileBoards",(0,r.Z)(e,n))];return[!0,!1].forEach((function(t){[!0,!1].forEach((function(r){a.push((0,i.jB)(c.name,c.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))}))})),t.concat(a)}),[])}},737849:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(121151),i=n(898781),o=n(966113),a=n(349700),l=n(908390),s=n(515198),c=o.K_+"?source=block_dialogue";function u(e){var t=e.firstName,n=e.onBlockUser,o=e.onClearModal,u=(0,i.ZP)(),d=(0,a.nk)(u.bt("Bloquear {{ firstName }}?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:t}).join("");return(0,s.jsxs)(r.ZP,{accessibilityModalLabel:d,onDismiss:o,heading:d,footer:(0,s.jsxs)(l.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,s.jsx)(l.xu,{padding:1,children:(0,s.jsx)(l.zx,{fullWidth:!0,size:"md",text:u.bt("Cancelar", "Cancel", "blockUser.modal.cancel", undefined, true),onClick:o})}),(0,s.jsx)(l.xu,{padding:1,children:(0,s.jsx)(l.zx,{fullWidth:!0,size:"md",color:"red",text:u.bt("Bloquear", "Block", "Button to confirm blocking a user", undefined, true),onClick:n})})]}),role:"alertdialog",size:"md",children:[(0,s.jsx)(l.xu,{padding:4,"data-test-id":"block-text",children:(0,s.jsx)(l.xv,{children:(0,a.nk)(u.bt("O bloqueio de {{ firstName }} interromperá interações como seguir, enviar/receber mensagens e fazer comentários. Você ainda poderá ver o perfil dessa pessoa e vice-versa.", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.", "blockUser.modal.description", undefined, true),{firstName:t})})}),(0,s.jsx)(l.xu,{padding:4,children:(0,s.jsx)(l.xv,{color:"default",weight:"bold",children:(0,s.jsx)(l.rU,{target:"blank",href:c,children:u.bt("Saiba mais", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]})}},678638:function(e,t,n){"use strict";n.d(t,{$n:function(){return x},A4:function(){return S},CE:function(){return _},ET:function(){return I},F$:function(){return b},Kw:function(){return C},Nv:function(){return k},PA:function(){return j},X_:function(){return A},d9:function(){return P},e1:function(){return m},o4:function(){return O},vB:function(){return y}});var r=n(563339),i=n(483025),o=n(254176),a=n(422946),l=n(379725),s=n(833314),c=n(6637),u=n(956800),d=n(414327);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(t){var n=e.boardId,r=e.sectionIdBefore,i=e.sectionIdAfter,o=e.sourceSectionId,l=e.targetSectionId;t((0,u._f)({feedType:a.DV.BOARD_SECTIONS,feedId:n,itemType:"board_section",sourceItemId:o,targetItemId:l}));var s={section_id:o,section_before:r||void 0,section_after:i||void 0};return c.Z.create("BoardSectionsReorderResource",s).callUpdate({showError:!1})}}function _(e,t){return function(n){return n((0,l.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function y(e,t,n){var i=e.boardId,l=e.name,s=e.nameSource,p=e.pinImport,h=e.initialPinIds,m=void 0===h?[]:h,_=0;"RECOMMENDATION"===s?_=1:"EDITED_RECOMMENDATION"===s&&(_=2);var y=f({board_id:i,initial_pins:p&&!p.all?p.pinIds:m,name:l,name_source:_},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return c.Z.create("BoardSectionResource",y).callCreate({showError:!1}).then((function(n){var l=n.resource_response.data;e(g(i,l)),e((0,u.vX)({feedId:i,feedType:a.DV.BOARD_SECTIONS,itemIds:[l.id],itemType:"board_section"})),e((0,o.Tq)(i,"pin_count")),e((0,d.jB)("BoardSectionsRepinResource",{board_id:i}));var s=p||{all:!1,pinIds:[]},c=s.all,f=s.pinIds;return c?new Promise((function(n,o){return e((0,r.Z)({inverseSelection:!0,selectedPinIds:f,source:{boardId:i,sectionId:null},target:{boardId:i,sectionId:l.id}},t)).then((function(){return n(l)})).catch(o)})):(f.length>0&&e((0,u.N8)(a.DV.BOARDFEED,i)),l)}))}}function v(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function b(e,t,n){return function(r){return c.Z.create("BoardSectionEditResource",f({section_id:t},n?{orbac_subject_id:n}:Object.freeze({}))).callDelete({showError:!1}).then((function(){return Promise.all([r(v(e,t)),r((0,u.EX)({feedId:e,feedType:a.DV.BOARD_SECTIONS,itemIds:[t],itemType:"board_section"})),r((0,o.Tq)(e,"pin_count")),r((0,d.jB)("BoardSectionsRepinResource",{board_id:e}))])}))}}function x(e,t,n,r){return function(i){return c.Z.create("BoardSectionEditResource",f({section_id:t,title:n},r?{orbac_subject_id:r}:Object.freeze({}))).callCreate({showError:!1}).then((function(t){var n=t.resource_response.data;return i(function(e,t){return function(n){var r,i,l,s,c,d=t.board;d&&d.id!==e?(n(v(e,null!==(r=t.id)&&void 0!==r?r:"")),n((0,u.EX)({feedId:e,feedType:a.DV.BOARD_SECTIONS,itemIds:[null!==(i=t.id)&&void 0!==i?i:""],itemType:"board_section"})),n((0,o.Tq)(e,"pin_count")),n(g(null!==(l=d.id)&&void 0!==l?l:"",t)),n((0,u.vX)({feedId:null!==(s=d.id)&&void 0!==s?s:"",feedType:a.DV.BOARD_SECTIONS,itemIds:[null!==(c=t.id)&&void 0!==c?c:""],itemType:"board_section"})),n((0,o.Tq)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),i((0,d.jB)("BoardSectionsRepinResource",{board_id:e})),n}))}}function P(e,t,n){return function(r){return c.Z.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then((function(i){return Promise.all([r(v(e,t)),r((0,d.jB)("BoardSectionsRepinResource",{board_id:e})),r(_(n)),r((0,u.N8)(a.DV.BOARD_SECTION_PINS,n))]).then((function(){return i}))}))}}var w=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},j=function(e,t){return function(n){return c.Z.create("BoardSectionEditResource",f(f({},t),{},{section_id:e})).callCreate().then((function(e){return n(w(0,t)),e.resource_response.data}))}},S=function(e){return function(t){var n={section_id:e};return c.Z.create("BoardSectionResource",n).callGet().then((function(e){var n,r=(null===(n=e.resource_response)||void 0===n?void 0:n.data)||{id:"",title:""};return t(w(0,r)),e}))}},O=function(e,t,n,r){return function(i){var o=c.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return i(function(e,t,n,r){return{type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:r}}}(e,t,n,r)),o}},k=function(e,t,n){return function(r){var o={board_id:e,initial_pins:t,name:n},a="BoardSectionResource";return c.Z.create(a,o).callCreate().then((function(n){var l=n.resource_response.data,c=(0,s.Fv)(l,i.Z[a]);return r((0,d.XM)(a,o,n,c)),t.length&&r({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:l.id},pinIds:t}}),n}))}},C=function(e){return function(t){var n=e.source,r=e.target,o=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||r.boardId!==n.boardId){var a={board_id:r.boardId,pin_ids:o,section_id:r.sectionId};return c.Z.create("BulkEditResource",a).callUpdate()}if(r.sectionId){var l={section_id:r.sectionId,pins:o},u="BoardSectionEditResource";return c.Z.create(u,l).callUpdate().then((function(e){var n=(0,s.Fv)(e.resource_response.data,i.Z[u]);return t((0,d.XM)(u,l,e,n)),e}))}var p={section_id:n.sectionId,pins:o};return c.Z.create("BoardSectionPinsResource",p).callDelete()}},A=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var n=e.source,r=e.target,i=e.excludePinIds,o={board_id:n.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:r.sectionId};return c.Z.create("BulkEditSelectAllResource",o).callUpdate()}},I=function(e,t,n,r){return function(i){return i(k(e,[],t)).then((function(t){var o=t.resource_response.data.id;return i(A({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:o},excludePinIds:n}))}))}}},254176:function(e,t,n){"use strict";n.d(t,{$z:function(){return L},Br:function(){return _},Cr:function(){return A},K8:function(){return P},KQ:function(){return M},L1:function(){return N},OA:function(){return F},Tq:function(){return b},Xi:function(){return R},YQ:function(){return B},YV:function(){return C},ZP:function(){return I},aX:function(){return E},eo:function(){return y},fJ:function(){return H},md:function(){return g},oG:function(){return v},oL:function(){return T},of:function(){return w},xH:function(){return x},xQ:function(){return j},xR:function(){return Z},xk:function(){return O},yT:function(){return m},zS:function(){return U}});var r=n(27255),i=n(239682),o=n(172071),a=n(422946),l=n(379725),s=n(240265),c=n(414327),u=n(6637),d=n(956800);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function g(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function y(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var v=function(e,t){return function(n){return n((0,l.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function b(e,t,n){return(0,l.U)("BoardResource",{options:f({board_id:e,field_set_key:t},n?{orbac_subject_id:n}:{})})}function x(e,t,n){return function(r){return u.Z.create("BoardsMergeResource",f({source_board_id:e,target_board_id:t},n?{orbac_subject_id:n}:{})).callUpdate().then((function(){return Promise.all([r(y({boardId:e})),r(b(t,"pin_count")),r((0,d.N8)(a.DV.BOARD_SECTIONS,t))])}))}}function P(e){return function(t){e&&(0,s.Q)(e).forEach((function(e){t(e)}))}}var w=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},j=function(e){return v(e,"pin_count")};function S(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function O(e,t){return function(n){return n(S(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate()}}function k(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function C(e,t){return function(n){return n(k(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete()}}var A=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},I=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function E(e,t,n){var o=f({name:e,privacy:r.Z.BoardPrivacy.PUBLIC,username:t},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return u.Z.create("BoardResource",o).callCreate().then((function(n){var r=n.resource_response.data;return e(t&&(0,c.jB)("BoardsResource",(0,i.Z)(t,!1))),r}))}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}var D=function(e,t,n){return{type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}},z=function(e,t,n,r){return{type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:r}}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(r){return r(D(e,t,n)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()}},Z=function(e,t){return function(n){return n(function(e,t){return{type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}}(e,t)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()}},L=function(e,t,n){return function(r){return r(z(e,t,"new",n)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((function(e){return e.id}))}).callCreate()}},B=function(e,t,n,r,i){return function(o){var a,l,s="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(function(e,t,n){return{type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}}(e,null!==(a=null==r?void 0:r.id)&&void 0!==a?a:"",n)),u.Z.create(s,f({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(l=null==r?void 0:r.id)&&void 0!==l?l:""},i?{orbac_subject_id:i}:{})).callDelete().catch((function(){return o(z(e,n,t,[r]))}))}},M=function(e,t){return function(n){return u.Z.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((function(r){if(!r||!r.resource_response)return{};var i=r.resource_response.data||{},a=((i.model||{}).custom_properties||{}).campaign_id,l=void 0===a?"unknown":a,s=i.display_data||{},c=!!i.display_data,u=s.header_image_mobile,d=s.header_background_color,p=s.text_icon_color,f={boardId:e,isSocialSeasonalBoard:c,socialHeaderBgImage:u,socialHeaderBgColor:d,textIconColor:p};return o.Z.increment("mweb.seasonal_board.".concat(l,".").concat(t,".land")),n(function(e){return{type:"SET_SOCIAL_SEASONAL_BOARD",payload:e}}(f))}))}},F=function(e,t){return function(){return u.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}},N=function(e,t,n,r){return function(i){var o=u.Z.create("BoardResource",{board_id:n}).callDelete();return i(y({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r})),o}},U=function(e,t){return function(n){return u.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((function(r){return n((0,d.Qv)("archived-boards",[{id:e,type:"board"}])),n(S(e,t)),r}))}},H=function(e,t){return function(n){return u.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((function(r){return n((0,d.Qv)("profile-boards:".concat(t),[{id:e,type:"board"}])),n(k(e)),r}))}}},600147:function(e,t,n){"use strict";n.d(t,{DD:function(){return u},lg:function(){return d},Th:function(){return f},YH:function(){return l},wH:function(){return a},IU:function(){return p},L8:function(){return c}});var r=n(6637),i=n(422946),o=n(956800);function a(e){var t=e.didItDataId,n=e.isLikedByMe;return function(e){var i=r.Z.create("DidItLikeResource",{didItDataId:t});return n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(t,!n))}}function l(e){var t=e.didItDataId,n=e.isMarkedHelpfulByMe;return function(e){var i=r.Z.create("HelpfulResource",{helpfulModelType:2,objectId:t});return n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(t,!n))}}function s(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u(e){var t=e.aggregatedPinDataId,n=e.details,a=e.fromUnifiedComment,l=e.image_signatures,s=e.pin_id,u=e.username,d=e.updateParentDidItCount,p={aggregatedPinDataId:t,details:n,image_signatures:l,pin_id:s};return function(e){return r.Z.create("DidItActivityResource",p).callCreate().then((function(n){var r=n.resource_response.data;e({type:"PIN_DID_IT",payload:{id:s,value:!0}}),e({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),e((0,o.vX)({feedId:t,feedType:a?i.DV.UNIFIED_COMMENTS:i.DV.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),e((0,o.vX)({feedId:u,feedType:i.DV.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),d&&e(c(t,1))}),(function(){}))}}function d(e){var t=e.aggregatedPinDataId,n=e.feedType,a=e.id,l=e.isOwnedByMe,u=e.pinId,d=e.username,p=e.updateParentDidItCount;return function(e){r.Z.create("DidItActivityResource",{user_did_it_data_id:a,pinId:u}).callDelete().then((function(r){l&&e(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(u)),e(s(a)),e((0,o.EX)({feedId:null!=t?t:"",feedType:n||i.DV.TRIED_IT_FEED,itemIds:[a],itemType:"userdiditdata"})),e((0,o.EX)({feedId:d,feedType:i.DV.TRIED_IT_FEED,itemIds:[a],itemType:"userdiditdata"})),e((0,o.EX)({feedId:d,feedType:i.DV.UNIFIED_COMMENTS,itemIds:t?[t]:[],itemType:"userdiditdata"})),p&&e(c(a,-1))}),(function(){}))}}function p(e){var t=e.id,n={details:e.details,image_signatures:e.image_signatures,user_did_it_data_id:t,pin_id:e.pinId};return function(e){r.Z.create("DidItActivityResource",n).callUpdate().then((function(t){var n=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(n))}),(function(){}))}}function f(e,t,n,a,l){var c={reason:a,detailed_reasons:t,user_did_it_data_id:n};return function(t){r.Z.create("DidItActivityFlagResource",c).callCreate().then((function(){t(s(n)),e&&t((0,o.EX)({feedId:e,feedType:i.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),t((0,o.EX)({feedId:l,feedType:i.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))}),(function(){}))}}},563339:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},S:function(){return p}});var r=n(6637),i=n(254176),o=n(422946),a=n(678638),l=n(124237);var s=function(e){return function(t){l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Aguarde até concluir a ação da pasta anterior.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))}},c=n(956800),u=function(e){return(0,c.N8)(e.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,e.sectionId||e.boardId)};function d(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,i.Tq)(n.boardId,"pin_count")),t((0,i.Tq)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,i.Tq)(r.boardId,"pin_count")),n.sectionId&&t((0,a.CE)(n.sectionId)),r.sectionId&&t((0,a.CE)(r.sectionId))}function p(e){return function(t){var n=e.selectedPinIds,r=e.source,i=e.target;t((0,c.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,c.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:n,itemType:"pin"})),d(e,t)}}function f(e,t){return function(n){return function(e,t,n){var i=e.inverseSelection,a=e.selectedPinIds,l=e.source,d=e.target,p=e.orbacSubjectId;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(i){var f={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return r.Z.create("BulkEditSelectAllResource",f).callUpdate({showError:!1}).then((function(){return Promise.all([t(u(l)),t(u(d))])})).catch(s(n))}var h=function(e,n){t((0,c.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,c.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:a,itemType:"pin"}))};h(l,d);var m=function(){return h(d,l)};if(d.boardId===l.boardId){if(d.sectionId){var _={section_id:d.sectionId,pins:a,orbac_subject_id:p};return r.Z.create("BoardSectionEditResource",_).callUpdate({showError:!1}).catch((function(e){m(),s(n)(e)}))}var g={section_id:l.sectionId,pins:a,orbac_subject_id:p};return r.Z.create("BoardSectionPinsResource",g).callDelete({showError:!1}).catch((function(e){m(),s(n)(e)}))}var y={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return r.Z.create("BulkEditResource",y).callUpdate({showError:!1}).catch((function(e){m(),s(n)(e)}))}(e,n,t).then((function(){return d(e,n)}))}}},274415:function(e,t,n){"use strict";function r(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:function(){return r}})},550393:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},a:function(){return l}});var r=n(6637);function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function a(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}function l(e,t){return function(){var n=o(regeneratorRuntime.mark((function n(i){var o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.create("ApiResource",{url:"/v3/storypins/".concat(e,"/mentions/")}).callDelete();case 2:return o=n.sent,l=o.resource_response,i(a(e,t)),n.abrupt("return",l);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function s(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}function c(e){return function(){var t=o(regeneratorRuntime.mark((function t(n){var i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Z.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete();case 2:return i=t.sent,o=i.resource_response,a=o.data,n(s(a.id,a.tagged_users)),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},482567:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(6637);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function s(e,t){return{type:"PIN_NOTE_UPDATE",payload:{pinId:e,pinNote:t}}}function c(e,t,n,i){return function(){var a,c=(a=regeneratorRuntime.mark((function a(l){var c,u,d;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/notes/"),data:o({pin_note_content:n},i?{orbac_subject_id:i}:Object.freeze({}))}),!n){a.next=13;break}if(!t){a.next=8;break}return a.next=5,c.callUpdate();case 5:u=a.sent,a.next=11;break;case 8:return a.next=10,c.callCreate();case 10:u=a.sent;case 11:a.next=16;break;case 13:return a.next=15,c.callDelete();case 15:u=a.sent;case 16:d=u.resource_response,l(s(e,null==d?void 0:d.data));case 18:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function o(e){l(i,n,r,o,s,"next",e)}function s(e){l(i,n,r,o,s,"throw",e)}o(void 0)}))});return function(e){return c.apply(this,arguments)}}()}},698734:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(506979);function i(e){return(0,r.useSelector)((function(t){var n=t.pins;return e?n[e]:null}),r.shallowEqual)}},78120:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Qe},Tr:function(){return Ye},aU:function(){return qe}});var r=n(76911),i=n(506979),o=n(41233),a=n(678881),l=n.n(a),s=n(898781),c=n(908390),u=n(515198);function d(e){var t=e.commentsDisabled,n=e.onCommentChange,r=e.onPhotoChange,i=e.photosDisabled,o=e.isManagedView,a=e.isNoTitle,l=(0,s.ZP)(),d=o?6:a?0:3;return(0,u.jsxs)(c.xu,{children:[!a&&(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:o?0:4,paddingY:d,children:[!o&&!a&&(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",children:l.bt("Permissões de comentário", "Comment Permissions", "Label for comments setting on a pin in pin edit form", undefined, true)})}),(0,u.jsxs)(c.xu,{column:12,mdColumn:o?12:8,children:[(0,u.jsxs)(c.xu,{paddingY:1,display:"flex",alignItems:"center","data-test-id":"allow-comments-switch",children:[(0,u.jsx)(c.rs,{onChange:n,id:"CommentSwitch",switched:!t}),(0,u.jsx)(c.xu,{paddingX:2,children:(0,u.jsx)(c.__,{htmlFor:"CommentSwitch",children:(0,u.jsx)(c.xv,{size:"200",children:l.bt("Permitir que as pessoas comentem", "Allow people to comment", "Label for toggling comments on a pin in pin edit form", undefined, true)})})})]}),r&&(0,u.jsxs)(c.xu,{paddingY:1,alignItems:"center",display:"flex",children:[(0,u.jsx)(c.rs,{onChange:r,id:"PhotoSwitch",switched:!i}),(0,u.jsx)(c.xu,{paddingX:2,children:(0,u.jsx)(c.__,{htmlFor:"PhotoSwitch",children:(0,u.jsx)(c.xv,{size:"200",children:l.bt("Permitir que as pessoas carreguem fotos", "Allow people to upload photos", "Label for toggling photos on a pin in pin edit form", undefined, true)})})})]})]})]})]})}var p=n(27255),f=n(653498),h=n.n(f),m=n(121151),_=n(274495),g=n(941646),y=n(499128),v=n(343341);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,i=O(o);function o(){var e;w(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(C(e=i.call.apply(i,[this].concat(n))),"state",{deleting:!1}),I(C(e),"unmounted",!1),I(C(e),"handleConfirm",(function(){if(!e.state.deleting){var t=e.props.onDeletePin;e.setState({deleting:!0}),t().then((function(){return e.handleDeleteDidComplete()})).catch((function(t){return e.handleDeleteDidComplete(t)}))}})),I(C(e),"handleDeleteDidComplete",(function(t){var n=e.props.toastManagerContext;e.unmounted||e.setState({deleting:!1}),t||n.showToast((function(t){var n=t.hideToast;return(0,u.jsx)(y.ZP,{onHide:n,text:e.props.i18n.bt("O Pin foi excluído.", "Pin deleted!", "User deleted their pin", undefined, true)})}))})),e}return t=o,(n=[{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onDismiss,r=e.showStoryPinCreatorDeleteMessage,i=this.state.deleting;return(0,u.jsx)(m.ZP,{heading:t.bt("Tem certeza?", "Are you sure?", "Confirm the user wants to delete the pin", undefined, true),accessibilityModalLabel:t.bt("Tem certeza de que deseja excluir esse Pin?", "Are you sure you want to delete this pin?", "Accessible label to confirm the user wants to delete the pin", undefined, true),size:"sm",onDismiss:n,footer:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.zx,{fullWidth:!0,onClick:n,text:t.bt("Cancelar", "Cancel", " - ", undefined, true)})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(g.Z,{id:"confirm-delete-pin",children:(0,u.jsx)(_.Z,{onClick:this.handleConfirm,text:t.bt("Excluir", "Delete", "PinEditModal.DeletePinConfirmation.DeleteButton", undefined, true),submitting:i})})})]}),children:(0,u.jsx)(c.xu,{padding:4,display:"flex",justifyContent:"center",children:(0,u.jsx)(c.xv,{children:r?t.bt("A exclusão desse Pin é definitiva. Quem salvou o Pin não poderá mais visualizá-lo.", "If you delete this Pin, it'll be gone for good and those who've saved it won't be able to view it.", "PinEditModal.DeletePinConfirmation", undefined, true):t.bt("Após excluir um Pin, a ação não poderá ser desfeita!", "Once you delete a Pin, you can't undo it!", " - ", undefined, true)})})})}}])&&j(t.prototype,n),r&&j(t,r),o}(r.PureComponent);function T(e){var t=(0,s.ZP)();return(0,u.jsx)(E,P(P({},e),{},{i18n:t,toastManagerContext:(0,v.F9)()}))}function D(e){var t=e.canEdit,n=e.onAltTextChange,i=e.altText,o=(0,s.ZP)();return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"AltTextField",children:(0,u.jsx)(c.xv,{size:"200",children:o.bt("Texto alternativo", "Alt text", "EditPinModal.EditAltText", undefined, true)})})}),(0,u.jsx)(c.xu,{column:12,mdColumn:8,children:t?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.xu,{children:(0,u.jsx)(c.nv,{id:"AltTextField",onChange:function(e){var t=e.value;return n({value:t.slice(0,500)})},size:"lg",value:i||""})}),(0,u.jsx)(c.xu,{children:(0,u.jsx)(c.__,{htmlFor:"AltTextField",children:(0,u.jsx)(c.xu,{marginTop:1,children:(0,u.jsx)(c.xv,{size:"200",color:"subtle",children:o.bt("Isso ajuda as pessoas que usam leitores de tela a entender sobre o que é o seu Pin.", "This helps people using screen readers understand what your Pin is about.", "EditPinModal.EditAltText", undefined, true)})})})})]}):(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",weight:"bold",children:i})})})]})]})}var z=n(897103),R=n(990823);function Z(e){var t=e.board,n=void 0===t?{}:t,r=e.canEdit,i=e.isOriginallyQuickCreatesBoard,o=e.onBoardChange,a=e.onBoardCreate,l=e.viewerId,d=(0,s.ZP)(),p=(0,R.ZP)(l).showEnabledSaveBehavior,f="quick_saves"===n.layout&&p,h="quick_creates"===n.layout;return(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"BoardPicker",children:(0,u.jsx)(c.xv,{size:"200",children:i?d.bt("Organizar em uma pasta (opcional)", "Organize to a board (optional)", "editPinModal.editBoard.optionalBoardLabel", undefined, true):d.bt("Pasta", "Board", " - ", undefined, true)})})}),r?(0,u.jsx)(c.xu,{column:12,mdColumn:8,"data-test-id":"edit-board",children:(0,u.jsx)(z.Z,{board:n,isBoardlessPinsBoard:f,isQuickCreatesBoard:h,onBoardChosen:o,onBoardCreate:a})}):n.name&&(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",weight:"bold",children:n.name})})]})}var L=n(857752),B=n(43898),M=n(407043);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var i=X(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,e);var t,n,i,o=G(a);function a(){var e;H(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Y(q(e=o.call.apply(o,[this].concat(n))),"state",{focused:!1}),Y(q(e),"suggestionAnchorRef",(0,r.createRef)()),Y(q(e),"handleBlur",(function(t){e.setState({focused:!1});var n=e.props.onBlur;n&&n(t)})),Y(q(e),"handleFocus",(function(t){e.setState({focused:!0});var n=e.props.onFocus;n&&n(t)})),Y(q(e),"handleChange",(function(t){var n=t.text,r=t.mentions;e.props.onDescriptionChange({value:n,userMentionTags:r})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.canAddUserMentionTags,i=t.canEdit,o=t.description,a=t.errorMessage,l=t.initialMentions,s=t.label,d=t.placeholder,p=t.onDescriptionChange,f={__style:U({},this.state.focused?{boxShadow:"0 0 0 3px #92c2fb"}:{})};return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"DescriptionField",children:(0,u.jsx)(c.xv,{size:"200",children:s})})}),i?(0,u.jsxs)(c.xu,{column:12,mdColumn:8,children:[(0,u.jsx)(c.xu,{children:n?(0,u.jsx)(c.xu,{borderStyle:"lg",dangerouslySetInlineStyle:f,id:"DescriptionField",minHeight:48,paddingX:2,paddingY:4,ref:this.suggestionAnchorRef,role:"textbox",rounding:4,children:(0,u.jsx)(L.Z,{initialMentions:l,initialText:o,onAddMention:function(){e.props.logContextEvent({event_type:8905,element:116,aux_data:{tag_type:1}})},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:function(){e.props.logContextEvent({event_type:8908,element:116,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){e.props.logContextEvent({event_type:8907,element:116,aux_data:{tag_type:1}})},maxSuggestions:4,placeholder:d})}):(0,u.jsx)(c.Kx,{id:"DescriptionField",placeholder:d,value:o,onChange:function(e){var t=e.value;p({value:t,userMentionTags:[]})},hasError:(a||"").length>0})}),!!a&&(0,u.jsx)(c.xu,{children:(0,u.jsx)(B.Z,{errorMessage:a,htmlFor:"pin-edit-description"})})]}):(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",weight:"bold",children:o})})]})]})}}])&&V(t.prototype,n),i&&V(t,i),a}(r.Component);var Q=function(e){var t=(0,M.v)().logContextEvent;return(0,u.jsx)($,U(U({},e),{},{logContextEvent:t}))},J=n(356725),ee=n(239062),te=n(876371);function ne(e){var t,n=e.isCarousel,r=e.onMouseEnter,i=e.onMouseLeave,o=e.shouldShowCarouselSliders,a=e.onCarouselSlide,l=e.currentIndex,s=e.carouselData,d=e.pinId,p=e.description,f=e.image,h=void 0===f?{}:f;return(0,u.jsxs)(c.xu,{paddingX:4,paddingY:3,children:[n&&(t=s&&s.carousel_slots&&s.carousel_slots.length||1,t>=2&&(0,u.jsx)(c.xu,{padding:2,children:(0,u.jsx)(c.__,{htmlFor:"CardsIndex",children:(0,u.jsxs)(c.xv,{size:"200",children:[l+1,"/",t]})})})),(0,u.jsx)(c.zd,{width:236,children:(0,u.jsxs)(c.xu,{onMouseEnter:r,onMouseLeave:i,children:[(0,u.jsxs)(c.zd,{rounding:2,wash:!0,children:[n&&o&&(0,u.jsx)(c.xu,{display:"inlineBlock",height:"100%",position:"absolute",width:"100%",zIndex:new c.Ry(10),dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},children:(0,u.jsx)(ee.default,{handleCarouselSwipe:a,carouselIndex:l,carouselData:s,pinId:d,isEditMode:!0})}),n?(0,u.jsx)(te.Z,{carouselIndex:l,isCloseup:!1,carouselData:s,pinId:d,isEditMode:!0}):(0,u.jsx)(c.Ee,{alt:p,color:"#efefef",naturalHeight:h.height,src:h.url,naturalWidth:h.width})]}),n&&(0,u.jsx)(J.default,{carouselIndex:l,carouselData:s,pinId:d,handleCarouselSwipe:a,isEditMode:!0,variant:"legacy"})]})})]})}function re(e){var t=e.apiErrorMessage,n=e.shouldShowGenericUpdateError,r=e.onClickDeleteButton,i=e.disableDelete,o=e.onHide,a=e.shouldDisableSave,l=e.triggerBoardAndSectionCreate,d=(0,s.ZP)();return(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1,children:[(0,u.jsx)(g.Z,{id:"delete-pin-button",children:(0,u.jsx)(c.zx,{fullWidth:!0,text:d.bt("Excluir", "Delete", "EditPinModal.EditPinFooter.Delete", undefined, true),onClick:r,disabled:i})}),n&&(0,u.jsx)(c.xu,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center",children:(0,u.jsx)(B.Z,{errorMessage:t||d.bt("Desculpe! Ocorreu um erro ao editar o seu Pin.", "Sorry! There was an error editing your Pin.", "EditPinModal.EditPinFooter.ErrorMessageToast", undefined, true),htmlFor:"pin-edit-generic-error"})}),(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2,children:[(0,u.jsx)(c.xu,{paddingX:2,children:(0,u.jsx)(c.zx,{fullWidth:!0,text:d.bt("Cancelar", "Cancel", "EditPinModal.EditPinFooter.Cancel", undefined, true),onClick:o})}),(0,u.jsx)(c.xu,{paddingX:2,"data-test-id":"edit-pin-save",children:(0,u.jsx)(c.zx,{fullWidth:!0,text:d.bt("Salvar", "Save", "EditPinModal.EditPinFooter.Save", undefined, true),color:"red",onClick:l,disabled:a})})]})]})}function ie(e){var t=e.pinNoteText,n=e.isCollaborative,i=e.onPinNoteChange,o=(0,s.ZP)();return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"PinNoteField",children:(0,u.jsx)(c.xv,{size:"200",children:n?o.bt("Nota para o grupo", "Note to group", "editPinModal.editPinNote.groupTitle", undefined, true):o.bt("Nota pessoal", "Note to self", "editPinModal.editPinNote.title", undefined, true)})})}),(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,"data-test-id":"note-to-self-input",children:(0,u.jsx)(c.Kx,{errorMessage:t.length>=500?o.bt("O limite de caracteres foi atingido", "Character limit reached", "editPinModal.editPinNote.warningText", undefined, true):void 0,id:"PinNoteField",onChange:i,placeholder:o.bt("Adicione uma nota particular para lembrar suas ideias sobre este Pin", "Add a private note to remember your ideas about this Pin", "editPinModal.editPinNote.placeholderText", undefined, true),value:t})})]})]})}var oe=n(241563);function ae(e){var t=e.board,n=e.canEdit,r=e.currentSection,i=e.onSectionChange,o=e.onSectionCreate,a=e.sectionId,l=e.sectionName,d=(0,s.ZP)(),p=null!=t&&t.id?oe.Z:oe.x;return"quick_creates"===(null==t?void 0:t.layout)?null:(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:3,children:(0,u.jsx)(c.__,{htmlFor:"SectionPicker",children:(0,u.jsx)(c.xv,{size:"200",children:d.bt("Subpasta", "Section", "label for editing a Pin's board section", undefined, true)})})}),n&&t?(0,u.jsx)(c.xu,{column:12,mdColumn:8,children:(0,u.jsx)(p,{board:t,onSectionChange:i,selectedSectionId:a,selectedSectionName:l,onSectionCreate:o})}):(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",weight:"bold",children:r&&!(t||{}).is_collaborative?r.title:d.bt("Nenhuma subpasta", "No section", "default dropdown option for selecting a board section on pin edit", undefined, true)})})]})}function le(e){var t=e.canEdit,n=e.onTitleChange,i=e.title,o=e.errorMessage,a=(0,s.ZP)();return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"TitleField",children:(0,u.jsx)(c.xv,{size:"200",children:a.bt("Título", "Title", "Label for editing title of pin", undefined, true)})})}),(0,u.jsx)(c.xu,{column:12,mdColumn:8,children:t?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.xu,{"data-test-id":"pin-title-input",children:(0,u.jsx)(c.nv,{hasError:(o||"").length>0,id:"TitleField",onChange:n,size:"lg",value:i})}),!!o&&(0,u.jsx)(c.xu,{children:(0,u.jsx)(B.Z,{errorMessage:o,htmlFor:"pin-edit-title"})})]}):(0,u.jsx)(c.xu,{column:12,mdColumn:8,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",weight:"bold",children:i})})})]})]})}function se(e){var t=e.onChangeWebsite,n=e.link,i=e.errorMessage,o=(0,s.ZP)();return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"WebsiteField",children:(0,u.jsx)(c.xv,{size:"200",children:o.bt("Site", "Website", " - ", undefined, true)})})}),(0,u.jsxs)(c.xu,{column:12,mdColumn:8,children:[(0,u.jsx)(c.xu,{children:(0,u.jsx)(c.nv,{hasError:(i||"").length>0,id:"WebsiteField",onChange:t,size:"lg",value:n})}),!!i&&(0,u.jsx)(c.xu,{children:(0,u.jsx)(B.Z,{errorMessage:i,htmlFor:"pin-edit-website"})})]})]})]})}var ce,ue=n(947599),de=n(704217),pe=void 0!==ce?ce:ce=n(337148);function fe(e){var t,n,i=e.onShoppingRecChange,o=e.shoppingRecDisabled,a=e.storyPinData,l=(0,s.ZP)(),d=(0,de.useLazyLoadQuery)(pe,{});if(!d)return null;var p=(a||{}).has_product_pins,f=null===(t=d.v3GetCurrentUserHandlerQuery)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.ipStelaRecDisabled;return(0,u.jsx)(r.Fragment,{children:(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,children:[(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",children:l.bt("Recomendações de compras", "Shopping recommendations", "Heading for shopping recommendations permissions", undefined, true)})}),(0,u.jsx)(c.xu,{column:12,mdColumn:8,children:(0,u.jsxs)(c.xu,{paddingY:1,display:"flex",alignItems:"start",children:[(0,u.jsx)(c.rs,{onChange:i,id:"PhotoSwitch",switched:!o,disabled:f||p}),(0,u.jsx)(c.xu,{paddingX:2,children:(0,u.jsx)(c.__,{htmlFor:"stelaSwitch",children:(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(c.xv,{size:"200",color:f?"subtle":"default",children:l.bt("Mostrar produtos parecidos ", "Show similar products ", "Label to toggle similar products on ideal pin", undefined, true)}),f?(0,u.jsxs)(c.xv,{color:"subtle",size:"200",children:[l.bt("Você desativou as recomendações de compras no seu perfil ", "You’ve disabled shopping recommendations for your profile ", "Text indicating shopping recommendations are currently disabled", undefined, true),(0,u.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",color:"subtle",children:(0,u.jsx)(c.rU,{display:"inlineBlock",href:"https://www.pinterest.com/settings/permissions",target:"blank",rel:"nofollow",underline:"hover",children:l.bt("Editar configurações do perfil", "Edit profile settings", "Link to the settings page to enable shopping recommendations on idea pins", undefined, true)})})]}):(0,u.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,u.jsx)(c.xu,{marginBottom:1,children:(0,u.jsx)(c.xv,{size:"200",children:l.bt("As pessoas podem comprar produtos semelhantes com os que aparecem neste Idea Pin usando a Busca visual", "People can shop products similar to what’s shown in this Idea Pin using visual search", "Text indicating shopping recommendations are currently enabled", undefined, true)})}),(0,u.jsx)(c.xv,{size:"200",children:l.bt("As recomendações de compras não estão disponíveis para Idea Ads e Idea Pins com tags de produto ou rótulo de parceria paga", "Shopping recommendations aren’t available for Idea ads and Idea Pins with product tags or paid partnership label", "Explanation about how stela on idea pins with tagged products arent available", undefined, true)})]})]})})})]})})]})})}function he(e){var t=e.shoppingRecDisabled,n=e.onShoppingRecChange,i=e.isNoTitle,o=(0,s.ZP)();return(0,u.jsxs)(r.Fragment,{children:[!i&&(0,u.jsx)(c.iz,{}),(0,u.jsxs)(c.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:i?0:3,children:[!i&&(0,u.jsx)(c.xu,{column:12,mdColumn:3,paddingY:2,children:(0,u.jsx)(c.xv,{size:"200",children:o.bt("Recomendações", "Recommendations", "EditPinModal.recommendations", undefined, true)})}),(0,u.jsx)(c.xu,{column:12,mdColumn:8,children:(0,u.jsxs)(c.xu,{paddingY:1,display:"flex",alignItems:"center",children:[(0,u.jsx)(c.rs,{onChange:n,id:"ShoppingRecSwitch",switched:!t}),(0,u.jsx)(c.xu,{paddingX:2,children:(0,u.jsx)(c.__,{htmlFor:"ShoppingRecSwitch",children:(0,u.jsx)(c.xv,{size:"200",children:o.bt("Mostrar recomendações de compras", "Show shopping recommendations", "EditPinModal.recommendations.showShoppingRecommendations.label", undefined, true)})})})]})})]})]})}var me=n(717615),_e=n(916062),ge=n(784590),ye=n(19121),ve=n(422946),be=n(956800),xe=n(482567),Pe=n(90326),we=n(825067),je=n(6637),Se=n(827896),Oe=n(254176),ke=n(947729),Ce=n(231947),Ae=n(780280),Ie=n(821463),Ee=n(678638),Te=n(414327),De=n(134906),ze=n(563339),Re=n(609500);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var i=We(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ve(e)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){return Boolean(e&&e.trim().length)}function qe(e,t){var n=Ke(e),r=Ke(t);return(n||r)&&e!==t}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,e);var t,n,r,i=Ue(a);function a(){var e,t,n,r,o,s,c,u,d,f,m,_,g,y,v,b,x,P,w,j;Me(this,a);for(var S=arguments.length,O=new Array(S),k=0;k<S;k++)O[k]=arguments[k];return Ge(Ve(j=i.call.apply(i,[this].concat(O))),"state",{altText:(null===(e=j.props.pinResource.data)||void 0===e?void 0:e.alt_text)||"",board:(null===(t=j.props.pinResource.data)||void 0===t?void 0:t.board)||null,commentsDisabled:(null===(n=j.props.pinResource.data)||void 0===n?void 0:n.comments_disabled)||(null===(r=j.props.pinResource.data)||void 0===r?void 0:r.did_it_disabled)||!1,description:(null===(o=j.props.pinResource.data)||void 0===o||null===(s=o.description)||void 0===s?void 0:s.trim())||"",apiErrorMessage:null,link:(null===(c=j.props.pinResource.data)||void 0===c?void 0:c.link)||"",pinNoteText:(null===(u=j.props.pinResource.data)||void 0===u||null===(d=u.pin_note)||void 0===d?void 0:d.text)||"",sectionId:(null===(f=j.props.pinResource.data)||void 0===f||null===(m=f.section)||void 0===m?void 0:m.id)||null,sectionName:(null===(_=j.props.pinResource.data)||void 0===_||null===(g=_.section)||void 0===g?void 0:g.title)||null,showDeleteConfirmation:!1,carousel_data:(null===(y=j.props.pinResource.data)||void 0===y?void 0:y.carousel_data)||null,title:(null===(v=j.props.pinResource.data)||void 0===v?void 0:v.title)||"",isLoadingPin:!Boolean(j.props.pinResource.isLoaded),isProcessing:!1,currentIndex:void 0!==j.props.carouselSlotCurrentIndex?j.props.carouselSlotCurrentIndex:(null===(b=j.props.pinResource.data)||void 0===b||null===(x=b.carousel_data)||void 0===x?void 0:x.index)||0,shoppingRecDisabled:null===(P=j.props.pinResource.data)||void 0===P?void 0:P.shopping_rec_disabled,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:(null===(w=j.props.pinResource.data)||void 0===w?void 0:w.user_mention_tags)||[]}),Ge(Ve(j),"onClickDeleteButton",(function(){return j.setState({showDeleteConfirmation:!0})})),Ge(Ve(j),"onHideConfirmation",(function(){return j.setState({showDeleteConfirmation:!1})})),Ge(Ve(j),"updateCarouselSlotIndex",(function(){var e=j.props.carouselSlotCurrentIndex;j.setState({currentIndex:void 0!==e?e:j.props.pinResource.data&&j.props.pinResource.data.carousel_data&&j.props.pinResource.data.carousel_data.index||0})})),Ge(Ve(j),"handleBoardChange",(function(e){var t=j.state.board.id;e.id!==t&&j.setState({board:e,sectionId:null,sectionName:null})})),Ge(Ve(j),"createBoard",(function(e){var t=j.props,n=t.createBoard,r=t.viewer,i=t.orbacActingAs,o=j.state.board,a=(0,Ce.lJ)(r,i);!o.id&&o.name&&e&&n(o.name,e,a).then((function(e){if(j._isMounted){var t=j.state,n=t.sectionId,r=t.sectionName;!n&&r?(j.setState({board:e}),j.createSection()):(j.handleBoardChange(e),j.handleSave())}}))})),Ge(Ve(j),"handleBoardCreateClick",(function(e){if(e){var t={name:e,privacy:p.Z.BoardPrivacy.PUBLIC,access:"write"};j.setState({board:t,sectionId:null,sectionName:null})}})),Ge(Ve(j),"createSection",(function(){var e=j.state,t=e.board,n=e.sectionName,r=j.props,i=r.viewer,o=r.orbacActingAs,a=(0,Ce.lJ)(i,o);if(n)if(t.id){var l={boardId:t.id,name:n};(0,j.props.createSection)(l,a).then((function(e){j._isMounted&&(j.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),j.handleSave())})).catch((function(){j.setState({shouldShowGenericUpdateError:!0,apiErrorMessage:null})}))}else j.createBoard()})),Ge(Ve(j),"handleSectionCreateClick",(function(e){0!==e.length&&(j.state.board&&j.setState({sectionId:null,sectionName:e}))})),Ge(Ve(j),"handleSectionChange",(function(e){return j.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})})),Ge(Ve(j),"handleDeletePin",(function(){var e=j.props,t=e.advertiser_id,n=e.changeBoardPinCount,r=e.changeUserPinCount,i=e.dispatch,o=e.getClientTrackingParams,a=e.onDelete,l=e.onHide,s=e.orbacActingAs,c=e.pinId,u=e.pinResource.data,d=e.removeBoardlessPin,p=e.viewer,f=(0,Ce.lJ)(p,s),h=Be(Be(Be({},t?{advertiser_id:t}:{}),f?{orbac_subject_id:f}:Object.freeze({})),{},{id:c,client_tracking_params:o(c)});return je.Z.create("PinResource",h).callDelete().then((function(){if(j._isMounted){if(!u)return;var e=u.board,t=(e=void 0===e?{}:e).id,o=u.pinner,s=(o=void 0===o?{}:o).id,f=u.section,h=null==f?void 0:f.id;n({boardId:t,sectionId:h,increment:-1}),r({userId:s,increment:-1}),i((0,Oe.xQ)(t)),i((0,be.EX)({feedId:h||t,feedType:h?ve.DV.BOARD_SECTION_PINS:ve.DV.BOARDFEED,itemIds:[c],itemType:"pin"})),i((0,be.EX)({feedId:s,feedType:ve.DV.STORY_PINS_FEED,itemIds:[c],itemType:"pin"})),i((0,be.EX)({feedId:s,feedType:ve.DV.PROFILE_PINS_FEED,itemIds:[c],itemType:"pin"})),h&&i((0,Ee.CE)(h)),l(),a&&a()}p.id&&d(p.id,c)}))})),Ge(Ve(j),"sanitizeCarouselData",(function(e){var t=j.state.carousel_data;if(e&&(t=e),t){var n=t.carousel_slots;if(n){var r={carousel_slots:[]};return n.forEach((function(e){var t={description:e.details||"",title:e.title||"",link:e.link||""};r.carousel_slots.push(t)})),r}}return null})),Ge(Ve(j),"triggerBoardAndSectionCreate",(function(e){return function(){var t=j.state,n=t.board,r=t.sectionId,i=t.sectionName;n&&!n.id&&n.name?j.createBoard(e):!r&&i?j.createSection():j.handleSave()}})),Ge(Ve(j),"logPinEditEvent",(function(e,t,n,r,i){var o={},a=j.props,l=a.pinId,s=a.view,c=a.viewParameter,u=j.state.userMentionTags;if(o.objectId=l,o.num_user_mention_tags=u.length,e&&(o.board_was_modified=!0),!e&&t&&(o.board_section_was_modified=!0),n){var d=j.state.description,p=i.description;o.original_pin_description=p,o.edited_pin_description=d}if(r){var f=j.state.carousel_data,h=i.carousel_data;o.original_carousel_data=JSON.stringify(j.sanitizeCarouselData(h)),o.edited_carousel_data=JSON.stringify(j.sanitizeCarouselData(f))}j.props.logContextEvent({event_type:2,component:208,view_type:s,view_parameter:c,aux_data:Be({},o)})})),Ge(Ve(j),"handleSave",(function(){j.setState({apiErrorMessage:null,isProcessing:!0});var e=j.props,t=e.advertiser_id,n=e.completeResourceFetch,r=e.invalidatePinResource,i=e.orbacActingAs,o=e.pinId,a=e.pinResource.data,l=e.onHide,s=e.removeBoardlessPin,c=e.updatePinNote,u=e.viewer;if(a){var d,p=a.alt_text,f=a.board,m=a.comments_disabled,_=a.did_it_disabled,g=a.title,y=a.description,v=a.link,b=a.pin_note,x=a.section,P=a.carousel_data,w=a.shopping_rec_disabled,S=null==b?void 0:b.text,O=j.state,k=O.carousel_data,C=O.shouldShowValidationLinkFormatError;if(k){var A=j.sanitizeCarouselData();A&&(d=JSON.stringify(A))}var I=j.state,E=I.altText,T=I.board,D=I.commentsDisabled,z=I.currentIndex,R=I.title,Z=I.description,L=I.pinNoteText,B=I.sectionId,M=I.shoppingRecDisabled,F=I.carousel_data,N=I.userMentionTags,U=T||f,H=C?v:j.state.link,V=(0,Ce.lJ)(u,i),W=Be(Be({alt_text:E,board_id:null==U?void 0:U.id,board_section_id:B,carousel_data_json:d,description:Z,disable_comments:D,disable_did_it:D,id:o,link:H,shopping_rec_disabled:M,title:R,user_mention_tags:JSON.stringify(N)},t?{advertiser_id:t}:{}),V?{orbac_subject_id:V}:Object.freeze({})),G=x&&x.id||null,K=null==U?void 0:U.id,q=null==f?void 0:f.id,X=qe(p,E),Y=q!==K,$=(Boolean(G)||Boolean(B))&&G!==B,Q=qe(g,R),J=qe(y,Z),ee=qe(v,H),te=Boolean(F)&&Boolean(P)&&!h()(F,P),ne=m!==D||_!==D,re=qe(S,L);X||Y||$||Q||J||re||ee||te||ne||w!==M?(re&&c(o,S,L,V),je.Z.create("PinResource",W).callUpdate().then((function(e){if(j._isMounted){var t,i,o,c=j.props,d=c.changeBoardPinCount,p=c.onSubmit,f=c.pinId,h=c.pinMoved;if((Y||$)&&K&&q)h({selectedPinIds:[f],source:{boardId:q,sectionId:G},target:{boardId:K,sectionId:B}}),d({boardId:K,sectionId:B||void 0,increment:1}),d({boardId:q,sectionId:G||void 0,increment:-1}),u.id&&"quick_saves"===(null===(i=a.board)||void 0===i?void 0:i.layout)&&s(u.id,f);if(p&&K&&null!=U&&U.url)p({boardId:K,title:null!==(o=U.name)&&void 0!==o?o:"",sectionId:B,url:U.url});l(),r(f,V),null!==(t=e.resource_response)&&void 0!==t&&t.data.carousel_data&&(e.resource_response.data.carousel_data.index=z),n(e,V),j.logPinEditEvent(Y,$,J,te,a)}})).catch((function(){var e=j.state,t=e.shouldShowValidationTitleError,n=e.shouldShowValidationDescriptionError,r=e.shouldShowValidationLinkFormatError;j.setState({isProcessing:!1,shouldShowGenericUpdateError:!t&&!n&&!r})}))):(l(),r(o,V)),j.setState({isProcessing:!1})}})),Ge(Ve(j),"handleTextChanges",(function(e,t){var n=j.state.carousel_data;if(n){var r=l()(n),i=r.carousel_slots,o=void 0===i?[]:i,a=j.state,s=a.currentIndex,c=a.shouldApplyTextToAll,u=a.description,d=a.link,p=a.title,f=j.valueIsValidForType(e,t);switch(c?o.forEach((function(n){return n[t]=e})):o[s]&&(o[s][t]=e),t){case"details":var h=0===s?e:u;j.setState({description:h,carousel_data:r||null,shouldShowValidationDescriptionError:!f,shouldShowGenericUpdateError:!1});break;case"link":var m=0===s?e:d;j.setState({link:m,carousel_data:r||null,shouldShowValidationLinkFormatError:!f,shouldShowGenericUpdateError:!1});break;case"title":var _=0===s?e:p;j.setState({title:_,carousel_data:r||null,shouldShowValidationTitleError:!f,shouldShowGenericUpdateError:!1})}}})),Ge(Ve(j),"handleDescriptionChange",(function(e){var t=e.value,n=e.userMentionTags,r=j.valueIsValidForType(t,"description"),i=n.length<=5;n.length<j.state.userMentionTags.length&&j.props.logContextEvent({event_type:8906,element:116,aux_data:{tag_type:1}}),j.setState({description:t,userMentionTags:n,shouldShowValidationDescriptionError:!r,shouldShowValidationUserMentionTagsError:!i,shouldShowGenericUpdateError:!1})})),Ge(Ve(j),"handleCarouselDetailsChange",(function(e){var t=e.value;j.handleTextChanges(t,"details")})),Ge(Ve(j),"handleTitleChange",(function(e){var t=e.value,n=j.valueIsValidForType(t,"title");j.setState({title:t,shouldShowValidationTitleError:!n,shouldShowGenericUpdateError:!1})})),Ge(Ve(j),"handleCarouselTitleChange",(function(e){var t=e.value;j.handleTextChanges(t,"title")})),Ge(Ve(j),"handleAltTextChange",(function(e){var t=e.value;j.setState({altText:t})})),Ge(Ve(j),"valueIsValidForType",(function(e,t){switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===(0,De.FU)([(0,De.Jx)({message:j.props.i18n.bt("Esta não é uma URL válida.", "Not a valid url.", "Validation error for an improperly formated url", undefined, true)})],e).length;case"title":return e.length<=100;default:return!0}})),Ge(Ve(j),"handleWebsiteChange",(function(e){var t=e.value,n=j.valueIsValidForType(t,"link");j.setState({link:t,shouldDisableSave:!n,shouldShowValidationLinkFormatError:!n,shouldShowGenericUpdateError:!1})})),Ge(Ve(j),"handleCarouselWebsiteChange",(function(e){var t=e.value;j.handleTextChanges(t,"link")})),Ge(Ve(j),"handleCommentChange",(function(e){return j.setState({commentsDisabled:!e.value})})),Ge(Ve(j),"handleShoppingRecChange",(function(e){j.setState({shoppingRecDisabled:!e.value})})),Ge(Ve(j),"handleShouldApplyToAll",(function(e){if(e){var t=j.state,n=t.currentIndex,r=void 0===n?0:n,i=t.carousel_data;if(!i)return;var o=l()(i),a=o.carousel_slots,s=void 0===a?[]:a,c=s[r],u=c.details,d=c.link,p=c.title;s.forEach((function(e){e.details=u,e.title=p,e.link=d})),j.setState({carousel_data:o,shouldApplyTextToAll:e})}else j.setState({shouldApplyTextToAll:e})})),Ge(Ve(j),"handleCarouselSlider",(function(e){var t=j.state.carousel_data,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&j.setState({currentIndex:e})})),Ge(Ve(j),"handleMouseEnter",(function(){j.setState({shouldShowCarouselSliders:!0})})),Ge(Ve(j),"handleMouseLeave",(function(){j.setState({shouldShowCarouselSliders:!1})})),j}return t=a,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateCarouselSlotIndex()}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,r=n.pinResource,i=r.data,o=r.isLoaded,a=n.carouselSlotCurrentIndex;i&&o!==e.pinResource.isLoaded&&this.setState({altText:i.alt_text,board:i.board,commentsDisabled:i.comments_disabled||i.did_it_disabled,description:i.description&&i.description.trim(),isLoadingPin:!1,link:i.link,pinNoteText:(null===(t=i.pin_note)||void 0===t?void 0:t.text)||"",sectionId:(i.section||{}).id,sectionName:(i.section||{}).title,title:i.title,carousel_data:i.carousel_data,currentIndex:void 0!==a?a:i.carousel_data&&i.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:i.user_mention_tags||[],shoppingRecDisabled:i.shopping_rec_disabled})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getCurrentUserId",value:function(e){return e.isAuth?e.id:""}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,a=i.disableDelete,l=i.onHide,s=i.orbacActingAs,p=i.pinResource,f=i.pinId,h=i.viewer,_=this.state,g=_.altText,y=_.apiErrorMessage,v=_.board,b=_.commentsDisabled,x=_.description,P=_.link,w=_.pinNoteText,j=_.sectionId,S=_.sectionName,O=_.showDeleteConfirmation,k=_.title,C=_.isLoadingPin,A=_.isProcessing,I=_.carousel_data,E=_.shouldApplyTextToAll,z=_.currentIndex,R=_.shoppingRecDisabled,L=_.shouldDisableSave,B=_.shouldShowCarouselSliders,M=_.shouldShowValidationTitleError,F=_.shouldShowValidationDescriptionError,N=_.shouldShowValidationLinkFormatError,U=_.shouldShowGenericUpdateError,H=_.shouldShowValidationUserMentionTagsError,V=_.userMentionTags,W=p.data||{},G=!!(W&&W.story_pin_data_id&&W.story_pin_data),K=(null===(e=W.native_creator)||void 0===e?void 0:e.id)===this.getCurrentUserId(h);if(O)return(0,u.jsx)(T,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation,showStoryPinCreatorDeleteMessage:G&&K});var q=!!(I&&I.carousel_slots&&I.carousel_slots.length>1),X=I&&I.carousel_slots&&I.carousel_slots.length>0&&I.carousel_slots[z]||{},Y=X.details,$=void 0===Y?"":Y,J=X.link,ee=void 0===J?"":J,te=X.title,oe=void 0===te?"":te,ce=W&&(W.access||[]).includes("write")||this.props.canEdit||!!v&&(0,o.Z)({action:4,board:v,viewer:h})||!!v&&(0,Ce.KY)(h,v,s),de=function(e){var t=(0,Ce.lJ)(e,s),n=t||r.getCurrentUserId(e),i=r.props.canEdit&&r.props.advertiserOwnerUserId?r.props.advertiserOwnerUserId:n;return ce&&!W.is_repin&&!G&&(q||!I)&&(W.native_creator&&W.native_creator.id===i||q&&W.pinner&&W.pinner.id===i||W.link_domain&&W.link_domain.official_user&&W.link_domain.official_user.id===i||!!W.domain&&W.pinner&&W.pinner.id===i&&W.pinner.domain_url&&W.pinner.domain_url.includes(W.domain))},pe=W&&W.images&&W.images["474x"]||{},me=G&&!!W.story_pin_data&&K,_e=de(h)?(0,u.jsx)(le,{canEdit:ce,onTitleChange:q?this.handleCarouselTitleChange:this.handleTitleChange,title:q&&oe?oe:k,errorMessage:M?(0,ke.Y8)(q,this.props.i18n):""}):null,ge=(ce||h.isAuth&&(W.pinner||{}).id===h.id)&&de(h)?(0,u.jsx)(Q,{canAddUserMentionTags:!q,canEdit:ce,description:(q?$:x)||"",errorMessage:F?(0,ke.MM)(q,r.props.i18n):H?(0,ke.bl)(q,r.props.i18n):"",initialMentions:V,label:this.props.i18n.bt("Descrição", "Description", "Label for editing description", undefined, true),placeholder:this.props.i18n.bt("Fale sobre este Pin...", "Tell us about this Pin...", "Placeholder for editing description", undefined, true),onDescriptionChange:q?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,ye=(0,u.jsx)(ie,{isCollaborative:!(null==v||!v.is_collaborative),onPinNoteChange:function(e){var t=e.value;r.setState({pinNoteText:t})},pinNoteText:w}),ve=function(e){return de(e)&&!(W.aggregated_pin_data&&W.aggregated_pin_data.is_shop_the_look)}(h)?(0,u.jsx)(se,{link:q&&ee?ee:P,onChangeWebsite:q?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:N?(0,ke.qj)(q,this.props.i18n):""}):null,be=q?(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end",children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.__,{htmlFor:"applyTextToAll",children:(0,u.jsx)(c.xv,{children:this.props.i18n.bt("Aplicar texto a tudo", "Apply text to all", "Apply title, description, link to all cards", undefined, true)})})}),(0,u.jsx)(c.xu,{paddingX:2,paddingY:2,children:(0,u.jsx)(c.rs,{onChange:function(e){return r.handleShouldApplyToAll(e.value)},id:"applyTextToAll",switched:E})})]}):null,xe=de(h)?(0,u.jsx)(D,{canEdit:ce,onAltTextChange:this.handleAltTextChange,altText:g}):null,Pe=W.can_delete_did_it_and_comments?(0,u.jsx)(d,{commentsDisabled:b,onCommentChange:this.handleCommentChange}):null,we=!h.isAuth||(null===(t=W.pinner)||void 0===t?void 0:t.id)!==h.id||W.is_repin||W.story_pin_data||h.shopping_rec_disabled?null:(0,u.jsx)(he,{shoppingRecDisabled:R,onShoppingRecChange:this.handleShoppingRecChange}),je=!!(0,Ce.lJ)(h,s),Se=!!h.has_quicksave_board&&!!h.boardCount&&h.boardCount<2&&!je&&!this.props.advertiserOwnerUserId,Oe="quick_creates"===(null===(n=W.board)||void 0===n?void 0:n.layout),Ae=(0,Ce.Ms)(h,s);return(0,u.jsx)(m.ZP,{heading:this.props.i18n.bt("Editar este Pin", "Edit this Pin", "EditPinModal.ModalHeading.EditThisPin", undefined, true),accessibilityModalLabel:this.props.i18n.bt("Edite o seu Pin salvo anteriormente", "Edit your previously saved pin", "EditPinModal.ModalHeading.AccessibleLabel", undefined, true),size:Se?"sm":"lg",onDismiss:l,footer:(0,u.jsx)(re,{apiErrorMessage:y,shouldShowGenericUpdateError:U,onClickDeleteButton:this.onClickDeleteButton,disableDelete:!ce||a,onHide:l,shouldDisableSave:L,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(Ae)}),children:C||!p.isLoaded||A?(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(c.$j,{accessibilityLabel:this.props.i18n.bt("carregando", "loading", "EditPinModal.LoadingPin.Spinner", undefined, true),show:!0})}):(0,u.jsxs)(c.xu,{display:"flex",justifyContent:Se?"center":"between",minHeight:350,paddingX:4,children:[Se?null:(0,u.jsxs)(c.xu,{column:12,mdColumn:9,children:[(0,u.jsx)(Z,{board:v||W.board,canEdit:ce,isOriginallyQuickCreatesBoard:Oe,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick,viewerId:h.id||""}),(0,u.jsx)(ae,{board:v||W.board,canEdit:ce,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:j,sectionName:S,currentSection:W.section}),_e,ge,ve,be,xe,ye,Pe,we,me&&(0,u.jsx)(ue.Z,{children:(0,u.jsx)(fe,{onShoppingRecChange:this.handleShoppingRecChange,shoppingRecDisabled:R,storyPinData:W.story_pin_data})})]}),(0,u.jsx)(ne,{isCarousel:q,shouldShowCarouselSliders:B,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:f,description:x,image:pe})]})})}}])&&Fe(t.prototype,n),r&&Fe(t,r),a}(r.Component),Ye=function(e,t,n){return Be({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))},$e=(0,i.connect)(null,(function(e,t){return{changeBoardPinCount:function(t){return e((0,Oe.Br)(t))},changeUserPinCount:function(t){return e((0,Pe.JS)(t))},completeResourceFetch:function(t,n){return e((0,Te.Sr)("PinResource",Ye(t.resource_response.data.id,!1,n),t))},createBoard:function(t,n,r){return e((0,Oe.aX)(t,n,r))},createSection:function(n,r){return e((0,Ee.vB)(n,t.i18n,r))},invalidatePinResource:function(t,n){return e((0,Te.jB)("PinResource",Ye(t,!0,n)))},removeBoardlessPin:function(t,n){return e((0,be.EX)({feedId:t,feedType:ve.DV.BOARDLESS_PINS,itemIds:[n],itemType:"pin"}))},pinMoved:(0,Ie.bindActionCreators)(ze.S,e),updatePinNote:function(t,n,r,i){return e((0,xe._)(t,n,r,i))}}}))(Xe);function Qe(e){var t,n=(0,s.ZP)(),r=(0,M.v)().logContextEvent,o=(0,i.useSelector)((function(e){return e.advertiser})),a=null===(t=(0,we.W)())||void 0===t?void 0:t.onPinDelete,l=(0,me.Z)(),c=(0,ye.Z)(),d=(0,Ce.lJ)(c,l),p=(0,ge.Z)({name:"PinResource",options:Ye(e.pinId,!0,d)}),f=(0,Se.Z)(),h=c.isAuth&&Boolean(o)?o.id:void 0,m=c.isAuth&&Boolean(o)&&o.owner_user_id!==c.id?o.owner_user_id:void 0,_=(0,_e.Z)(p.data);return(0,u.jsx)($e,Be(Be({},e),{},{advertiser_id:h,advertiserOwnerUserId:m,getClientTrackingParams:f,dispatch:(0,i.useDispatch)(),history:(0,Re.useHistory)(),i18n:n,logContextEvent:r,onDelete:function(){var t;_(),null===(t=e.onDelete)||void 0===t||t.call(e),a&&a({pinId:e.pinId})},orbacActingAs:l,pinResource:p,requestContext:(0,Ae.B)(),viewer:c}))}},947729:function(e,t,n){"use strict";function r(e,t){return e?t.bt("O título é muito longo. Confirme que os títulos de todos os cartões têm menos de cem caracteres", "Title too long. Make sure all cards' titles have less than 100 characters", "Title entered is too long while editing a carousel pin and/or one of its pins", undefined, true):t.bt("O título é muito longo. Confirme que o título tem menos de cem caracteres.", "Title too long. Make sure title has less than 100 characters", "Title entered is too long while editing a pin", undefined, true)}function i(e,t){return e?t.bt("A descrição é muito longa. Confirme que as descrições de todos os cartões têm menos de 500 caracteres", "Description too long. Make sure all cards' descriptions have less than 500 characters", "Description entered is too long while editing a carousel pin and/or one of its pins", undefined, true):t.bt("A descrição é muito longa. Confirme que a descrição tem menos de 500 caracteres", "Description too long. Make sure description has less than 500 characters", "Description entered is too long while editing a pin", undefined, true)}function o(e,t){return t.bt("Você incluiu muitas menções. Use no máximo cinco.", "Too many mentions. Make sure you have at most 5.", "editPinModal.errorMessages.userMentionOverLimit", undefined, true)}function a(e,t){return e?t.bt("Forneça uma URL válida. Confirme que os links de todos os cartões são válidos", "Need to provide a valid URL. Make sure all cards' links are valid", "Invalid URL/link provided while editing a carousel pin and/or one of its pins", undefined, true):t.bt("Forneça uma URL válida. Confirme que o link é válido", "Need to provide a valid URL. Make sure the link is valid", "Invalid URL/link provided while editing a pin", undefined, true)}n.d(t,{MM:function(){return i},Y8:function(){return r},bl:function(){return o},qj:function(){return a}})},507016:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(488769),i=n(486746),o=n(27255),a=n(24886),l=n(898781),s=n(908390),c=n(515198);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?new RegExp(e,"i"):"",r=e&&e.length>1?t.split(n).reduce((function(n,r,i){if(n.length>0&&e&&e.length){var o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,c.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},i),r)}return[r]}),[]):t;return r}t.Z=function(e){var t,n,d,p,f,h,m=(0,l.ZP)(),_=e.disabled,g=e.item,y=e.isSection,v=e.isSelectMode,b=e.isWithinSectionPicker,x=e.saveState,P=e.searchQuery,w=e.selected,j=y?null:g,S=y?g:null,O=S&&S.title||j&&j.name||"",k="",C=!1,A="",I=0;if(j){k=j.image_cover_url,C=j.is_collaborative,A=j.privacy;var E=j.section_count;I=void 0===E?0:E}var T=u(P,O),D=A===o.Z.BoardPrivacy.SECRET,z=!_&&(w||!!x),R=!b&&"number"==typeof I&&I>0,Z="number"==typeof I&&I>0?"boardWithSection":"boardWithoutSection",L=v?m.bt("Marcar", "Select", "Board select button label", undefined, true):m.bt("Salvar", "Save", "Pin save button label", undefined, true);return(0,c.jsxs)(s.xu,{alignItems:"center",color:z?"secondary":"default",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":Z,children:[j&&(0,c.jsx)(s.xu,{height:48,width:48,color:"secondary",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:k?(0,c.jsx)(s.Ee,{src:k,alt:O,fit:"cover",naturalWidth:1,naturalHeight:1}):(0,c.jsx)("span",{})}),S&&!(null===(t=S.preview_pins)||void 0===t||!t.length)&&(0,c.jsx)(a.Z,{image_url:null!==(n=S.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(d=null===(p=S.preview_pins[0].image_square_size_pixels)||void 0===p?void 0:p.height)&&void 0!==d?d:1,naturalWidth:null!==(f=null===(h=S.preview_pins[0].image_square_size_pixels)||void 0===h?void 0:h.width)&&void 0!==f?f:1}),(0,c.jsxs)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(s.xv,{color:_?"subtle":"default",size:"300",lineClamp:1,weight:"bold",children:T}),(R||!z)&&(0,c.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[D&&(0,c.jsx)(r.Z,{type:"secret"}),C&&(0,c.jsx)(i.Z,{board:j,showCollaborativeIcon:C,useLegoLayout:!0}),R&&(0,c.jsx)(r.Z,{type:"sections"})]}),!R&&z&&!x&&(0,c.jsx)(s.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,c.jsx)(s.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:L})}),!R&&z&&"loading"===x&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,c.jsx)(s.$j,{accessibilityLabel:m.bt("Salvando", "Saving", "Accessibility label for saving a pin to a board", undefined, true),show:!0})})]})]})}},488769:function(e,t,n){"use strict";var r=n(898781),i=n(908390),o=n(515198);t.Z=function(e){var t=e.type,n=(0,r.ZP)(),a={group:{accessibilityLabel:n.bt("pasta compartilhada", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:n.bt("pasta protegida", "protected board", "Board picker protected board icon", undefined, true),icon:"protect"},secret:{accessibilityLabel:n.bt("Pasta secreta", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:n.bt("pasta com subpastas", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:n.bt("pasta com subpastas", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-down"}}[t];return(0,o.jsx)(i.xu,{marginStart:1,children:(0,o.jsx)(i.xu,{marginStart:2,children:"sections"===t||"sectionsInline"===t?(0,o.jsx)(i.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:"12",color:"default"}):(0,o.jsx)(i.JO,{accessibilityLabel:a.accessibilityLabel,icon:a.icon,size:16,color:"default"})})})}},63536:function(e,t,n){"use strict";n.d(t,{ZP:function(){return x}});var r,i=n(908390),o=n(350118),a=n(515198),l=function(e){var t=e.maxPrice,n=e.minPrice,r=e.price,i=e.standardPrice,o=e.NoPrice,l=e.RangedPrice,s=e.RegularPrice,c=e.RangedSalePrice,u=e.SalePrice;return n&&t&&i?(0,a.jsx)(c,{saleMinPrice:n,saleMaxPrice:t,regularPriceRange:i}):n&&t?(0,a.jsx)(l,{maxPrice:t,minPrice:n}):r?i&&r!==i?(0,a.jsx)(u,{regularPrice:i,salePrice:r}):(0,a.jsx)(s,{price:r}):(0,a.jsx)(o,{})},s=n(704217);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){return null},f=void 0!==r?r:r=n(375882),h=function(e){var t=e.price,n=e.align;return(0,a.jsx)(i.X6,{color:"default",size:"400",align:n,children:t})},m=function(e){var t=e.minPrice,n=e.maxPrice,r=e.align;return(0,a.jsx)(i.X6,{color:"default",size:"400",align:r,children:"".concat(t,"-").concat(n)})},_=function(e){var t=e.salePrice,n=e.regularPrice,r=e.align;return(0,a.jsxs)(i.X6,{size:"400",align:r,children:[(0,a.jsx)("span",{style:{color:"#0074e8"},children:t})," ",(0,a.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:"".concat(n)})]})},g=function(e){var t=e.saleMinPrice,n=e.saleMaxPrice,r=e.regularPriceRange,o=e.align;return(0,a.jsxs)(i.X6,{size:"400",align:o,children:[(0,a.jsx)("span",{style:{color:"#0074e8"},children:"".concat(t,"-").concat(n)})," ",(0,a.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:"".concat(r)})]})};function y(e){var t=e.maxPrice,n=e.minPrice,r=e.price,i=e.standardPrice,o=e.align,s=e.NoPrice,c=e.RangedPrice,d=e.RangedSalePrice,f=e.RegularPrice,y=e.SalePrice;return s||(s=function(e){return(0,a.jsx)(p,u(u({},e),{},{align:o}))}),c||(c=function(e){return(0,a.jsx)(m,u(u({},e),{},{align:o}))}),d||(d=function(e){return(0,a.jsx)(g,u(u({},e),{},{align:o}))}),f||(f=function(e){return(0,a.jsx)(h,u(u({},e),{},{align:o}))}),y||(y=function(e){return(0,a.jsx)(_,u(u({},e),{},{align:o}))}),(0,a.jsx)(l,{maxPrice:t,minPrice:n,price:r,standardPrice:i,NoPrice:s,RegularPrice:f,RangedPrice:c,RangedSalePrice:d,SalePrice:y})}function v(e){var t,n,r,i,o,l,c,u=(0,s.useFragment)(f,e.graphqlRef),d=null==u?void 0:u.richMetadata,p=null==u?void 0:u.richSummary;return null!=d&&null!==(t=d.products)&&void 0!==t&&t[0]&&d.products[0].name&&d.products[0].offerSummary&&(c=d.products[0].offerSummary),!c&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offerSummary&&(c=p.products[0].offerSummary),(0,a.jsx)(y,{maxPrice:null===(r=c)||void 0===r?void 0:r.maxPrice,minPrice:null===(i=c)||void 0===i?void 0:i.minPrice,price:null===(o=c)||void 0===o?void 0:o.price,standardPrice:null===(l=c)||void 0===l?void 0:l.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function b(e){var t,n,r,i,l,s,c,u=(0,o.S6)()(e.pinId||""),d=null==u?void 0:u.rich_metadata,p=null==u?void 0:u.rich_summary;return null!=d&&null!==(t=d.products)&&void 0!==t&&t[0]&&d.products[0].name&&d.products[0].offer_summary&&(c=d.products[0].offer_summary),!c&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offer_summary&&(c=p.products[0].offer_summary),(0,a.jsx)(y,{maxPrice:null===(r=c)||void 0===r?void 0:r.max_price,minPrice:null===(i=c)||void 0===i?void 0:i.min_price,price:null===(l=c)||void 0===l?void 0:l.price,standardPrice:null===(s=c)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function x(e){return e.graphqlRef?(0,a.jsx)(v,u({},e)):(0,a.jsx)(b,u({},e))}},608226:function(e,t,n){"use strict";n.d(t,{H:function(){return X},Z:function(){return J}});var r,i=n(76911),o=n(506979),a=n(704217);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=void 0!==r?r:r=n(360157);function u(e){var t=e.domain,n=e.listBlocks,r=e.keyValueBlock,i=t?"".concat(t," ").concat("•"," "):"";i+=r.length?"".concat(r.join(", "),". "):"";var o,a=l(null!=n?n:[]);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.heading&&(i+=s.heading),s.blocks){var c,u=l(s.blocks);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.text&&(i+=" ".concat("•"," ").concat(d.text," "))}}catch(p){u.e(p)}finally{u.f()}}}}catch(p){a.e(p)}finally{a.f()}return i}var d=u,p=n(350948),f=n(923297);function h(e,t,n){switch(e){case 0:return function(e){var t=e.minutes,n=e.i18n;if(!t)return"";var r=(0,p.Ys)((0,f.X)({m:t}),n);if(!r)return"";var i=r.join(""),o=n.bt("Tempo de preparo", "Cook Time", "ideapin.basics.cookTime", undefined, true);return"".concat(o,": ").concat(i)}({minutes:parseInt(t,10),i18n:n});case 1:return function(e){var t=e.servingSize,n=e.i18n;return t?1===t?"".concat(t," ").concat(n.bt("porção", "serving", "ideapin.basics.servings", undefined, true)):"".concat(t," ").concat(n.bt("porções", "servings", "ideapin.basics.servings", undefined, true)):""}({servingSize:parseInt(t,10),i18n:n});case 2:return function(e){var t=e.difficulty,n=e.i18n,r=n.bt("Dificuldade", "Difficulty", "ideapin.basics.difficulty", undefined, true);return"".concat(r,": ").concat({1:"Easy",2:"Intermediate",3:"Expert"}[null!=t?t:"1"])}({difficulty:t,i18n:n});default:return""}}var m,_=n(561610),g=n(898781),y=n(773285),v=n(698734),b=n(908390),x=n(515198),P=["graphqlRef"],w=["pinId"],j=["graphqlRef","pinId"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var A="calc(100vw - ".concat(48,"px - ").concat(71,"px)"),I=void 0!==m?m:m=n(418133);function E(e){var t=e.anchorRef,n=e.onTap,r=e.previewText,i=(0,y.F)().checkExperiment;if(!r)return null;var o=i("mweb_h_action_bar").anyEnabled?"100%":A;return r.length<30?(0,x.jsx)(b.xu,{display:"flex",maxWidth:o,width:"fit-content",direction:"row",marginStart:4,marginEnd:4,children:(0,x.jsx)(b.xu,{ref:t,marginTop:2,children:(0,x.jsxs)(b.iP,{onTap:n,children:[(0,x.jsx)(b.xv,{inline:!0,color:"light",size:"100",children:r})," "]})})}):(0,x.jsx)(b.xu,{display:"flex",marginTop:2,marginStart:4,marginEnd:4,alignItems:"end",justifyContent:"start",maxWidth:o,dangerouslySetInlineStyle:{__style:{WebkitLineClamp:"2"}},ref:t,children:(0,x.jsx)(b.iP,{onTap:n,children:(0,x.jsx)(b.xv,{inline:!0,color:"light",size:"100",lineClamp:2,children:r})})})}function T(e){var t,n,r,i=e.graphqlRef,o=C(e,P),l=(0,g.ZP)(),s=(0,a.useFragment)(I,i),d=((null===(t=s.metadata)||void 0===t||null===(n=t.basics)||void 0===n?void 0:n.keyValueBlocks)||[]).map((function(e){return h(e.categoryType,e.value,l)})),p=function(e,t,n){var r=(0,a.useFragment)(c,e);return u({domain:t,keyValueBlock:n,listBlocks:null==r?void 0:r.listBlocks})}(null===(r=s.metadata)||void 0===r?void 0:r.basics,o.pinDomain,d.filter((function(e){return""!==e})));return(0,x.jsx)(E,O(O({},o),{},{previewText:p}))}function D(e){var t,n,r,i,o=e.pinId,a=C(e,w),l=(0,g.ZP)(),s=(0,v.N)(o),c=null==s?void 0:s.story_pin_data,u=((null==c||null===(t=c.metadata)||void 0===t||null===(n=t.basics)||void 0===n?void 0:n.key_value_blocks)||[]).map((function(e){return h(e.category_type,e.value,l)})),p=null==c||null===(r=c.metadata)||void 0===r||null===(i=r.basics)||void 0===i?void 0:i.list_blocks,f=d({domain:a.pinDomain,listBlocks:p,keyValueBlock:u.filter((function(e){return""!==e}))});return(0,x.jsx)(E,O(O({},a),{},{previewText:f}))}function z(e){var t=e.graphqlRef,n=e.pinId,r=C(e,j);return t?(0,x.jsx)(T,O({graphqlRef:t},r)):(0,x.jsx)(D,O({pinId:n},r))}var R,Z,L=n(535684),B=n(542777),M=["graphqlRef"],F=["graphqlRef"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=(G(Z={},5,"ingredients"),G(Z,6,"supplies"),Z),q=void 0!==R?R:R=n(695838);function X(e){var t=e.basics,n=e.linkData,r=e.i18n,i=null==t?void 0:t.list_blocks,o=((null==t?void 0:t.key_value_blocks)||[]).map((function(e){return h(e.category_type,e.value,r)})).filter((function(e){return""!==e}));return d({domain:null==n?void 0:n.domain,listBlocks:i,keyValueBlock:o})}var Y=function(e){var t,n,r=e.anchorRef,a=e.fullName,l=e.imageLargeUrl,s=e.imageMediumUrl,c=e.imageSmallUrl,u=e.storyPinData,d=e.username,p=e.pinDomain,f=e.pinLink,h=e.pinId,m=e.maybeGraphqlRef,g=(0,o.useSelector)((function(e){return e.feeds["story-pin-tagged-products"]}))||[],y=V((0,i.useState)(!1),2),v=y[0],b=y[1],P=(0,B.K)({storyPinPages:null==u?void 0:u.pages}),w=null==u||null===(t=u.metadata)||void 0===t?void 0:t.basics;return p&&f&&(n={domain:p,url:f}),v&&(!!P||!!w||g.length>0||!!n)?(0,x.jsx)(L.L.Consumer,{children:function(e){var t=e.isStoryPinWithProducts;return(0,x.jsx)(_.Z,{fullName:a,graphqlRef:m,imageLargeUrl:l,imageMediumUrl:s,imageSmallUrl:c,isOpen:v,link:n,hasListPage:!!P,listType:K[null==P?void 0:P.layout]||null,onDismiss:function(){return b(!1)},pinId:null!=h?h:"",taggedProducts:t&&g?g:[],username:d})}}):(0,x.jsx)(z,{anchorRef:r,onTap:function(){return b(!0)},pinDomain:p,pinId:null!=h?h:"",graphqlRef:null==m?void 0:m.storyPinData})};function $(e){var t=e.graphqlRef,n=H(e,M),r=(0,a.useFragment)(q,t);return(0,x.jsx)(Y,U(U({},n),{},{maybeGraphqlRef:r,pinDomain:r.domain,pinLink:r.link,storyPinData:r.storyPinData}))}function Q(e){var t=(0,v.N)(e.pinId),n=null==t?void 0:t.story_pin_data;return(0,x.jsx)(Y,U(U({},e),{},{pinDomain:null==t?void 0:t.domain,pinLink:null==t?void 0:t.link,storyPinData:n,maybeGraphqlRef:null}))}function J(e){var t=e.graphqlRef,n=H(e,F);return t?(0,x.jsx)($,U({graphqlRef:t},n)):(0,x.jsx)(Q,U({},n))}},35919:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r,i=n(116303),o=n(856306),a=n(898781),l=n(112690),s=n(349700),c=n(350948),u=n(923297),d=n(350118),p=n(50286),f=n(908390),h=n(704217),m=n(515198),_=["pinId"],g=["graphqlRef","pinId"],y=["graphqlRef"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w=function(e){var t=e.minutes,n=(0,a.ZP)(),r=(0,c.Ys)((0,u.X)({m:t}),n);return(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xv,{size:"200",weight:"bold",inline:!0,children:n.bt("Tempo de preparo: ", "Cook Time: ", "closeup.storyPin.basicsLayout.cookTime.label", undefined, true)}),(0,m.jsx)(f.xv,{size:"200",inline:!0,children:r})]})},j=function(e){var t=e.servingSize,n=(0,a.ZP)();return(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xv,{size:"200",weight:"bold",inline:!0,children:n.bt("Tamanho da porção: ", "Serving Size: ", "closeup.storyPin.basicsLayout.servingSize.label", undefined, true)}),(0,m.jsx)(f.xv,{size:"200",inline:!0,children:(0,s.nk)(n.nbt(["{{servingSize}} porção", "{{servingSize}} porções"], t, "number of servings for a recipe", true),{servingSize:t})})]})},S=function(e){var t=e.difficulty,n=(0,a.ZP)(),r={1:n.bt("Fácil", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:n.bt("Intermediário", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:n.bt("Especialista", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)};return(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xv,{size:"200",weight:"bold",inline:!0,children:n.bt("Dificuldade: ", "Difficulty: ", "closeup.storyPin.basicsLayout.difficulty.label", undefined, true)}),(0,m.jsx)(f.xv,{size:"200",inline:!0,children:r[null!=t?t:"1"]})]})},O=void 0!==r?r:r=n(778067);function k(e){var t=e.fullName,n=e.keyValueBlocks,r=e.imageLargeUrl,s=e.imageMediumUrl,c=e.imageSmallUrl,u=e.link,d=e.listBlocks,h=e.pinId,_=e.title,g=e.username,y=(0,a.ZP)(),v=(0,l.Z)(),b=(0,p.HG)(),x=(0,o.ZP)({clickthroughInterstitialExperience:null,pinId:null!=h?h:""}),P=(n||[]).map((function(e){var t;return function(e,t){switch(e){case 0:var n=parseInt(t,10);return n?(0,m.jsx)(w,{minutes:n}):null;case 1:var r=parseInt(t,10);return(0,m.jsx)(j,{servingSize:r});case 2:return(0,m.jsx)(S,{difficulty:t});default:return null}}(null!==(t=e.categoryType)&&void 0!==t?t:e.category_type,e.value)})).filter((function(e){return null!=e}));return(0,m.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!b&&(0,m.jsxs)(f.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",paddingY:4,children:[u&&(0,m.jsx)(f.xu,{marginBottom:2,"data-test-id":"link",children:(0,m.jsx)(f.rU,{href:u.url,target:"blank",underline:"always",onClick:function(){v({view_type:132,view_parameter:3549,element:12971,event_type:102,aux_data:{pin_id:h,url:null==u?void 0:u.url}}),x()},children:(0,m.jsx)(f.xv,{children:u.domain})})}),(0,m.jsx)(f.X6,{align:"center",size:"500",children:_}),(0,m.jsxs)(f.iP,{fullWidth:!1,href:"/".concat(g,"/"),role:"link",children:[(0,m.jsx)(f.xu,{padding:2,children:(0,m.jsx)(f.xu,{height:44,width:44,children:(0,m.jsx)(i.Z,{name:null!=t?t:"",size:"fit",src:r||s||c||void 0})})}),(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xv,{inline:!0,size:"300",children:y.bt("Por", "By", "closeup.storyPin.basicsLayout.publishedBy.label", undefined, true)})," ",(0,m.jsx)(f.xv,{inline:!0,size:"300",weight:"bold",children:t})]})]})]}),(0,m.jsxs)(f.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(f.xu,{paddingY:2,children:P.map((function(e,t){return(0,m.jsx)(f.xu,{display:"flex",paddingY:1,children:e},"$keyValue-".concat(t,"-information"))}))}),(d||[]).map((function(e,t){var n;return(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xv,{size:"200",weight:"bold",children:e.heading}),(0,m.jsx)("ul",{children:(null!==(n=e.blocks)&&void 0!==n?n:[]).map((function(t,n){return(0,m.jsxs)("li",{style:{display:"table-row"},children:[(0,m.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:(0,m.jsx)(f.xv,{size:"200",children:"•"})}),(0,m.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,m.jsx)(f.xv,{size:"200",overflow:"normal",children:t.text?t.text:""})})]},"item-".concat(n,"-").concat(e.heading||"empty"))}))},"".concat(e.heading||"empty","-").concat(t,"-list"))]},"".concat(e.heading||"empty","-").concat(t,"-listHeading"))}))]})]})}function C(e){var t,n,r=e.pinId,i=P(e,_),o=(0,d.S6)()(r),a=(null==o||null===(t=o.story_pin_data)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.basics)||{},l=a.key_value_blocks,s=a.list_blocks;return(0,m.jsx)(k,b(b({},i),{},{pinId:r,keyValueBlocks:l,listBlocks:s}))}function A(e){var t,n,r=e.graphqlRef,i=e.pinId,o=P(e,g),a=(null===(t=(0,h.useFragment)(O,r).storyPinData)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.basics)||{};return(0,m.jsx)(k,b(b({},o),{},{pinId:i,keyValueBlocks:a.keyValueBlocks,listBlocks:a.listBlocks}))}function I(e){var t=e.graphqlRef,n=P(e,y);return t?(0,m.jsx)(A,b({graphqlRef:t},n)):(0,m.jsx)(C,b({},n))}},542777:function(e,t,n){"use strict";n.d(t,{Z:function(){return j},K:function(){return b}});var r,i=n(413625),o=n(908390),a=n(515198),l=function(e){var t=e.name,n=void 0===t?"":t,r=e.unit,i=void 0===r?"":r,l=e.amt,s=void 0===l?"":l;return(0,a.jsxs)("li",{style:{display:"table-row"},children:[(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:20}},children:!!s&&(0,a.jsx)(o.xu,{marginStart:6,children:(0,a.jsxs)(o.xv,{size:"200",weight:"bold",children:[s," ",i]})})}),(0,a.jsx)(o.xu,{width:"70%",dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,a.jsx)(o.xv,{size:"200",children:n})})]})},s=n(898781),c=n(349700),u=n(350118),d=n(704217),p=["graphqlRef"],f=["pinId"],h=["graphqlRef","pinId"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var v=void 0!==r?r:r=n(56637),b=function(e){var t=e.storyPinPages,n=null!=t&&t[1]&&5===t[1].layout?t[1]:null,r=null!=t&&t[1]&&6===t[1].layout?t[1]:null;return n||r},x=function(e){var t=e.listPage,n=e.listType,r=e.storyPinMetadataTemplateType,u=e.storyPinMetadataRecipeData,d=(0,s.ZP)();if(!t)return null;var p=t.blocks,f="ingredients"===n?(0,i.Z)({i18n:d,storyPinMetadataRecipeData:u,storyPinMetadataTemplateType:r}):null,h=f?f.servingSize:null,m=h?(0,c.nk)(d.nbt(["{{servingSize}} porção", "{{servingSize}} porções"], h, "closeup.storyPin.listModal.ingredients.servings", true),{servingSize:h}):null;return(0,a.jsxs)(o.xu,{children:[(0,a.jsxs)(o.xu,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",marginTop:7,children:[(0,a.jsx)(o.X6,{size:"400",overflow:"normal",children:"ingredients"===n?d.bt("Ingredientes", "Ingredients", "closeup.storyPin.listModal.ingredients", undefined, true):d.bt("Materiais", "Supplies", "closeup.storyPin.listModal.supplies", undefined, true)}),m&&(0,a.jsx)(o.xu,{marginBottom:4,children:(0,a.jsx)(o.xv,{color:"subtle",children:m})})]}),(0,a.jsx)("ul",{style:{padding:0},children:(null!=p?p:[]).map((function(e,t){var n=e.name,r=e.unit,i=e.amt;return(0,a.jsx)(l,{name:n,unit:r,amt:i},n||t)}))})]})};function P(e){var t=e.graphqlRef,n=y(e,p),r=(0,d.useFragment)(v,t),i=b({storyPinPages:r.pages});return(0,a.jsx)(x,_(_({},n),{},{listPage:i}))}function w(e){var t,n=e.pinId,r=y(e,f),i=(0,u.S6)()(n),o=b({storyPinPages:null==i||null===(t=i.story_pin_data)||void 0===t?void 0:t.pages});return(0,a.jsx)(x,_(_({},r),{},{listPage:o}))}function j(e){var t=e.graphqlRef,n=e.pinId,r=y(e,h);return t?(0,a.jsx)(P,_({graphqlRef:t},r)):(0,a.jsx)(w,_({pinId:n},r))}},561610:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(506979),i=n(121151),o=n(35919),a=n(542777),l=n(63536),s=n(883561),c=n(908390),u=n(515198);function d(e){var t,n,r,i=e.imageSize,o=e.index,a=e.pin,d=a.grid_title,p=a.images,f=a.rich_summary,h=(p||{})["236x"]||{},m=(((f||{}).products||[])[0]||{}).offer_summary||{}||{},_=m.price,g=m.max_price;return(0,u.jsx)(c.xu,{width:i,marginEnd:o%2==0?2:0,marginTop:4,children:(0,u.jsxs)(c.iP,{role:"link",href:"/pin/".concat(a.id),rounding:4,tapStyle:"none",children:[(0,u.jsx)(c.xu,{rounding:5,overflow:"hidden",width:i,maxWidth:176,maxHeight:176,children:(0,u.jsx)(c.zd,{wash:!0,height:i,width:i,children:(0,u.jsx)(c.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:null!==(t=h.height)&&void 0!==t?t:1,naturalWidth:null!==(n=h.width)&&void 0!==n?n:1,src:null!==(r=h.url)&&void 0!==r?r:""})})}),(!!_||!!g)&&(0,u.jsx)(c.xu,{marginTop:2,children:(0,u.jsx)(l.ZP,{pinId:a.id,graphqlRef:null})}),!!d&&(0,u.jsx)(c.xu,{marginTop:1,children:(0,u.jsx)(c.xv,{size:"100",children:(0,s.ZP)(d,40)})})]})})}var p,f=n(898781),h=n(350118),m=n(704217),_=["graphqlRef"],g=["graphqlRef"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var P="calc((100vw - (".concat(12,"px * 3)) / 2)"),w=void 0!==p?p:p=n(323267),j=function(e){var t=e.fullName,n=e.hasStoryPinMetadataBasics,l=e.imageLargeUrl,s=e.imageMediumUrl,p=e.imageSmallUrl,h=e.isOpen,m=e.link,_=e.hasListPage,g=e.listType,y=e.onDismiss,v=e.pinId,b=e.pinTitle,x=e.storyPinMetadataRecipeData,w=e.storyPinMetadataTemplateType,j=e.taggedProducts,S=e.username,O=e.maybeGraphqlRef,k=(0,f.ZP)(),C=(0,r.useSelector)((function(e){return e.pins})),A=j.length<20&&j.length%2!=0;return(0,u.jsx)(i.ZP,{accessibilityModalLabel:"",isOpen:h,onDismiss:y,type:"story_pin_list",mobileAccessibilityCloseIconLabel:k.bt("Fechar", "Close", "StoryPin.Modal", undefined, true),children:(0,u.jsx)(c.xu,{padding:3,children:(0,u.jsx)(c.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,u.jsxs)(c.xu,{flex:"grow",overflow:"scrollY",maxHeight:500,width:"100vw",paddingX:4,children:[(n||m)&&(0,u.jsx)(o.Z,{fullName:t,graphqlRef:null,imageLargeUrl:l,imageMediumUrl:s,imageSmallUrl:p,link:m,pinId:null!=v?v:"",title:b,username:S}),!!_&&(0,u.jsx)(c.xu,{"data-test-id":"story-pin-basics",children:(0,u.jsx)(a.Z,{pinId:v,listType:g,storyPinMetadataRecipeData:x,storyPinMetadataTemplateType:w,graphqlRef:O})}),(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",wrap:!0,children:[j.length>0&&j.map((function(e,t){return(0,u.jsx)(d,{imageSize:P,index:t,pin:C[e.id]},e.id)})),A&&(0,u.jsx)(c.xu,{width:P})]})]})})})})};function S(e){var t,n,r,i,o,a,l,s=e.graphqlRef,c=x(e,_),d=(0,m.useFragment)(w,s),p=d.storyPinData,f=Boolean(null==p||null===(t=p.metadata)||void 0===t?void 0:t.basics),h=null==p||null===(n=p.metadata)||void 0===n?void 0:n.recipeData;return(0,u.jsx)(j,v(v({},c),{},{hasStoryPinMetadataBasics:f,pinTitle:null!==(r=d.title)&&void 0!==r?r:"",storyPinMetadataRecipeData:{cooking_time:null!==(i=null==h?void 0:h.cookingTime)&&void 0!==i?i:0,prep_time:null!==(o=null==h?void 0:h.prepTime)&&void 0!==o?o:0,serving_size:null!==(a=null==h?void 0:h.servingSize)&&void 0!==a?a:0},storyPinMetadataTemplateType:null==p||null===(l=p.metadata)||void 0===l?void 0:l.templateType,maybeGraphqlRef:d.storyPinData}))}function O(e){var t,n,r,i,o=(0,h.S6)()(e.pinId),a=null==o?void 0:o.story_pin_data,l=Boolean((null==a||null===(t=a.metadata)||void 0===t?void 0:t.basics)&&Object.keys(a.metadata.basics).length>0);return(0,u.jsx)(j,v(v({},e),{},{hasStoryPinMetadataBasics:l,pinTitle:null!==(n=null==o?void 0:o.title)&&void 0!==n?n:"",storyPinMetadataRecipeData:null==a||null===(r=a.metadata)||void 0===r?void 0:r.recipe_data,storyPinMetadataTemplateType:null==a||null===(i=a.metadata)||void 0===i?void 0:i.template_type,maybeGraphqlRef:null}))}function k(e){var t=e.graphqlRef,n=x(e,g);return t?(0,u.jsx)(S,v({graphqlRef:t},n)):(0,u.jsx)(O,v({},n))}},413625:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(350948),i=n(923297);function o(e){var t=e.i18n,n=e.storyPinMetadataTemplateType,o=e.storyPinMetadataRecipeData;if(!o||1!==n)return null;var a=o.cooking_time,l=o.prep_time,s=o.serving_size,c=void 0===s?null:s,u="number"==typeof a&&"number"==typeof l?a+l:0;return{timeLabel:u?(0,r.Ys)((0,i.X)({m:u}),t):null,servingSize:c}}},854907:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t,n=[],i="",o=r(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(i){var l=!!a.match(/\s/),s=!!i.match(/\s/);if(l===s)i+=a;else if(!s&&i.includes("-")){for(var c=0,u=0;u<i.length;u+=1)"-"===i[u]&&(n.push(i.substring(c,u+1)),c=u+1);n.push(i.substring(c)),i=a}else n.push(i),i=a}else i=a}}catch(d){o.e(d)}finally{o.f()}return i.length&&n.push(i),n}function a(e){var t,n,i=e.font,a=e.fontSize,l=e.textList,s=e.width;if("undefined"==typeof document||!document.body||s<=0||a<=0)return[];var c=document.body,u=document.createElement("div");c.appendChild(u);var d=null!=(null===(t=i.fontOverrides)||void 0===t?void 0:t.letterSpacing)?"".concat(i.fontOverrides.letterSpacing,"px"):void 0,p=(null===(n=i.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1,f={letterSpacing:d,lineHeight:String(p),fontFamily:i.fontFamily,fontSize:"".concat(a,"px"),visibility:"hidden"};Object.assign(u.style,f);var h=document.createElement("div");h.style.display="inline",u.appendChild(h);var m=document.createTextNode("");h.appendChild(m);var _,g=[],y="",v=function(e){var t=e.trim();return m.textContent=t,{text:t,width:h.offsetWidth}},b=function e(t){var n=!!t.match(/\s/),i=0===y.length;if(m.textContent="".concat(y).concat(t),h.offsetWidth>s)if(n)g.push(v(y)),y="";else if(i){var o,a=r(t);try{for(a.s();!(o=a.n()).done;){e(o.value)}}catch(l){a.e(l)}finally{a.f()}}else g.push(v(y)),y="",e(t);else y+=t},x=r(null!=l?l:[]);try{for(x.s();!(_=x.n()).done;){var P=_.value;0===P.length&&g.push(v(y)),o(P).forEach((function(e){return b(e)})),y.length&&(g.push(v(y)),y="")}}catch(w){x.e(w)}finally{x.f()}return h.remove(),u.remove(),g}function l(e){var t,n,r=e.boxHeight,i=e.boxWidth,o=e.font,l=e.startFontSize,s=e.text;if("undefined"==typeof document||!document.body)return{fontSize:l,lines:[]};var c=document.body,u=document.createElement("div");c.appendChild(u);var d=null==s?void 0:s.split(/\r?\n/g),p=l,f=null!=(null===(t=o.fontOverrides)||void 0===t?void 0:t.letterSpacing)?"".concat(o.fontOverrides.letterSpacing,"px"):void 0,h=(null===(n=o.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1,m={letterSpacing:f,lineHeight:String(h),fontFamily:o.fontFamily,fontSize:"".concat(p,"px"),position:"absolute",visibility:"hidden",width:"".concat(i,"px")};Object.assign(u.style,m);var _=document.createElement("div");for(_.style.display="inline",u.appendChild(_),(null!=d?d:[]).forEach((function(e,t){var n=document.createElement("span");n.style.wordBreak="break-word",_.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=s?s:"").length-1&&n.appendChild(document.createElement("br"))}));(_.offsetHeight>r||_.offsetWidth>i)&&p>0;)p-=1,u.style.fontSize="".concat(p,"px");return _.remove(),u.remove(),{fontSize:p,lines:p>0?a({font:o,fontSize:p,textList:d,width:i}):[]}}n.d(t,{K:function(){return l},Y:function(){return o}})},296342:function(e,t,n){"use strict";n.d(t,{Ei:function(){return u},Lh:function(){return h},S8:function(){return s},U:function(){return p},Zy:function(){return l},dD:function(){return o},eE:function(){return c},er:function(){return f},j7:function(){return m},n5:function(){return a},q8:function(){return d},xH:function(){return i}});var r=n(224496),i=1048576,o=3,a=20,l=3,s=100,c=75,u=10,d=375,p=d/r.ap,f=1200,h="#FFFFFF",m={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"}},540923:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(76911),i=n(898781),o=n(908390),a=n(882801),l=n(515198);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e){return 0===e?0:2},m=function(e){var t=e.children,n=e.dangerouslySetInlineStyle,r=e.marginTop;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:n,"data-test-id":"structured-description",marginTop:r,children:t})},_=function(e){var t=e.content,n=e.order,r=e.type;if(!t)return null;var i=r===a.X0.HEADER,s=[a.X0.HEADER,a.X0.BOLD].includes(r),c=n>0&&i?4:h(n);return(0,l.jsx)(m,{marginTop:c,children:(0,l.jsx)(o.xv,{size:"200",weight:s?"bold":"normal",children:t})})},g=function(e){var t=e.content,n=e.order;return t?(0,l.jsx)(m,{marginTop:h(n),children:t}):null},y=function(e){var t=e.content,n=e.order;return Array.isArray(t)&&0!==t.length?(0,l.jsx)(m,{marginTop:h(n),children:t.map((function(e){return(0,l.jsxs)(o.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,l.jsx)(o.xv,{size:"200",weight:"bold",inline:!0,children:"·"}),(0,l.jsx)(o.xu,{marginStart:1,children:(0,l.jsx)(o.xv,{size:"200",children:e})})]},e)}))}):null},v=function(e){var t=e.accessibilityLabel,n=e.content,r=e.order;return n&&"object"===f(n)?(0,l.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:h(r),children:(0,l.jsx)(o.iA,{accessibilityLabel:t,children:(0,l.jsx)(o.iA.Body,{children:Object.entries(n).map((function(e,t){var n=d(e,2),r=n[0],i=n[1];return(0,l.jsxs)(o.iA.Row,{children:[(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",weight:"bold",children:r})}),(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",children:String(i)})})]},t)}))})})}):null},b=function(e){var t=e.accessibilityLabel,n=e.content,r=e.order;if(!Array.isArray(n)||n.length<2)return null;var i=n[0],a=n.slice(1);return(0,l.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:h(r),children:(0,l.jsxs)(o.iA,{accessibilityLabel:t,children:[(0,l.jsx)(o.iA.Header,{children:(0,l.jsx)(o.iA.Row,{children:i.map((function(e,t){return(0,l.jsx)(o.iA.HeaderCell,{children:(0,l.jsx)(o.xv,{size:"100",weight:"bold",children:e})},t)}))})}),(0,l.jsx)(o.iA.Body,{children:a.map((function(e,t){return(0,l.jsx)(o.iA.Row,{children:e.map((function(e,t){return(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",children:e})},t)}))},t)}))})]})})},x=function(e){var t=(0,i.ZP)();switch(e.type){case a.X0.POINTS:return(0,l.jsx)(y,c({},e));case a.X0.SPECS:return(0,l.jsx)(v,c({accessibilityLabel:t.bt("Visualização detalhada da descrição", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true)},e));case a.X0.TABLE:return(0,l.jsx)(b,c({accessibilityLabel:t.bt("Visualização da descrição em formato de tabela", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true)},e));case a.X0.ELEMENT:return(0,l.jsx)(g,c({},e));default:return(0,l.jsx)(_,c({},e))}};function P(e){var t=e.descriptions,n=e.onLoad;return(0,r.useEffect)((function(){"function"==typeof n&&n()}),[n]),0===t.length?null:t.map((function(e,t){var n=e.content,r=e.type;return(0,l.jsx)(x,{content:n,order:t,type:r},t)}))}},882801:function(e,t,n){"use strict";n.d(t,{Eh:function(){return l},X0:function(){return o},fv:function(){return a},jo:function(){return s}});var r=n(908390),i=n(515198),o={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=function(e){var t,n=null==e||null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]},l=function(e){return Array.isArray(e)?e.map((function(e){var t=e.name,n=void 0===t?"":t,a=e.values,l=void 0===a?[]:a;return{content:(0,i.jsxs)(r.xv,{size:"200",children:[(0,i.jsx)("b",{children:n}),l.join(", ")]}),type:o.ELEMENT}})):[]},s=function(e){var t=e.components,n=e.pinDescription;return t&&0!==t.length?t:[{content:n,type:o.PARAGRAPH}]}},109892:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(506979),i=n(6637),o=n(332611),a=n(886858),l=n(379725),s=n(414327),c=n(833314);function u(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function d(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.resources}));return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var u,d,p,f,h,m,_,g,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p=r.boardCreateOptions,f=r.deprecatedSchemaForNormalization,n.next=3,i.Z.create("BoardResource",p).callCreate();case 3:return h=n.sent,m=null===(u=h.resource_response)||void 0===u?void 0:u.data,_=f?(0,c.Fv)(m,f):void 0,e((0,s.XM)("BoardResource",p,h,_)),e((0,o.fO)({event_type:20})),null!==(d=m.owner)&&void 0!==d&&d.id&&e((0,l.b)("UserResource",{options:{user_id:m.owner.id,field_set_key:"save_behavior"}})),g=t.BoardsResource||{},y=t.BoardsFeedResource||{},Object.keys(g).forEach((function(t){var n;(0,a.k)(t).username===(null===(n=m.owner)||void 0===n?void 0:n.username)&&e((0,s.jB)("BoardsResource",t))})),Object.keys(y).forEach((function(t){var n;(0,a.k)(t).username===(null===(n=m.owner)||void 0===n?void 0:n.username)&&e((0,s.jB)("BoardsFeedResource",t))})),n.abrupt("return",m);case 14:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},845620:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n(951800)(e.__opts__),r=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var s=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?o(n.validate)?r.validate=n.validate:c(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?c(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,l,s;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(i=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},951800:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(808062).source,t.src_Cc=n(933035).source,t.src_Z=n(962876).source,t.src_P=n(741429).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},763769:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},933035:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},741429:function(e){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},962876:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},808062:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},610248:function(e){"use strict";e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},function(e){e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5),e.O(0,[63577],(function(){[97270,34685,78120,2807,43473,67419,46760,92982,48035,5035,9013,22347,22538,1593].map(e.E)}),5);var t=function(t){return e(e.s=t)};e.O(0,[97270,8390,71827,91178,10339,6897,10782,56554,34012],(function(){return t(274585),t(225634),t(124082),t(313655),t(284357),t(130905)}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]-authdesktop.pt_BR-898c456ecbf03694.js.map